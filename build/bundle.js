var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function o(t){return t()}function s(){return Object.create(null)}function i(t){t.forEach(o)}function a(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function c(t,e,n){t.$$.on_destroy.push(l(e,n))}function u(t,e,n,o){if(t){const s=d(t,e,n,o);return t[0](s)}}function d(t,e,o,s){return t[1]&&s?n(o.ctx.slice(),t[1](s(e))):o.ctx}function p(t,e,n,o,s,i,a){const r=function(t,e,n,o){if(t[2]&&o){const s=t[2](o(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|s[o];return t}return e.dirty|s}return e.dirty}(e,o,s,i);if(r){const s=d(e,n,o,a);t.p(s,r)}}function f(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function h(t){return null==t?"":t}function g(t,e,n=e){return t.set(n),e}const m="undefined"!=typeof window;let b=m?()=>window.performance.now():()=>Date.now(),v=m?t=>requestAnimationFrame(t):t;const $=new Set;function y(t){$.forEach((e=>{e.c(t)||($.delete(e),e.f())})),0!==$.size&&v(y)}function w(t){let e;return 0===$.size&&v(y),{promise:new Promise((n=>{$.add(e={c:t,f:n})})),abort(){$.delete(e)}}}function x(t,e){t.appendChild(e)}function k(t,e,n){t.insertBefore(e,n||null)}function q(t){t.parentNode.removeChild(t)}function _(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function E(t){return document.createElement(t)}function S(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function O(t){return document.createTextNode(t)}function L(){return O(" ")}function R(){return O("")}function C(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function j(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function N(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function I(t,e){for(const n in e)N(t,n,e[n])}function T(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function A(t,e,n){const o=new Set;for(let e=0;e<t.length;e+=1)t[e].checked&&o.add(t[e].__value);return n||o.delete(e),Array.from(o)}function P(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function M(t,e){t.value=null==e?"":e}function z(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}}function H(t,e,n){t.classList[n?"add":"remove"](e)}const U=new Set;let D,W=0;function F(t,e,n,o,s,i,a,r=0){const l=16.666/o;let c="{\n";for(let t=0;t<=1;t+=l){const o=e+(n-e)*i(t);c+=100*t+`%{${a(o,1-o)}}\n`}const u=c+`100% {${a(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${r}`,p=t.ownerDocument;U.add(p);const f=p.__svelte_stylesheet||(p.__svelte_stylesheet=p.head.appendChild(E("style")).sheet),h=p.__svelte_rules||(p.__svelte_rules={});h[d]||(h[d]=!0,f.insertRule(`@keyframes ${d} ${u}`,f.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${d} ${o}ms linear ${s}ms 1 both`,W+=1,d}function B(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),s=n.length-o.length;s&&(t.style.animation=o.join(", "),W-=s,W||v((()=>{W||(U.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),U.clear())})))}function V(t){D=t}function G(){if(!D)throw new Error("Function called outside component initialization");return D}function K(t,e){G().$$.context.set(t,e)}function Y(t){return G().$$.context.get(t)}const J=[],X=[],Q=[],Z=[],tt=Promise.resolve();let et=!1;function nt(t){Q.push(t)}function ot(t){Z.push(t)}let st=!1;const it=new Set;function at(){if(!st){st=!0;do{for(let t=0;t<J.length;t+=1){const e=J[t];V(e),rt(e.$$)}for(V(null),J.length=0;X.length;)X.pop()();for(let t=0;t<Q.length;t+=1){const e=Q[t];it.has(e)||(it.add(e),e())}Q.length=0}while(J.length);for(;Z.length;)Z.pop()();et=!1,st=!1,it.clear()}}function rt(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(nt)}}let lt;function ct(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const ut=new Set;let dt;function pt(){dt={r:0,c:[],p:dt}}function ft(){dt.r||i(dt.c),dt=dt.p}function ht(t,e){t&&t.i&&(ut.delete(t),t.i(e))}function gt(t,e,n,o){if(t&&t.o){if(ut.has(t))return;ut.add(t),dt.c.push((()=>{ut.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const mt={duration:0};function bt(n,o,s,r){let l=o(n,s),c=r?0:1,u=null,d=null,p=null;function f(){p&&B(n,p)}function h(t,e){const n=t.b-c;return e*=Math.abs(n),{a:c,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function g(o){const{delay:s=0,duration:a=300,easing:r=e,tick:g=t,css:m}=l||mt,v={start:b()+s,b:o};o||(v.group=dt,dt.r+=1),u||d?d=v:(m&&(f(),p=F(n,c,o,a,s,r,m)),o&&g(0,1),u=h(v,a),nt((()=>ct(n,o,"start"))),w((t=>{if(d&&t>d.start&&(u=h(d,a),d=null,ct(n,u.b,"start"),m&&(f(),p=F(n,c,u.b,u.duration,0,r,l.css))),u)if(t>=u.end)g(c=u.b,1-c),ct(n,u.b,"end"),d||(u.b?f():--u.group.r||i(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;c=u.a+u.d*r(e/u.duration),g(c,1-c)}return!(!u&&!d)})))}return{run(t){a(l)?(lt||(lt=Promise.resolve(),lt.then((()=>{lt=null}))),lt).then((()=>{l=l(),g(t)})):g(t)},end(){f(),u=d=null}}}function vt(t,e){const n={},o={},s={$$scope:1};let i=t.length;for(;i--;){const a=t[i],r=e[i];if(r){for(const t in a)t in r||(o[t]=1);for(const t in r)s[t]||(n[t]=r[t],s[t]=1);t[i]=r}else for(const t in a)s[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function $t(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function yt(t){t&&t.c()}function wt(t,e,n){const{fragment:s,on_mount:r,on_destroy:l,after_update:c}=t.$$;s&&s.m(e,n),nt((()=>{const e=r.map(o).filter(a);l?l.push(...e):i(e),t.$$.on_mount=[]})),c.forEach(nt)}function xt(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function kt(t,e){-1===t.$$.dirty[0]&&(J.push(t),et||(et=!0,tt.then(at)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function qt(e,n,o,a,r,l,c=[-1]){const u=D;V(e);const d=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:r,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:s(),dirty:c,skip_bound:!1};let p=!1;if(d.ctx=o?o(e,n.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return d.ctx&&r(d.ctx[t],d.ctx[t]=s)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](s),p&&kt(e,t)),n})):[],d.update(),p=!0,i(d.before_update),d.fragment=!!a&&a(d.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);d.fragment&&d.fragment.l(t),t.forEach(q)}else d.fragment&&d.fragment.c();n.intro&&ht(e.$$.fragment),wt(e,n.target,n.anchor),at()}V(u)}class _t{$destroy(){xt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Et(t,{delay:n=0,duration:o=400,easing:s=e}={}){const i=+getComputedStyle(t).opacity;return{delay:n,duration:o,easing:s,css:t=>"opacity: "+t*i}}function St(e){let n,o;return{c(){n=S("g"),o=S("path"),N(o,"d","m0 0v-18.458c-1.413 4.022-3.659 7.558-6.696 10.468-2.68 2.567-5.893 4.559-9.551 5.921-3.719 1.385-7.82 2.087-12.188 2.087l-25.269 4e-3v-18.3c-1.478 3.702-3.701 7.102-6.604 10.005-5.622 5.622-13.096 8.718-21.046 8.718-7.951 0-15.425-3.096-21.046-8.718-5.622-5.622-8.718-13.096-8.718-21.046s3.096-15.425 8.718-21.046c5.621-5.622 13.095-8.718 21.046-8.718 7.95 0 15.424 3.096 21.046 8.718 2.903 2.903 5.126 6.303 6.604 10.005v-18.257l25.269 4e-3c4.368 0 8.469 0.702 12.188 2.087 3.658 1.362 6.871 3.354 9.551 5.921 3.037 2.91 5.283 6.445 6.696 10.467v-18.501h27.78v58.639z"),N(o,"class","svelte-12b2jxh"),N(n,"transform","translate(72 -21)")},m(t,e){k(t,n,e),x(n,o)},p:t,i:t,o:t,d(t){t&&q(n)}}}class Ot extends _t{constructor(t){super(),qt(this,t,null,St,r,{})}}function Lt(t,e,n){const o=t.slice();return o[5]=e[n],o}function Rt(e){let n;return{c(){n=S("ellipse"),N(n,"cy",Math.floor(e[5]/5)),N(n,"cx",e[5]%5),N(n,"rx",.5+2*e[1])},m(t,e){k(t,n,e)},p:t,d(t){t&&q(n)}}}function Ct(t){let e,n,o,s,i,a,r=Array(t[2]*t[3]).fill(null).map(jt),l=[];for(let e=0;e<r.length;e+=1)l[e]=Rt(Lt(t,r,e));return i=new Ot({}),{c(){e=S("g");for(let t=0;t<l.length;t+=1)l[t].c();n=S("rect"),o=L(),s=S("g"),yt(i.$$.fragment),N(n,"width",t[2]-1),N(n,"height",t[3]-1),N(e,"class","cloud svelte-xblbpv"),N(e,"transform","scale("+t[0]+") translate(0.5 0.5)"),N(s,"transform","translate(0 -20) scale(0.5)")},m(t,r){k(t,e,r);for(let t=0;t<l.length;t+=1)l[t].m(e,null);x(e,n),k(t,o,r),k(t,s,r),wt(i,s,null),a=!0},p(t,[o]){if(14&o){let s;for(r=Array(t[2]*t[3]).fill(null).map(jt),s=0;s<r.length;s+=1){const i=Lt(t,r,s);l[s]?l[s].p(i,o):(l[s]=Rt(i),l[s].c(),l[s].m(e,n))}for(;s<l.length;s+=1)l[s].d(1);l.length=r.length}},i(t){a||(ht(i.$$.fragment,t),a=!0)},o(t){gt(i.$$.fragment,t),a=!1},d(t){t&&q(e),_(l,t),t&&q(o),t&&q(s),xt(i)}}}const jt=(t,e)=>e;function Nt(t){const{spacing:e,overlap:n,columns:o,rows:s,topMargin:i}=Y("canvasConfig");return[e,n,o,s]}class It extends _t{constructor(t){super(),qt(this,t,Nt,Ct,r,{})}}const Tt=[];function At(t,e){return{subscribe:Pt(t,e).subscribe}}function Pt(e,n=t){let o;const s=[];function i(t){if(r(e,t)&&(e=t,o)){const t=!Tt.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),Tt.push(n,e)}if(t){for(let t=0;t<Tt.length;t+=2)Tt[t][0](Tt[t+1]);Tt.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(a,r=t){const l=[a,r];return s.push(l),1===s.length&&(o=n(i)||t),a(e),()=>{const t=s.indexOf(l);-1!==t&&s.splice(t,1),0===s.length&&(o(),o=null)}}}}function Mt(e,n,o){const s=!Array.isArray(e),r=s?[e]:e,c=n.length<2;return At(o,(e=>{let o=!1;const u=[];let d=0,p=t;const f=()=>{if(d)return;p();const o=n(s?u[0]:u,e);c?e(o):p=a(o)?o:t},h=r.map(((t,e)=>l(t,(t=>{u[e]=t,d&=~(1<<e),o&&f()}),(()=>{d|=1<<e}))));return o=!0,f(),function(){i(h),p()}}))}function zt(t){return"[object Date]"===Object.prototype.toString.call(t)}function Ht(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>Ht(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(zt(t)&&zt(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),o={};return n.forEach((n=>{o[n]=Ht(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=o[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function Ut(t,o={}){const s=Pt(t);let i,a=t;function r(r,l){if(null==t)return s.set(t=r),Promise.resolve();a=r;let c=i,u=!1,{delay:d=0,duration:p=400,easing:f=e,interpolate:h=Ht}=n(n({},o),l);if(0===p)return c&&(c.abort(),c=null),s.set(t=a),Promise.resolve();const g=b()+d;let m;return i=w((e=>{if(e<g)return!0;u||(m=h(t,r),"function"==typeof p&&(p=p(t,r)),u=!0),c&&(c.abort(),c=null);const n=e-g;return n>p?(s.set(t=r),!1):(s.set(t=m(f(n/p))),!0)})),i.promise}return{set:r,update:(e,n)=>r(e(a,t),n),subscribe:s.subscribe}}function Dt(e){let n,o,s,i;return{c(){n=S("g"),o=S("ellipse"),s=S("rect"),N(o,"rx",Math.round(e[4]*(.5+e[5]))),N(o,"class","svelte-14fefoh"),H(o,"focussed",e[0]),N(s,"class","dot-box svelte-14fefoh"),N(s,"transform","translate("+-e[4]/2+" "+-e[4]/2+")"),N(s,"x",.1*e[4]),N(s,"y",.1*e[4]),N(s,"width",.8*e[4]),N(s,"height",.8*e[4]),H(s,"focussed",e[0]),N(n,"transform",i="translate("+e[2]+" "+e[3]+") scale("+e[1]+")")},m(t,e){k(t,n,e),x(n,o),x(n,s)},p(t,[e]){1&e&&H(o,"focussed",t[0]),1&e&&H(s,"focussed",t[0]),14&e&&i!==(i="translate("+t[2]+" "+t[3]+") scale("+t[1]+")")&&N(n,"transform",i)},i:t,o:t,d(t){t&&q(n)}}}function Wt(t,e,n){let o,s,i,{row:a}=e,{column:r}=e;const{height:l,spacing:u,overlap:d}=Y("canvasConfig");let{focussed:p=!1}=e,{hovered:f=!1}=e,{dimmed:h=!1}=e,g=Ut(1,{duration:250});c(t,g,(t=>n(1,o=t)));let m=Ut((r+.5)*u,{duration:250});c(t,m,(t=>n(2,s=t)));let b,v=Ut((a+.5)*u,{duration:250});return c(t,v,(t=>n(3,i=t))),t.$$set=t=>{"row"in t&&n(9,a=t.row),"column"in t&&n(10,r=t.column),"focussed"in t&&n(0,p=t.focussed),"hovered"in t&&n(11,f=t.hovered),"dimmed"in t&&n(12,h=t.dimmed)},t.$$.update=()=>{7681&t.$$.dirty&&(p?(g.set(4),m.set(l/2),v.set(l/2)):(g.set(f&&!h?1.05:1),m.set((r+.5)*u),v.set((a+.5)*u))),8195&t.$$.dirty&&n(13,b=u*(p?o:1)*.8)},[p,o,s,i,u,d,g,m,v,a,r,f,h,b]}class Ft extends _t{constructor(t){super(),qt(this,t,Wt,Dt,r,{row:9,column:10,focussed:0,hovered:11,dimmed:12})}}var Bt,Vt=new Uint8Array(16);function Gt(){if(!Bt&&!(Bt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bt(Vt)}var Kt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Yt(t){return"string"==typeof t&&Kt.test(t)}for(var Jt=[],Xt=0;Xt<256;++Xt)Jt.push((Xt+256).toString(16).substr(1));function Qt(t,e,n){var o=(t=t||{}).random||(t.rng||Gt)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=o[s];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Jt[t[e+0]]+Jt[t[e+1]]+Jt[t[e+2]]+Jt[t[e+3]]+"-"+Jt[t[e+4]]+Jt[t[e+5]]+"-"+Jt[t[e+6]]+Jt[t[e+7]]+"-"+Jt[t[e+8]]+Jt[t[e+9]]+"-"+Jt[t[e+10]]+Jt[t[e+11]]+Jt[t[e+12]]+Jt[t[e+13]]+Jt[t[e+14]]+Jt[t[e+15]]).toLowerCase();if(!Yt(n))throw TypeError("Stringified UUID is invalid");return n}(o)}const Zt=new Event("odi_canvas_refresh"),te=(()=>{const{subscribe:t,set:e}=Pt(new Date);return{subscribe:t,set:e,timestamp:()=>e(new Date)}})(),ee=(t,e)=>"lastUpdated"===t?new Date(e):"title"===t&&void 0===e?"":e,ne=t=>JSON.parse(localStorage.getItem(t),ee),oe=t=>{const e=ne(t);ge.loadCanvas(e)},se=(t,e)=>{const n=ne(t);n.title=e,n.lastUpdated=new Date,((t,e)=>{localStorage.setItem(t,JSON.stringify(e))})(t,n),dispatchEvent(Zt)},ie=t=>{localStorage.removeItem(t),dispatchEvent(Zt)},ae=()=>Object.entries(localStorage).map((([t,e])=>{try{const{title:n,lastUpdated:o,blobs:s}=JSON.parse(e,ee);return{uuid:t,title:n,lastUpdated:o,blobs:s}}catch(t){return}})).filter((t=>t));var re,le,ce,ue;!function(t){t.KNOW="KNOW",t.EXPLORE="EXPLORE",t.PLAN="PLAN",t.INTEGRATE="INTEGRATE"}(re||(re={})),function(t){t.IN_PROGRESS="IN_PROGRESS",t.FOR_REVIEW="FOR_REVIEW",t.COMPLETE="COMPLETE"}(le||(le={})),function(t){t.HIGH="HIGH",t.MEDIUM="MEDIUM",t.LOW="LOW"}(ce||(ce={})),function(t){t.UNSET="UNSET",t.YES="YES",t.NO="NO"}(ue||(ue={}));const de=[{id:"sources",group:re.KNOW,title:"Data Sources",description:"Name/describe your project’s key data sources, whether you’re collecting data yourself or accessing via third parties.",editor:"KnowSources",row:0,column:0,status:le.IN_PROGRESS,content:null,notes:null},{group:re.KNOW,id:"rights",title:"Rights around data sources",description:"Where did you get the data from? Is it produced by an organisation or collected directly from individuals?",editor:"KnowRights",row:0,column:1,status:le.IN_PROGRESS,content:null,notes:null},{group:re.KNOW,id:"limitations",title:"Limitations in data sources",description:"Are there limitations that could influence your project’s outcomes?",editor:"ListWithDescription",row:0,column:2,status:le.IN_PROGRESS,content:null,notes:null},{group:re.KNOW,id:"ethical-legislative",title:"Ethical and legislative context",description:"What existing ethical codes apply to your sector or project? What legislation, policies, or other regulation shape how you use data?",editor:"ListWithDescription",row:0,column:3,status:le.IN_PROGRESS,content:null,notes:null},{group:re.EXPLORE,id:"reasons",title:"Your reason for using data",description:"What is your primary purpose for collecting and using data in this project?",editor:"ExploreReasons",row:1,column:0,status:le.IN_PROGRESS,content:null,notes:null},{group:re.EXPLORE,id:"positive-effects",title:"Positive effects on people",description:"Which individuals, groups, demographics or organisations will be positively affected by this project? How?",editor:"ExplorePositiveEffects",row:1,column:1,status:le.IN_PROGRESS,content:null,notes:null},{group:re.EXPLORE,id:"negative-effects",title:"Negative effects on people",description:"Who could be negatively affected by this project?",editor:"ExploreNegativeEffects",row:1,column:2,status:le.IN_PROGRESS,content:null,notes:null},{group:re.EXPLORE,id:"mitigations",title:"Minimising negative effects",description:"What steps can you take to minimise harm?",editor:"TextareaList",row:1,column:3,status:le.IN_PROGRESS,content:null,notes:null},{group:re.PLAN,id:"engaging",title:"Engaging with people",description:"How can people engage with you about the project?",editor:"PlanEngaging",row:2,column:0,status:le.IN_PROGRESS,content:null,notes:null},{group:re.PLAN,id:"communicating",title:"Communicating your purpose",description:"Do people understand your purpose – especially people whom the data is about or who are impacted by its use?",editor:"PlanCommunicating",row:2,column:1,status:le.IN_PROGRESS,content:null,notes:null},{group:re.PLAN,id:"openness",title:"Openness and transparency",description:"How open can you be about this project? Could you publish your methodology, metadata, datasets, code or impact measurements?",editor:"BooleanAndTextareaList",row:2,column:2,status:le.IN_PROGRESS,content:null,notes:null},{group:re.PLAN,id:"sharing",title:"Sharing data with others",description:"Are you going to be sharing data with other organisations? If so, who?",editor:"BooleanAndTextareaList",row:2,column:3,status:le.IN_PROGRESS,content:null,notes:null},{group:re.INTEGRATE,id:"implementation",title:"Ongoing implementation",description:"Are you routinely building in thoughts, ideas and considerations of people affected by your project? How?",editor:"IntegrateImplementation",row:0,column:4,status:le.IN_PROGRESS,content:null,notes:null},{group:re.INTEGRATE,id:"review",title:"Reviews and iterations",description:"How will ongoing data ethics issues be measured, monitored, discussed and actioned?",editor:"TextareaList",row:1,column:4,status:le.IN_PROGRESS,content:null,notes:null},{group:re.INTEGRATE,id:"actions",title:"Your actions",description:"What actions will you take before moving forward with this project? Which should take priority?",editor:"Actions",row:2,column:4,status:le.IN_PROGRESS,content:null,notes:null}],pe=t=>({uuid:t,blobs:de}),fe="canvas_current_key";let he=localStorage.getItem(fe)||Qt();const ge=(()=>{const{subscribe:t,set:e,update:n}=Pt((()=>{const t=ne(he);if(null===t)return pe(he);const{blobs:e,title:n,lastUpdated:o,uuid:s}=t;return te.set(o||new Date),{blobs:e,title:n,uuid:s}})());let o;const s=({blobs:t,lastUpdated:n,title:o,uuid:s})=>{he=s,te.set(n),a(),e({blobs:t,uuid:s,title:o}),r(),dispatchEvent(Zt)};t((t=>o=t.blobs));let i=!0;const a=()=>i=!1,r=()=>i=!0;return t((t=>{i?(console.log(t),te.timestamp()):i=!0})),{subscribe:t,set:e,update:n,loadCanvas:s,resetState:()=>{const t=pe(Qt());s(Object.assign(Object.assign({},t),{title:"",lastUpdated:new Date}))},getBlobId:t=>o[t].id,startTracking:r,stopTracking:a}})(),me=Mt([ge,te],(t=>{const e=t[0].uuid,n=t[1],o=t[0].title;return{uuid:e,blobs:t[0].blobs.map((t=>t)),lastUpdated:n,title:o}}));me.subscribe((t=>{he&&(localStorage.setItem(fe,he),localStorage.setItem(he,JSON.stringify(t)),dispatchEvent(Zt))}));const be=At(ae(),(t=>{const e=()=>t(ae());return addEventListener("odi_canvas_refresh",e,!1),()=>removeEventListener("odi_canvas_refresh",e,!1)}));function ve(t){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ye(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?Object(arguments[e]):{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),o.forEach((function(e){$e(t,e,n[e])}))}return t}function we(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xe(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function ke(t,e,n){return e&&xe(t.prototype,e),n&&xe(t,n),t}function qe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _e(t,e){return!e||"object"!==ve(e)&&"function"!=typeof e?qe(t):e}function Ee(t){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Se(t,e){return(Se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Oe(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Se(t,e)}var Le={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){console&&console[t]&&console[t].apply(console,e)}},Re=new(function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};we(this,t),this.init(e,n)}return ke(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||Le,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,n,o){return o&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(n).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,ye({},{prefix:"".concat(this.prefix,":").concat(e,":")},this.options))}}]),t}()),Ce=function(){function t(){we(this,t),this.observers={}}return ke(t,[{key:"on",value:function(t,e){var n=this;return t.split(" ").forEach((function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter((function(t){return t!==e})):delete this.observers[t])}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];if(this.observers[t]){var s=[].concat(this.observers[t]);s.forEach((function(t){t.apply(void 0,n)}))}if(this.observers["*"]){var i=[].concat(this.observers["*"]);i.forEach((function(e){e.apply(e,[t].concat(n))}))}}}]),t}();function je(){var t,e,n=new Promise((function(n,o){t=n,e=o}));return n.resolve=t,n.reject=e,n}function Ne(t){return null==t?"":""+t}function Ie(t,e,n){t.forEach((function(t){e[t]&&(n[t]=e[t])}))}function Te(t,e,n){function o(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function s(){return!t||"string"==typeof t}for(var i="string"!=typeof e?[].concat(e):e.split(".");i.length>1;){if(s())return{};var a=o(i.shift());!t[a]&&n&&(t[a]=new n),t=Object.prototype.hasOwnProperty.call(t,a)?t[a]:{}}return s()?{}:{obj:t,k:o(i.shift())}}function Ae(t,e,n){var o=Te(t,e,Object);o.obj[o.k]=n}function Pe(t,e){var n=Te(t,e),o=n.obj,s=n.k;if(o)return o[s]}function Me(t,e,n){var o=Pe(t,n);return void 0!==o?o:Pe(e,n)}function ze(t,e,n){for(var o in e)"__proto__"!==o&&"constructor"!==o&&(o in t?"string"==typeof t[o]||t[o]instanceof String||"string"==typeof e[o]||e[o]instanceof String?n&&(t[o]=e[o]):ze(t[o],e[o],n):t[o]=e[o]);return t}function He(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Ue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function De(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return Ue[t]})):t}var We="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Fe=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return we(this,e),n=_e(this,Ee(e).call(this)),We&&Ce.call(qe(n)),n.data=t||{},n.options=o,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n}return Oe(e,t),ke(e,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,i=[t,e];return n&&"string"!=typeof n&&(i=i.concat(n)),n&&"string"==typeof n&&(i=i.concat(s?n.split(s):n)),t.indexOf(".")>-1&&(i=t.split(".")),Pe(this.data,i)}},{key:"addResource",value:function(t,e,n,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var a=[t,e];n&&(a=a.concat(i?n.split(i):n)),t.indexOf(".")>-1&&(o=e,e=(a=t.split("."))[1]),this.addNamespaces(e),Ae(this.data,a,o),s.silent||this.emit("added",t,e,n,o)}},{key:"addResources",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var s in n)"string"!=typeof n[s]&&"[object Array]"!==Object.prototype.toString.apply(n[s])||this.addResource(t,e,s,n[s],{silent:!0});o.silent||this.emit("added",t,e,n)}},{key:"addResourceBundle",value:function(t,e,n,o,s){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[t,e];t.indexOf(".")>-1&&(o=n,n=e,e=(a=t.split("."))[1]),this.addNamespaces(e);var r=Pe(this.data,a)||{};o?ze(r,n,s):r=ye({},r,n),Ae(this.data,a,r),i.silent||this.emit("added",t,e,n)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?ye({},{},this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"toJSON",value:function(){return this.data}}]),e}(Ce),Be={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,o,s){var i=this;return t.forEach((function(t){i.processors[t]&&(e=i.processors[t].process(e,n,o,s))})),e}},Ve={},Ge=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return we(this,e),n=_e(this,Ee(e).call(this)),We&&Ce.call(qe(n)),Ie(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,qe(n)),n.options=o,void 0===n.options.keySeparator&&(n.options.keySeparator="."),n.logger=Re.create("translator"),n}return Oe(e,t),ke(e,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(t,e);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(t,e){var n=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var o=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,s=e.ns||this.options.defaultNS;if(n&&t.indexOf(n)>-1){var i=t.match(this.interpolator.nestingRegexp);if(i&&i.length>0)return{key:t,namespaces:s};var a=t.split(n);(n!==o||n===o&&this.options.ns.indexOf(a[0])>-1)&&(s=a.shift()),t=a.join(o)}return"string"==typeof s&&(s=[s]),{key:t,namespaces:s}}},{key:"translate",value:function(t,e,n){var o=this;if("object"!==ve(e)&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var s=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,i=this.extractFromKey(t[t.length-1],e),a=i.key,r=i.namespaces,l=r[r.length-1],c=e.lng||this.language,u=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(u){var d=e.nsSeparator||this.options.nsSeparator;return l+d+a}return a}var p=this.resolve(t,e),f=p&&p.res,h=p&&p.usedKey||a,g=p&&p.exactUsedKey||a,m=Object.prototype.toString.apply(f),b=["[object Number]","[object Function]","[object RegExp]"],v=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,$=!this.i18nFormat||this.i18nFormat.handleAsObject,y="string"!=typeof f&&"boolean"!=typeof f&&"number"!=typeof f;if($&&f&&y&&b.indexOf(m)<0&&("string"!=typeof v||"[object Array]"!==m)){if(!e.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,f,e):"key '".concat(a," (").concat(this.language,")' returned an object instead of string.");if(s){var w="[object Array]"===m,x=w?[]:{},k=w?g:h;for(var q in f)if(Object.prototype.hasOwnProperty.call(f,q)){var _="".concat(k).concat(s).concat(q);x[q]=this.translate(_,ye({},e,{joinArrays:!1,ns:r})),x[q]===_&&(x[q]=f[q])}f=x}}else if($&&"string"==typeof v&&"[object Array]"===m)(f=f.join(v))&&(f=this.extendTranslation(f,t,e,n));else{var E=!1,S=!1;if(!this.isValidLookup(f)&&void 0!==e.defaultValue){if(E=!0,void 0!==e.count){var O=this.pluralResolver.getSuffix(c,e.count);f=e["defaultValue".concat(O)]}f||(f=e.defaultValue)}this.isValidLookup(f)||(S=!0,f=a);var L=e.defaultValue&&e.defaultValue!==f&&this.options.updateMissing;if(S||E||L){if(this.logger.log(L?"updateKey":"missingKey",c,l,a,L?e.defaultValue:f),s){var R=this.resolve(a,ye({},e,{keySeparator:!1}));R&&R.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var C=[],j=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&j&&j[0])for(var N=0;N<j.length;N++)C.push(j[N]);else"all"===this.options.saveMissingTo?C=this.languageUtils.toResolveHierarchy(e.lng||this.language):C.push(e.lng||this.language);var I=function(t,n){o.options.missingKeyHandler?o.options.missingKeyHandler(t,l,n,L?e.defaultValue:f,L,e):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(t,l,n,L?e.defaultValue:f,L,e),o.emit("missingKey",t,l,n,f)};if(this.options.saveMissing){var T=void 0!==e.count&&"string"!=typeof e.count;this.options.saveMissingPlurals&&T?C.forEach((function(t){o.pluralResolver.getPluralFormsOfKey(t,a).forEach((function(e){return I([t],e)}))})):I(C,a)}}f=this.extendTranslation(f,t,e,p,n),S&&f===a&&this.options.appendNamespaceToMissingKey&&(f="".concat(l,":").concat(a)),S&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(f))}return f}},{key:"extendTranslation",value:function(t,e,n,o,s){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,n,o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(ye({},n,{interpolation:ye({},this.options.interpolation,n.interpolation)}));var a,r=n.interpolation&&n.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(r){var l=t.match(this.interpolator.nestingRegexp);a=l&&l.length}var c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=ye({},this.options.interpolation.defaultVariables,c)),t=this.interpolator.interpolate(t,c,n.lng||this.language,n),r){var u=t.match(this.interpolator.nestingRegexp);a<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(t=this.interpolator.nest(t,(function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return s&&s[0]===o[0]&&!n.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(o[0]," in key: ").concat(e[0])),null):i.translate.apply(i,o.concat([e]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,p="string"==typeof d?[d]:d;return null!=t&&p&&p.length&&!1!==n.applyPostProcessor&&(t=Be.handle(p,t,e,this.options&&this.options.postProcessPassResolved?ye({i18nResolved:o},n):n,this)),t}},{key:"resolve",value:function(t){var e,n,o,s,i,a=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!a.isValidLookup(e)){var l=a.extractFromKey(t,r),c=l.key;n=c;var u=l.namespaces;a.options.fallbackNS&&(u=u.concat(a.options.fallbackNS));var d=void 0!==r.count&&"string"!=typeof r.count,p=void 0!==r.context&&"string"==typeof r.context&&""!==r.context,f=r.lngs?r.lngs:a.languageUtils.toResolveHierarchy(r.lng||a.language,r.fallbackLng);u.forEach((function(t){a.isValidLookup(e)||(i=t,!Ve["".concat(f[0],"-").concat(t)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(i)&&(Ve["".concat(f[0],"-").concat(t)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(i,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((function(n){if(!a.isValidLookup(e)){s=n;var i,l,u=c,f=[u];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(f,c,n,t,r);else d&&(i=a.pluralResolver.getSuffix(n,r.count)),d&&p&&f.push(u+i),p&&f.push(u+="".concat(a.options.contextSeparator).concat(r.context)),d&&f.push(u+=i);for(;l=f.pop();)a.isValidLookup(e)||(o=l,e=a.getResource(n,t,l,r))}})))}))}})),{res:e,usedKey:n,exactUsedKey:o,usedLng:s,usedNS:i}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,n,o):this.resourceStore.getResource(t,e,n,o)}}]),e}(Ce);function Ke(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Ye=function(){function t(e){we(this,t),this.options=e,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Re.create("languageUtils")}return ke(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map((function(t){return t.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ke(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),e.indexOf(n[1].toLowerCase())>-1&&(n[1]=Ke(n[1].toLowerCase())),e.indexOf(n[2].toLowerCase())>-1&&(n[2]=Ke(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isWhitelisted",value:function(t){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(t)}},{key:"isSupportedCode",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var e,n=this;return t?(t.forEach((function(t){if(!e){var o=n.formatLanguageCode(t);n.options.supportedLngs&&!n.isSupportedCode(o)||(e=o)}})),!e&&this.options.supportedLngs&&t.forEach((function(t){if(!e){var o=n.getLanguagePartFromCode(t);if(n.isSupportedCode(o))return e=o;e=n.options.supportedLngs.find((function(t){if(0===t.indexOf(o))return t}))}})),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e):null}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("function"==typeof t&&(t=t(e)),"string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return n||(n=t[this.getScriptPartFromCode(e)]),n||(n=t[this.formatLanguageCode(e)]),n||(n=t[this.getLanguagePartFromCode(e)]),n||(n=t.default),n||[]}},{key:"toResolveHierarchy",value:function(t,e){var n=this,o=this.getFallbackCodes(e||this.options.fallbackLng||[],t),s=[],i=function(t){t&&(n.isSupportedCode(t)?s.push(t):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(t))):"string"==typeof t&&i(this.formatLanguageCode(t)),o.forEach((function(t){s.indexOf(t)<0&&i(n.formatLanguageCode(t))})),s}}]),t}(),Je=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Xe={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)}};function Qe(){var t={};return Je.forEach((function(e){e.lngs.forEach((function(n){t[n]={numbers:e.nr,plurals:Xe[e.fc]}}))})),t}var Ze=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};we(this,t),this.languageUtils=e,this.options=n,this.logger=Re.create("pluralResolver"),this.rules=Qe()}return ke(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=this.getRule(t);return e&&e.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){var n=this,o=[],s=this.getRule(t);return s?(s.numbers.forEach((function(s){var i=n.getSuffix(t,s);o.push("".concat(e).concat(i))})),o):o}},{key:"getSuffix",value:function(t,e){var n=this,o=this.getRule(t);if(o){var s=o.noAbs?o.plurals(e):o.plurals(Math.abs(e)),i=o.numbers[s];this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var a=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):a():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]?a():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}return this.logger.warn("no plural rule found for: ".concat(t)),""}}]),t}(),tn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};we(this,t),this.logger=Re.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return ke(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:De,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?He(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?He(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?He(e.nestingPrefix):e.nestingPrefixEscaped||He("$t("),this.nestingSuffix=e.nestingSuffix?He(e.nestingSuffix):e.nestingSuffixEscaped||He(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(t,e,n,o){var s,i,a,r=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(t){return t.replace(/\$/g,"$$$$")}var u=function(t){if(t.indexOf(r.formatSeparator)<0){var s=Me(e,l,t);return r.alwaysFormat?r.format(s,void 0,n):s}var i=t.split(r.formatSeparator),a=i.shift().trim(),c=i.join(r.formatSeparator).trim();return r.format(Me(e,l,a),c,n,o)};this.resetRegExp();var d=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,p=o&&o.interpolation&&o.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(t){return c(t)}},{regex:this.regexp,safeValue:function(t){return r.escapeValue?c(r.escape(t)):c(t)}}].forEach((function(e){for(a=0;s=e.regex.exec(t);){if(void 0===(i=u(s[1].trim())))if("function"==typeof d){var n=d(t,s,o);i="string"==typeof n?n:""}else{if(p){i=s[0];continue}r.logger.warn("missed to pass in variable ".concat(s[1]," for interpolating ").concat(t)),i=""}else"string"==typeof i||r.useRawValueToEscape||(i=Ne(i));if(t=t.replace(s[0],e.safeValue(i)),e.regex.lastIndex=0,++a>=r.maxReplaces)break}})),t}},{key:"nest",value:function(t,e){var n,o,s=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=ye({},i);function r(t,e){var n=this.nestingOptionsSeparator;if(t.indexOf(n)<0)return t;var o=t.split(new RegExp("".concat(n,"[ ]*{"))),s="{".concat(o[1]);t=o[0],s=(s=this.interpolate(s,a)).replace(/'/g,'"');try{a=JSON.parse(s),e&&(a=ye({},e,a))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(n).concat(s)}return delete a.defaultValue,t}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(t);){var l=[],c=!1;if(n[0].includes(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(t){return t.trim()}));n[1]=u.shift(),l=u,c=!0}if((o=e(r.call(this,n[1].trim(),a),a))&&n[0]===t&&"string"!=typeof o)return o;"string"!=typeof o&&(o=Ne(o)),o||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(t)),o=""),c&&(o=l.reduce((function(t,e){return s.format(t,e,i.lng,i)}),o.trim())),t=t.replace(n[0],o),this.regexp.lastIndex=0}return t}}]),t}();var en=function(t){function e(t,n,o){var s,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return we(this,e),s=_e(this,Ee(e).call(this)),We&&Ce.call(qe(s)),s.backend=t,s.store=n,s.services=o,s.languageUtils=o.languageUtils,s.options=i,s.logger=Re.create("backendConnector"),s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(o,i.backend,i),s}return Oe(e,t),ke(e,[{key:"queueLoad",value:function(t,e,n,o){var s=this,i=[],a=[],r=[],l=[];return t.forEach((function(t){var o=!0;e.forEach((function(e){var r="".concat(t,"|").concat(e);!n.reload&&s.store.hasResourceBundle(t,e)?s.state[r]=2:s.state[r]<0||(1===s.state[r]?a.indexOf(r)<0&&a.push(r):(s.state[r]=1,o=!1,a.indexOf(r)<0&&a.push(r),i.indexOf(r)<0&&i.push(r),l.indexOf(e)<0&&l.push(e)))})),o||r.push(t)})),(i.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:o}),{toLoad:i,pending:a,toLoadLanguages:r,toLoadNamespaces:l}}},{key:"loaded",value:function(t,e,n){var o=t.split("|"),s=o[0],i=o[1];e&&this.emit("failedLoading",s,i,e),n&&this.store.addResourceBundle(s,i,n),this.state[t]=e?-1:2;var a={};this.queue.forEach((function(n){var o,r,l,c,u,d;o=n.loaded,r=i,c=Te(o,[s],Object),u=c.obj,d=c.k,u[d]=u[d]||[],l&&(u[d]=u[d].concat(r)),l||u[d].push(r),function(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}(n.pending,t),e&&n.errors.push(e),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(t){a[t]||(a[t]=[]),n.loaded[t].length&&n.loaded[t].forEach((function(e){a[t].indexOf(e)<0&&a[t].push(e)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,n){var o=this,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return t.length?this.backend[n](t,e,(function(r,l){r&&l&&s<5?setTimeout((function(){o.read.call(o,t,e,n,s+1,2*i,a)}),i):a(r,l)})):a(null,{})}},{key:"prepareLoading",value:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var i=this.queueLoad(t,e,o,s);if(!i.toLoad.length)return i.pending.length||s(),null;i.toLoad.forEach((function(t){n.loadOne(t)}))}},{key:"load",value:function(t,e,n){this.prepareLoading(t,e,{},n)}},{key:"reload",value:function(t,e,n){this.prepareLoading(t,e,{reload:!0},n)}},{key:"loadOne",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=t.split("|"),s=o[0],i=o[1];this.read(s,i,"read",void 0,void 0,(function(o,a){o&&e.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(s," failed"),o),!o&&a&&e.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(s),a),e.loaded(t,o,a)}))}},{key:"saveMissing",value:function(t,e,n,o,s){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(e,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(t,e,n,o,null,ye({},i,{isUpdate:s})),t&&t[0]&&this.store.addResource(t[0],e,n,o))}}]),e}(Ce);function nn(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===ve(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===ve(t[2])||"object"===ve(t[3])){var n=t[3]||t[2];Object.keys(n).forEach((function(t){e[t]=n[t]}))}return e},interpolation:{escapeValue:!0,format:function(t,e,n,o){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function on(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&(t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t.supportedLngs=t.whitelist),t.nonExplicitWhitelist&&(t.nonExplicitSupportedLngs=t.nonExplicitWhitelist),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function sn(){}var an=new(function(t){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(we(this,e),t=_e(this,Ee(e).call(this)),We&&Ce.call(qe(t)),t.options=on(n),t.services={},t.logger=Re,t.modules={external:[]},o&&!t.isInitialized&&!n.isClone){if(!t.options.initImmediate)return t.init(n,o),_e(t,qe(t));setTimeout((function(){t.init(n,o)}),0)}return t}return Oe(e,t),ke(e,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;function o(t){return t?"function"==typeof t?new t:t:null}if("function"==typeof e&&(n=e,e={}),e.whitelist&&!e.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),e.nonExplicitWhitelist&&!e.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=ye({},nn(),this.options,on(e)),this.format=this.options.interpolation.format,n||(n=sn),!this.options.isClone){this.modules.logger?Re.init(o(this.modules.logger),this.options):Re.init(null,this.options);var s=new Ye(this.options);this.store=new Fe(this.options.resources,this.options);var i=this.services;i.logger=Re,i.resourceStore=this.store,i.languageUtils=s,i.pluralResolver=new Ze(s,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),i.interpolator=new tn(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new en(o(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",(function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];t.emit.apply(t,[e].concat(o))})),this.modules.languageDetector&&(i.languageDetector=o(this.modules.languageDetector),i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=o(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new Ge(this.services,this.options),this.translator.on("*",(function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];t.emit.apply(t,[e].concat(o))})),this.modules.external.forEach((function(e){e.init&&e.init(t)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var a=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);a.length>0&&"dev"!==a[0]&&(this.options.lng=a[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var r=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];r.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}}));var l=["addResource","addResources","addResourceBundle","removeResourceBundle"];l.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments),t}}));var c=je(),u=function(){var e=function(e,o){t.isInitialized&&t.logger.warn("init: i18next is already initialized. You should call init just once!"),t.isInitialized=!0,t.options.isClone||t.logger.log("initialized",t.options),t.emit("initialized",t.options),c.resolve(o),n(e,o)};if(t.languages&&"v1"!==t.options.compatibilityAPI)return e(null,t.t.bind(t));t.changeLanguage(t.options.lng,e)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}},{key:"loadResources",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sn,o=n,s="string"==typeof t?t:this.language;if("function"==typeof t&&(o=t),!this.options.resources||this.options.partialBundledLanguages){if(s&&"cimode"===s.toLowerCase())return o();var i=[],a=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(t){i.indexOf(t)<0&&i.push(t)}))};if(s)a(s);else{var r=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);r.forEach((function(t){return a(t)}))}this.options.preload&&this.options.preload.forEach((function(t){return a(t)})),this.services.backendConnector.load(i,this.options.ns,o)}else o(null)}},{key:"reloadResources",value:function(t,e,n){var o=je();return t||(t=this.languages),e||(e=this.options.ns),n||(n=sn),this.services.backendConnector.reload(t,e,(function(t){o.resolve(),n(t)})),o}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&Be.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"changeLanguage",value:function(t,e){var n=this;this.isLanguageChangingTo=t;var o=je();this.emit("languageChanging",t);var s=function(t){var s="string"==typeof t?t:n.services.languageUtils.getBestMatchFromCodes(t);s&&(n.language||(n.language=s,n.languages=n.services.languageUtils.toResolveHierarchy(s)),n.translator.language||n.translator.changeLanguage(s),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(s)),n.loadResources(s,(function(t){!function(t,s){s?(n.language=s,n.languages=n.services.languageUtils.toResolveHierarchy(s),n.translator.changeLanguage(s),n.isLanguageChangingTo=void 0,n.emit("languageChanged",s),n.logger.log("languageChanged",s)):n.isLanguageChangingTo=void 0,o.resolve((function(){return n.t.apply(n,arguments)})),e&&e(t,(function(){return n.t.apply(n,arguments)}))}(t,s)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(s):s(t):s(this.services.languageDetector.detect()),o}},{key:"getFixedT",value:function(t,e){var n=this,o=function t(e,o){var s;if("object"!==ve(o)){for(var i=arguments.length,a=new Array(i>2?i-2:0),r=2;r<i;r++)a[r-2]=arguments[r];s=n.options.overloadTranslationOptionHandler([e,o].concat(a))}else s=ye({},o);return s.lng=s.lng||t.lng,s.lngs=s.lngs||t.lngs,s.ns=s.ns||t.ns,n.t(e,s)};return"string"==typeof t?o.lng=t:o.lngs=t,o.ns=e,o}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=this.languages[0],s=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===o.toLowerCase())return!0;var a=function(t,n){var o=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===o||2===o};if(n.precheck){var r=n.precheck(this,a);if(void 0!==r)return r}return!!this.hasResourceBundle(o,t)||(!this.services.backendConnector.backend||!(!a(o,t)||s&&!a(i,t)))}},{key:"loadNamespaces",value:function(t,e){var n=this,o=je();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)})),this.loadResources((function(t){o.resolve(),e&&e(t)})),o):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var n=je();"string"==typeof t&&(t=[t]);var o=this.options.preload||[],s=t.filter((function(t){return o.indexOf(t)<0}));return s.length?(this.options.preload=o.concat(s),this.loadResources((function(t){n.resolve(),e&&e(t)})),n):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){if(t||(t=this.languages&&this.languages.length>0?this.languages[0]:this.language),!t)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new e(t,n)}},{key:"cloneInstance",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sn,s=ye({},this.options,n,{isClone:!0}),i=new e(s),a=["store","services","language"];return a.forEach((function(e){i[e]=t[e]})),i.services=ye({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i.translator=new Ge(i.services,i.options),i.translator.on("*",(function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];i.emit.apply(i,[t].concat(n))})),i.init(s,o),i.translator.options=i.options,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}}]),e}(Ce)),rn={en:{common:{guidance_title:"Guidance",action_title:"Actions / decisions",notes_title:"Notes",status_title:"Status",new_button:"New / Load Canvas",new_canvas_button:"New Canvas",blank_button:"Blank",upload_button:"Upload",export_button:"Export",print_button:"Print",back_button:"Back",filter_by_group_title:"Filter by group",filter_by_status_title:"Filter by status",YES:"Yes",NO:"No",UNSET:"Unset",canvas_title:"Canvas title",canvas_title_placeholder:"Enter a name for your canvas",data_ethics_canvas:"Data Ethics Canvas",loaded:"Loaded",load_action:"Load",confirm_delete:"Do you want to delete this?",confirm_delete_yes:"Delete",confirm_delete_no:"Keep",duplicate_file_message:"You already have this canvas loaded. Loading again will overwrite existing data.",file_loading_message:"File loading...",duplicate_file_overwrite:"Overwrite canvas",duplicate_file_clone:"Make a copy",duplicate_file_cancel:"Cancel upload"},action:{title:{action:"Action",decision:"Decision"},title_with_link:"$t(action:title.{{ type }}) (linked to $t(areas:{{ area }}.title))",priority:"Priority",description:"Description",responsible:"Who will be responsible for this action, and who must be involved?"},priority:{LOW:"Low",MEDIUM:"Medium",HIGH:"High"},status:{IN_PROGRESS:"In progress",FOR_REVIEW:"For review",COMPLETE:"Complete"},group:{KNOW:"Know",EXPLORE:"Explore",PLAN:"Plan",INTEGRATE:"Integrate"},file:{Download:"Download"},info:{default:'\n        <p>\n          The <a href="https://theodi.org/article/data-ethics-canvas/" target="_blank">ODI Data Ethics Canvas</a>\n          is a tool for anyone who collects, shares or uses data. It helps identify and manage ethical issues –\n          at the start of a project that uses data, and throughout. It encourages you to ask important questions\n          about projects that use data, and reflect on the responses. These might be:\n        </p>\n        <ul>\n          <li>What is your primary purpose for using data in this project?</li>\n          <li>Who could be negatively affected by this project?</li>\n        </ul>\n        <p>\n          The Data Ethics Canvas provides a framework to develop ethical guidance that suits any context, whatever\n          the project’s size or scope.\n        </p>\n      ',KNOW:"\n        <p>Information about the KNOW section</p>\n      ",EXPLORE:"\n        <p>Information about the EXPLORE section</p>\n      ",PLAN:"\n        <p>Information about the PLAN section</p>\n      ",INTEGRATE:"\n        <p>Information about the INTEGRATE section</p>\n      "},areas:{limitations:{title:"Limitations in data sources",questions:["Are there limitations that could influence your project’s outcomes?"],listlabel:"Description"},"ethical-legislative":{title:"Ethical and legislative context",questions:["What existing ethical codes apply to your sector or project?","What legislation, policies, or other regulation shape how you use data?"],listlabel:"What requirements does this introduce?"},mitigations:{title:"Minimising negative effects",questions:["What steps can you take to minimise harm?","How could you reduce any limitations in your data sources? How are you keeping personal and other sensitive information secure?","How are you measuring, reporting and acting on potential negative impacts of your project?","What benefits will these actions bring to your project?"]},reasons:{title:"Your reasons for using data",questions:["What is your primary motivation for collecting and using data in this project?","What are your main use cases? What is your business model?","Are you making things better for society? How and for whom?","Are you replacing another product or service as a result of this project? "]},"positive-effects":{title:"Positive effects on people",questions:["Which individuals, groups, demographics or organisations will be positively affected by this project? How?","How are you measuring and communicating positive impact? How could you increase it?"],listlabel:"How?"},"negative-effects":{title:"Negative effects on people",questions:["Who could be negatively affected by this project?","Could the way that data is collected, used or shared cause harm or expose individuals to risk of being re-identified?","Could it be used to target,profile or prejudice people, or unfairly restrict access (eg exclusive arrangements)?","How are limitations and risks communicated to people?"],listlabel:"How?"},openness:{title:"Openness and transparency",questions:["How open can you be about this project? Could you publish your methodology, metadata, datasets, code or impact measurements?","Can you ask peers for feedback on the project? How will you communicate it internally?","Will you publish your actions and answers to this canvas openly?"]},sharing:{title:"Sharing data with others",questions:["Are you going to be sharing data with other organisations? If so, who?","Are you planning to publish any of the data? Under what conditions?"]},communicating:{title:"Communicating your purpose",questions:["Do people understand your purpose – especially people whom the data is about or who are impacted by its use?","How have you been communicating your purpose? Has this communication been clear?","How are you ensuring more vulnerable individuals or groups understand?"]},engaging:{title:"Engaging with people",questions:["How can people engage with you about the project?","How can people correct information, appeal or request changes to the product/service? To what extent?","Are appeal mechanisms reasonable and well understood?"]},implementation:{title:"Ongoing implementation",questions:["Are you routinely building in thoughts, ideas and considerations of people affected by your project? How?","What information or training might be needed to help people understand data issues?","Are systems, processes and resources available for responding to data issues that arise in the long-term?"]},review:{title:"Reviews and iterations",questions:["How will ongoing data ethics issues be measured, monitored, discussed and actioned?","How often will your responses to this canvas be reviewed or updated? When?"]},sources:{title:"Data Sources",questions:["Name/describe your project’s key data sources, whether you’re collecting data yourself or accessing via third parties."]},rights:{title:"Rights around data",questions:[]},actions:{title:"Your actions",questions:["What action will you take before moving forward with this project?","Will you openly publish your actions and answers to this canvas?"]}}}};class ln{constructor(){this.i18n=an,this.initialize(),this.changeLanguage("en")}t(t,e){return this.i18n.t(t,e)}initialize(){this.i18n.isInitialized||this.i18n.init({lng:"en",fallbackLng:"en",debug:!0,defaultNS:"common",fallbackNS:"common",resources:rn,interpolation:{escapeValue:!1}})}changeLanguage(t){this.i18n.changeLanguage(t)}}class cn{constructor(t){t.initialize(),this.locale=this.createLocale(t),this.translate=this.createTranslate(t)}createLocale(t){const{subscribe:e,set:n,update:o}=Pt(t.i18n.language);return{subscribe:e,update:e=>{o((n=>{const o=e(n);return t.changeLanguage(o),o}))},set:e=>{t.changeLanguage(e),n(e)}}}createTranslate(t){return Mt([this.locale],(()=>(e,n)=>t.t(e,n)))}}const un=()=>Y("t"),dn=()=>{const t=new ln,e=new cn(t);return K("t",{t:e.translate,currentLanguage:e.locale}),{i18n:t}};function pn(e){let n,o,s;return{c(){n=E("p"),o=O(e[0]),N(n,"class",s=h(e[1].class)+" svelte-mr1c7g")},m(t,e){k(t,n,e),x(n,o)},p(t,[e]){1&e&&P(o,t[0]),2&e&&s!==(s=h(t[1].class)+" svelte-mr1c7g")&&N(n,"class",s)},i:t,o:t,d(t){t&&q(n)}}}function fn(t,e,o){let{question:s}=e;return t.$$set=t=>{o(1,e=n(n({},e),f(t))),"question"in t&&o(0,s=t.question)},e=f(e),[s,e]}class hn extends _t{constructor(t){super(),qt(this,t,fn,pn,r,{question:0})}}function gn(t){let e,n,o,s,i,a,r;return n=new hn({props:{question:t[1]}}),{c(){e=E("form"),yt(n.$$.fragment),o=L(),s=E("textarea"),N(s,"class","ninety-five svelte-1lll01o"),N(s,"rows",t[2]),N(e,"class","svelte-1lll01o")},m(l,c){k(l,e,c),wt(n,e,null),x(e,o),x(e,s),M(s,t[0]),i=!0,a||(r=C(s,"input",t[3]),a=!0)},p(t,[e]){const o={};2&e&&(o.question=t[1]),n.$set(o),(!i||4&e)&&N(s,"rows",t[2]),1&e&&M(s,t[0])},i(t){i||(ht(n.$$.fragment,t),i=!0)},o(t){gt(n.$$.fragment,t),i=!1},d(t){t&&q(e),xt(n),a=!1,r()}}}function mn(t,e,n){let{question:o}=e,{content:s}=e,{rows:i=3}=e;return t.$$set=t=>{"question"in t&&n(1,o=t.question),"content"in t&&n(0,s=t.content),"rows"in t&&n(2,i=t.rows)},[s,o,i,function(){s=this.value,n(0,s)}]}class bn extends _t{constructor(t){super(),qt(this,t,mn,gn,r,{question:1,content:0,rows:2})}}function vn(t,e,n){const o=t.slice();return o[6]=e[n].value,o[7]=e[n].label,o[9]=n,o}function $n(t){let e,n;return e=new hn({props:{question:t[1]}}),{c(){yt(e.$$.fragment)},m(t,o){wt(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.question=t[1]),e.$set(o)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){gt(e.$$.fragment,t),n=!1},d(t){xt(e,t)}}}function yn(t){let e,n,o,s,i,a,r,l,c,u=t[7]+"";return{c(){e=E("span"),n=E("input"),s=L(),i=E("label"),a=O(u),r=L(),N(n,"id",`${t[3]}-${t[9]}`),N(n,"type","radio"),n.__value=o=t[6],n.value=n.__value,t[5][0].push(n),N(i,"for",`${t[3]}-${t[9]}`),N(e,"class","svelte-gbtwpg")},m(o,u){k(o,e,u),x(e,n),n.checked=n.__value===t[0],x(e,s),x(e,i),x(i,a),x(e,r),l||(c=C(n,"change",t[4]),l=!0)},p(t,e){4&e&&o!==(o=t[6])&&(n.__value=o,n.value=n.__value),1&e&&(n.checked=n.__value===t[0]),4&e&&u!==(u=t[7]+"")&&P(a,u)},d(o){o&&q(e),t[5][0].splice(t[5][0].indexOf(n),1),l=!1,c()}}}function wn(t){let e,n,o,s=t[1]&&$n(t),i=t[2],a=[];for(let e=0;e<i.length;e+=1)a[e]=yn(vn(t,i,e));return{c(){e=E("div"),s&&s.c(),n=L();for(let t=0;t<a.length;t+=1)a[t].c();N(e,"class","svelte-gbtwpg")},m(t,i){k(t,e,i),s&&s.m(e,null),x(e,n);for(let t=0;t<a.length;t+=1)a[t].m(e,null);o=!0},p(t,[o]){if(t[1]?s?(s.p(t,o),2&o&&ht(s,1)):(s=$n(t),s.c(),ht(s,1),s.m(e,n)):s&&(pt(),gt(s,1,1,(()=>{s=null})),ft()),13&o){let n;for(i=t[2],n=0;n<i.length;n+=1){const s=vn(t,i,n);a[n]?a[n].p(s,o):(a[n]=yn(s),a[n].c(),a[n].m(e,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=i.length}},i(t){o||(ht(s),o=!0)},o(t){gt(s),o=!1},d(t){t&&q(e),s&&s.d(),_(a,t)}}}function xn(t,e,n){let{label:o}=e,{options:s}=e,{value:i}=e;const a=Qt();return t.$$set=t=>{"label"in t&&n(1,o=t.label),"options"in t&&n(2,s=t.options),"value"in t&&n(0,i=t.value)},[i,o,s,a,function(){i=this.__value,n(0,i)},[[]]]}class kn extends _t{constructor(t){super(),qt(this,t,xn,wn,r,{label:1,options:2,value:0})}}function qn(t){let e,n,o,s,i,a,r,l;function c(e){t[4](e)}let u={label:t[1],options:[{value:ue.YES,label:t[2](ue.YES)},{value:ue.NO,label:t[2](ue.NO)},{value:ue.UNSET,label:t[2](ue.UNSET)}]};return void 0!==t[0].checked&&(u.value=t[0].checked),n=new kn({props:u}),X.push((()=>$t(n,"value",c))),{c(){e=E("form"),yt(n.$$.fragment),s=L(),i=E("textarea"),N(i,"class","ninety-five svelte-11h7mmt"),N(i,"rows","3"),N(e,"class","svelte-11h7mmt")},m(o,c){k(o,e,c),wt(n,e,null),x(e,s),x(e,i),M(i,t[0].text),a=!0,r||(l=C(i,"input",t[5]),r=!0)},p(t,[e]){const s={};2&e&&(s.label=t[1]),4&e&&(s.options=[{value:ue.YES,label:t[2](ue.YES)},{value:ue.NO,label:t[2](ue.NO)},{value:ue.UNSET,label:t[2](ue.UNSET)}]),!o&&1&e&&(o=!0,s.value=t[0].checked,ot((()=>o=!1))),n.$set(s),1&e&&M(i,t[0].text)},i(t){a||(ht(n.$$.fragment,t),a=!0)},o(t){gt(n.$$.fragment,t),a=!1},d(t){t&&q(e),xt(n),r=!1,l()}}}function _n(t,e,n){let o,{question:s}=e,{content:i}=e;const{t:a}=un();return c(t,a,(t=>n(2,o=t))),Qt(),t.$$set=t=>{"question"in t&&n(1,s=t.question),"content"in t&&n(0,i=t.content)},t.$$.update=()=>{1&t.$$.dirty&&(i||n(0,i={checked:ue.UNSET,text:null}))},[i,s,o,a,function(e){t.$$.not_equal(i.checked,e)&&(i.checked=e,n(0,i))},function(){i.text=this.value,n(0,i)}]}class En extends _t{constructor(t){super(),qt(this,t,_n,qn,r,{question:1,content:0})}}function Sn(t){let e,n,o,s,i,a;function r(e){t[5](e)}let l={question:t[1]("areas:"+t[4]+".questions",{joinArrays:" "})};function c(e){t[6](e)}void 0!==t[2].blobs[t[0]].content[0]&&(l.content=t[2].blobs[t[0]].content[0]),e=new bn({props:l}),X.push((()=>$t(e,"content",r)));let u={question:"Q2"};return void 0!==t[2].blobs[t[0]].content[1]&&(u.content=t[2].blobs[t[0]].content[1]),s=new En({props:u}),X.push((()=>$t(s,"content",c))),{c(){yt(e.$$.fragment),o=L(),yt(s.$$.fragment)},m(t,n){wt(e,t,n),k(t,o,n),wt(s,t,n),a=!0},p(t,[o]){const a={};2&o&&(a.question=t[1]("areas:"+t[4]+".questions",{joinArrays:" "})),!n&&5&o&&(n=!0,a.content=t[2].blobs[t[0]].content[0],ot((()=>n=!1))),e.$set(a);const r={};!i&&5&o&&(i=!0,r.content=t[2].blobs[t[0]].content[1],ot((()=>i=!1))),s.$set(r)},i(t){a||(ht(e.$$.fragment,t),ht(s.$$.fragment,t),a=!0)},o(t){gt(e.$$.fragment,t),gt(s.$$.fragment,t),a=!1},d(t){xt(e,t),t&&q(o),xt(s,t)}}}function On(t,e,n){let o,s;c(t,ge,(t=>n(2,s=t)));let{ref:i}=e;const{t:a}=un();c(t,a,(t=>n(1,o=t)));const r=ge.getBlobId(i);return t.$$set=t=>{"ref"in t&&n(0,i=t.ref)},[i,o,s,a,r,function(e){t.$$.not_equal(s.blobs[i].content[0],e)&&(s.blobs[i].content[0]=e,ge.set(s))},function(e){t.$$.not_equal(s.blobs[i].content[1],e)&&(s.blobs[i].content[1]=e,ge.set(s))}]}class Ln extends _t{constructor(t){super(),qt(this,t,On,Sn,r,{ref:0})}}function Rn(t,e,n){const o=t.slice();return o[5]=e[n],o[6]=e,o[7]=n,o}function Cn(t){let e,n,o,s,i,a,r=t[7]+1+"";function l(){t[2].call(s,t[6],t[7])}return{c(){e=E("li"),n=E("span"),o=O(r),s=E("input"),N(n,"class","svelte-hrqbup"),N(s,"id","item-"+t[7]),N(s,"class","svelte-hrqbup"),N(e,"class","ninety-five")},m(r,c){k(r,e,c),x(e,n),x(n,o),x(e,s),M(s,t[5]),i||(a=C(s,"input",l),i=!0)},p(e,n){t=e,1&n&&s.value!==t[5]&&M(s,t[5])},d(t){t&&q(e),i=!1,a()}}}function jn(t){let e,n,o,s,i;n=new hn({props:{question:t[1]}});let a=t[0],r=[];for(let e=0;e<a.length;e+=1)r[e]=Cn(Rn(t,a,e));return{c(){e=E("form"),yt(n.$$.fragment),o=L(),s=E("ol");for(let t=0;t<r.length;t+=1)r[t].c();N(e,"class","svelte-hrqbup")},m(t,a){k(t,e,a),wt(n,e,null),x(e,o),x(e,s);for(let t=0;t<r.length;t+=1)r[t].m(s,null);i=!0},p(t,[e]){const o={};if(2&e&&(o.question=t[1]),n.$set(o),1&e){let n;for(a=t[0],n=0;n<a.length;n+=1){const o=Rn(t,a,n);r[n]?r[n].p(o,e):(r[n]=Cn(o),r[n].c(),r[n].m(s,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=a.length}},i(t){i||(ht(n.$$.fragment,t),i=!0)},o(t){gt(n.$$.fragment,t),i=!1},d(t){t&&q(e),xt(n),_(r,t)}}}function Nn(t,e,n){let{question:o}=e,{content:s}=e;const i=[null];return t.$$set=t=>{"question"in t&&n(1,o=t.question),"content"in t&&n(0,s=t.content)},t.$$.update=()=>{if(1&t.$$.dirty){(e=s)&&Array.isArray(e)&&e.length>0||n(0,s=i);s.slice(-1)[0]&&n(0,s=[...s,null])}var e},[s,o,function(t,e){t[e]=this.value,n(0,s)}]}class In extends _t{constructor(t){super(),qt(this,t,Nn,jn,r,{question:1,content:0})}}function Tn(t){let e,n,o;function s(e){t[5](e)}let i={question:t[1]("areas:"+t[4]+".questions",{joinArrays:" "})};return void 0!==t[2].blobs[t[0]].content[0]&&(i.content=t[2].blobs[t[0]].content[0]),e=new In({props:i}),X.push((()=>$t(e,"content",s))),{c(){yt(e.$$.fragment)},m(t,n){wt(e,t,n),o=!0},p(t,[o]){const s={};2&o&&(s.question=t[1]("areas:"+t[4]+".questions",{joinArrays:" "})),!n&&5&o&&(n=!0,s.content=t[2].blobs[t[0]].content[0],ot((()=>n=!1))),e.$set(s)},i(t){o||(ht(e.$$.fragment,t),o=!0)},o(t){gt(e.$$.fragment,t),o=!1},d(t){xt(e,t)}}}function An(t,e,n){let o,s;c(t,ge,(t=>n(2,s=t)));let{ref:i}=e;const{t:a}=un();c(t,a,(t=>n(1,o=t)));const r=ge.getBlobId(i);return t.$$set=t=>{"ref"in t&&n(0,i=t.ref)},[i,o,s,a,r,function(e){t.$$.not_equal(s.blobs[i].content[0],e)&&(s.blobs[i].content[0]=e,ge.set(s))}]}class Pn extends _t{constructor(t){super(),qt(this,t,An,Tn,r,{ref:0})}}function Mn(t,e,n){const o=t.slice();return o[6]=e[n],o[7]=e,o[8]=n,o}function zn(t){let e,n,o;function s(e){t[5](e,t[8])}let i={question:t[6]};return void 0!==t[2].blobs[t[0]].content[t[8]]&&(i.content=t[2].blobs[t[0]].content[t[8]]),e=new bn({props:i}),X.push((()=>$t(e,"content",s))),{c(){yt(e.$$.fragment)},m(t,n){wt(e,t,n),o=!0},p(o,s){t=o;const i={};2&s&&(i.question=t[6]),!n&&5&s&&(n=!0,i.content=t[2].blobs[t[0]].content[t[8]],ot((()=>n=!1))),e.$set(i)},i(t){o||(ht(e.$$.fragment,t),o=!0)},o(t){gt(e.$$.fragment,t),o=!1},d(t){xt(e,t)}}}function Hn(t){let e,n,o=t[1]("areas:"+t[4]+".questions",{returnObjects:!0}),s=[];for(let e=0;e<o.length;e+=1)s[e]=zn(Mn(t,o,e));const i=t=>gt(s[t],1,1,(()=>{s[t]=null}));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=R()},m(t,o){for(let e=0;e<s.length;e+=1)s[e].m(t,o);k(t,e,o),n=!0},p(t,[n]){if(23&n){let a;for(o=t[1]("areas:"+t[4]+".questions",{returnObjects:!0}),a=0;a<o.length;a+=1){const i=Mn(t,o,a);s[a]?(s[a].p(i,n),ht(s[a],1)):(s[a]=zn(i),s[a].c(),ht(s[a],1),s[a].m(e.parentNode,e))}for(pt(),a=o.length;a<s.length;a+=1)i(a);ft()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)ht(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)gt(s[t]);n=!1},d(t){_(s,t),t&&q(e)}}}function Un(t,e,n){let o,s;c(t,ge,(t=>n(2,s=t)));let{ref:i}=e;const{t:a}=un();c(t,a,(t=>n(1,o=t)));const r=ge.getBlobId(i);return t.$$set=t=>{"ref"in t&&n(0,i=t.ref)},[i,o,s,a,r,function(e,n){t.$$.not_equal(s.blobs[i].content[n],e)&&(s.blobs[i].content[n]=e,ge.set(s))}]}class Dn extends _t{constructor(t){super(),qt(this,t,Un,Hn,r,{ref:0})}}function Wn(t){let e,n,o,s,i,a,r,l,c,u,d,p;function f(e){t[5](e)}let h={question:t[1]("areas:"+t[4]+".questions.0")};function g(e){t[6](e)}void 0!==t[2].blobs[t[0]].content[0]&&(h.content=t[2].blobs[t[0]].content[0]),e=new bn({props:h}),X.push((()=>$t(e,"content",f)));let m={question:t[1]("areas:"+t[4]+".questions.1")};function b(e){t[7](e)}void 0!==t[2].blobs[t[0]].content[1]&&(m.content=t[2].blobs[t[0]].content[1]),s=new In({props:m}),X.push((()=>$t(s,"content",g)));let v={question:t[1]("areas:"+t[4]+".questions.2")};function $(e){t[8](e)}void 0!==t[2].blobs[t[0]].content[2]&&(v.content=t[2].blobs[t[0]].content[2]),r=new bn({props:v}),X.push((()=>$t(r,"content",b)));let y={question:t[1]("areas:"+t[4]+".questions.3"),questionIndex:"3"};return void 0!==t[2].blobs[t[0]].content[3]&&(y.content=t[2].blobs[t[0]].content[3]),u=new En({props:y}),X.push((()=>$t(u,"content",$))),{c(){yt(e.$$.fragment),o=L(),yt(s.$$.fragment),a=L(),yt(r.$$.fragment),c=L(),yt(u.$$.fragment)},m(t,n){wt(e,t,n),k(t,o,n),wt(s,t,n),k(t,a,n),wt(r,t,n),k(t,c,n),wt(u,t,n),p=!0},p(t,[o]){const a={};2&o&&(a.question=t[1]("areas:"+t[4]+".questions.0")),!n&&5&o&&(n=!0,a.content=t[2].blobs[t[0]].content[0],ot((()=>n=!1))),e.$set(a);const c={};2&o&&(c.question=t[1]("areas:"+t[4]+".questions.1")),!i&&5&o&&(i=!0,c.content=t[2].blobs[t[0]].content[1],ot((()=>i=!1))),s.$set(c);const p={};2&o&&(p.question=t[1]("areas:"+t[4]+".questions.2")),!l&&5&o&&(l=!0,p.content=t[2].blobs[t[0]].content[2],ot((()=>l=!1))),r.$set(p);const f={};2&o&&(f.question=t[1]("areas:"+t[4]+".questions.3")),!d&&5&o&&(d=!0,f.content=t[2].blobs[t[0]].content[3],ot((()=>d=!1))),u.$set(f)},i(t){p||(ht(e.$$.fragment,t),ht(s.$$.fragment,t),ht(r.$$.fragment,t),ht(u.$$.fragment,t),p=!0)},o(t){gt(e.$$.fragment,t),gt(s.$$.fragment,t),gt(r.$$.fragment,t),gt(u.$$.fragment,t),p=!1},d(t){xt(e,t),t&&q(o),xt(s,t),t&&q(a),xt(r,t),t&&q(c),xt(u,t)}}}function Fn(t,e,n){let o,s;c(t,ge,(t=>n(2,s=t)));let{ref:i}=e;const{t:a}=un();c(t,a,(t=>n(1,o=t)));const r=ge.getBlobId(i);return t.$$set=t=>{"ref"in t&&n(0,i=t.ref)},[i,o,s,a,r,function(e){t.$$.not_equal(s.blobs[i].content[0],e)&&(s.blobs[i].content[0]=e,ge.set(s))},function(e){t.$$.not_equal(s.blobs[i].content[1],e)&&(s.blobs[i].content[1]=e,ge.set(s))},function(e){t.$$.not_equal(s.blobs[i].content[2],e)&&(s.blobs[i].content[2]=e,ge.set(s))},function(e){t.$$.not_equal(s.blobs[i].content[3],e)&&(s.blobs[i].content[3]=e,ge.set(s))}]}class Bn extends _t{constructor(t){super(),qt(this,t,Fn,Wn,r,{ref:0})}}function Vn(t,e,n){const o=t.slice();return o[7]=e[n],o[8]=e,o[9]=n,o}function Gn(t){let e,n,o,s,a,r,l,c,u,d=t[9]+1+"";function p(){t[3].call(s,t[8],t[9])}function f(){t[4].call(l,t[8],t[9])}return{c(){e=E("li"),n=E("span"),o=O(d),s=E("input"),a=E("p"),r=O(t[2]),l=E("textarea"),N(n,"class","svelte-113o92a"),N(s,"id","item-"+t[9]),N(s,"class","svelte-113o92a"),N(a,"class","svelte-113o92a"),N(l,"rows","5"),N(l,"class","svelte-113o92a"),N(e,"class","ninety-five svelte-113o92a")},m(i,d){k(i,e,d),x(e,n),x(n,o),x(e,s),M(s,t[7].title),x(e,a),x(a,r),x(e,l),M(l,t[7].description),c||(u=[C(s,"input",p),C(l,"input",f)],c=!0)},p(e,n){t=e,1&n&&s.value!==t[7].title&&M(s,t[7].title),4&n&&P(r,t[2]),1&n&&M(l,t[7].description)},d(t){t&&q(e),c=!1,i(u)}}}function Kn(t){let e,n,o,s,i;n=new hn({props:{question:t[1]}});let a=t[0],r=[];for(let e=0;e<a.length;e+=1)r[e]=Gn(Vn(t,a,e));return{c(){e=E("form"),yt(n.$$.fragment),o=L(),s=E("ol");for(let t=0;t<r.length;t+=1)r[t].c();N(e,"class","svelte-113o92a")},m(t,a){k(t,e,a),wt(n,e,null),x(e,o),x(e,s);for(let t=0;t<r.length;t+=1)r[t].m(s,null);i=!0},p(t,[e]){const o={};if(2&e&&(o.question=t[1]),n.$set(o),5&e){let n;for(a=t[0],n=0;n<a.length;n+=1){const o=Vn(t,a,n);r[n]?r[n].p(o,e):(r[n]=Gn(o),r[n].c(),r[n].m(s,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=a.length}},i(t){i||(ht(n.$$.fragment,t),i=!0)},o(t){gt(n.$$.fragment,t),i=!1},d(t){t&&q(e),xt(n),_(r,t)}}}function Yn(t,e,n){let{question:o}=e,{content:s}=e,{descriptionlabel:i}=e;const a=[{title:null,description:null}];return t.$$set=t=>{"question"in t&&n(1,o=t.question),"content"in t&&n(0,s=t.content),"descriptionlabel"in t&&n(2,i=t.descriptionlabel)},t.$$.update=()=>{if(1&t.$$.dirty){(e=s)&&Array.isArray(e)&&e.length>0||n(0,s=a);const t=s.slice(-1)[0];t&&t.title&&n(0,s=[...s,{title:null,description:null}])}var e},[s,o,i,function(t,e){t[e].title=this.value,n(0,s)},function(t,e){t[e].description=this.value,n(0,s)}]}class Jn extends _t{constructor(t){super(),qt(this,t,Yn,Kn,r,{question:1,content:0,descriptionlabel:2})}}function Xn(t){let e,n,o,s,i,a;function r(e){t[5](e)}let l={question:t[1]("areas:"+t[4]+".questions.0"),descriptionlabel:"How?"};function c(e){t[6](e)}void 0!==t[2].blobs[t[0]].content[0]&&(l.content=t[2].blobs[t[0]].content[0]),e=new Jn({props:l}),X.push((()=>$t(e,"content",r)));let u={question:t[1]("areas:"+t[4]+".questions.1")};return void 0!==t[2].blobs[t[0]].content[1]&&(u.content=t[2].blobs[t[0]].content[1]),s=new bn({props:u}),X.push((()=>$t(s,"content",c))),{c(){yt(e.$$.fragment),o=L(),yt(s.$$.fragment)},m(t,n){wt(e,t,n),k(t,o,n),wt(s,t,n),a=!0},p(t,[o]){const a={};2&o&&(a.question=t[1]("areas:"+t[4]+".questions.0")),!n&&5&o&&(n=!0,a.content=t[2].blobs[t[0]].content[0],ot((()=>n=!1))),e.$set(a);const r={};2&o&&(r.question=t[1]("areas:"+t[4]+".questions.1")),!i&&5&o&&(i=!0,r.content=t[2].blobs[t[0]].content[1],ot((()=>i=!1))),s.$set(r)},i(t){a||(ht(e.$$.fragment,t),ht(s.$$.fragment,t),a=!0)},o(t){gt(e.$$.fragment,t),gt(s.$$.fragment,t),a=!1},d(t){xt(e,t),t&&q(o),xt(s,t)}}}function Qn(t,e,n){let o,s;c(t,ge,(t=>n(2,s=t)));let{ref:i}=e;const{t:a}=un();c(t,a,(t=>n(1,o=t)));const r=ge.getBlobId(i);return t.$$set=t=>{"ref"in t&&n(0,i=t.ref)},[i,o,s,a,r,function(e){t.$$.not_equal(s.blobs[i].content[0],e)&&(s.blobs[i].content[0]=e,ge.set(s))},function(e){t.$$.not_equal(s.blobs[i].content[1],e)&&(s.blobs[i].content[1]=e,ge.set(s))}]}class Zn extends _t{constructor(t){super(),qt(this,t,Qn,Xn,r,{ref:0})}}function to(t){let e,n,o,s,i,a,r,l,c,u,d,p;function f(e){t[5](e)}let h={question:t[1]("areas:"+t[4]+".questions.0"),descriptionlabel:t[1]("areas:"+t[4]+".listlabel")};function g(e){t[6](e)}void 0!==t[2].blobs[t[0]].content[0]&&(h.content=t[2].blobs[t[0]].content[0]),e=new Jn({props:h}),X.push((()=>$t(e,"content",f)));let m={question:t[1]("areas:"+t[4]+".questions.1"),questionIndex:"1"};function b(e){t[7](e)}void 0!==t[2].blobs[t[0]].content[1]&&(m.content=t[2].blobs[t[0]].content[1]),s=new En({props:m}),X.push((()=>$t(s,"content",g)));let v={question:t[1]("areas:"+t[4]+".questions.2"),questionIndex:"2"};function $(e){t[8](e)}void 0!==t[2].blobs[t[0]].content[2]&&(v.content=t[2].blobs[t[0]].content[2]),r=new En({props:v}),X.push((()=>$t(r,"content",b)));let y={question:t[1]("areas:"+t[4]+".questions.3")};return void 0!==t[2].blobs[t[0]].content[3]&&(y.content=t[2].blobs[t[0]].content[3]),u=new bn({props:y}),X.push((()=>$t(u,"content",$))),{c(){yt(e.$$.fragment),o=L(),yt(s.$$.fragment),a=L(),yt(r.$$.fragment),c=L(),yt(u.$$.fragment)},m(t,n){wt(e,t,n),k(t,o,n),wt(s,t,n),k(t,a,n),wt(r,t,n),k(t,c,n),wt(u,t,n),p=!0},p(t,[o]){const a={};2&o&&(a.question=t[1]("areas:"+t[4]+".questions.0")),2&o&&(a.descriptionlabel=t[1]("areas:"+t[4]+".listlabel")),!n&&5&o&&(n=!0,a.content=t[2].blobs[t[0]].content[0],ot((()=>n=!1))),e.$set(a);const c={};2&o&&(c.question=t[1]("areas:"+t[4]+".questions.1")),!i&&5&o&&(i=!0,c.content=t[2].blobs[t[0]].content[1],ot((()=>i=!1))),s.$set(c);const p={};2&o&&(p.question=t[1]("areas:"+t[4]+".questions.2")),!l&&5&o&&(l=!0,p.content=t[2].blobs[t[0]].content[2],ot((()=>l=!1))),r.$set(p);const f={};2&o&&(f.question=t[1]("areas:"+t[4]+".questions.3")),!d&&5&o&&(d=!0,f.content=t[2].blobs[t[0]].content[3],ot((()=>d=!1))),u.$set(f)},i(t){p||(ht(e.$$.fragment,t),ht(s.$$.fragment,t),ht(r.$$.fragment,t),ht(u.$$.fragment,t),p=!0)},o(t){gt(e.$$.fragment,t),gt(s.$$.fragment,t),gt(r.$$.fragment,t),gt(u.$$.fragment,t),p=!1},d(t){xt(e,t),t&&q(o),xt(s,t),t&&q(a),xt(r,t),t&&q(c),xt(u,t)}}}function eo(t,e,n){let o,s;c(t,ge,(t=>n(2,s=t)));let{ref:i}=e;const{t:a}=un();c(t,a,(t=>n(1,o=t)));const r=ge.getBlobId(i);return t.$$set=t=>{"ref"in t&&n(0,i=t.ref)},[i,o,s,a,r,function(e){t.$$.not_equal(s.blobs[i].content[0],e)&&(s.blobs[i].content[0]=e,ge.set(s))},function(e){t.$$.not_equal(s.blobs[i].content[1],e)&&(s.blobs[i].content[1]=e,ge.set(s))},function(e){t.$$.not_equal(s.blobs[i].content[2],e)&&(s.blobs[i].content[2]=e,ge.set(s))},function(e){t.$$.not_equal(s.blobs[i].content[3],e)&&(s.blobs[i].content[3]=e,ge.set(s))}]}class no extends _t{constructor(t){super(),qt(this,t,eo,to,r,{ref:0})}}function oo(t,e,n){const o=t.slice();return o[6]=e[n],o[7]=e,o[8]=n,o}function so(t){let e,n,o;function s(e){t[5](e,t[8])}let i={question:t[6],questionIndex:t[8]};return void 0!==t[2].blobs[t[0]].content[t[8]]&&(i.content=t[2].blobs[t[0]].content[t[8]]),e=new En({props:i}),X.push((()=>$t(e,"content",s))),{c(){yt(e.$$.fragment)},m(t,n){wt(e,t,n),o=!0},p(o,s){t=o;const i={};2&s&&(i.question=t[6]),!n&&5&s&&(n=!0,i.content=t[2].blobs[t[0]].content[t[8]],ot((()=>n=!1))),e.$set(i)},i(t){o||(ht(e.$$.fragment,t),o=!0)},o(t){gt(e.$$.fragment,t),o=!1},d(t){xt(e,t)}}}function io(t){let e,n,o=t[1]("areas:"+t[4]+".questions",{returnObjects:!0}),s=[];for(let e=0;e<o.length;e+=1)s[e]=so(oo(t,o,e));const i=t=>gt(s[t],1,1,(()=>{s[t]=null}));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=R()},m(t,o){for(let e=0;e<s.length;e+=1)s[e].m(t,o);k(t,e,o),n=!0},p(t,[n]){if(23&n){let a;for(o=t[1]("areas:"+t[4]+".questions",{returnObjects:!0}),a=0;a<o.length;a+=1){const i=oo(t,o,a);s[a]?(s[a].p(i,n),ht(s[a],1)):(s[a]=so(i),s[a].c(),ht(s[a],1),s[a].m(e.parentNode,e))}for(pt(),a=o.length;a<s.length;a+=1)i(a);ft()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)ht(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)gt(s[t]);n=!1},d(t){_(s,t),t&&q(e)}}}function ao(t,e,n){let o,s;c(t,ge,(t=>n(2,s=t)));let{ref:i}=e;const{t:a}=un();c(t,a,(t=>n(1,o=t)));const r=ge.getBlobId(i);return t.$$set=t=>{"ref"in t&&n(0,i=t.ref)},[i,o,s,a,r,function(e,n){t.$$.not_equal(s.blobs[i].content[n],e)&&(s.blobs[i].content[n]=e,ge.set(s))}]}class ro extends _t{constructor(t){super(),qt(this,t,ao,io,r,{ref:0})}}function lo(t){let e,n,o,s,i,a,r,l,c;function u(e){t[5](e)}let d={question:t[1]("areas:"+t[4]+".questions.0"),questionIndex:"0"};function p(e){t[6](e)}void 0!==t[2].blobs[t[0]].content[0]&&(d.content=t[2].blobs[t[0]].content[0]),e=new En({props:d}),X.push((()=>$t(e,"content",u)));let f={question:t[1]("areas:"+t[4]+".questions.1")};function h(e){t[7](e)}void 0!==t[2].blobs[t[0]].content[1]&&(f.content=t[2].blobs[t[0]].content[1]),s=new bn({props:f}),X.push((()=>$t(s,"content",p)));let g={question:t[1]("areas:"+t[4]+".questions.2")};return void 0!==t[2].blobs[t[0]].content[2]&&(g.content=t[2].blobs[t[0]].content[2]),r=new bn({props:g}),X.push((()=>$t(r,"content",h))),{c(){yt(e.$$.fragment),o=L(),yt(s.$$.fragment),a=L(),yt(r.$$.fragment)},m(t,n){wt(e,t,n),k(t,o,n),wt(s,t,n),k(t,a,n),wt(r,t,n),c=!0},p(t,[o]){const a={};2&o&&(a.question=t[1]("areas:"+t[4]+".questions.0")),!n&&5&o&&(n=!0,a.content=t[2].blobs[t[0]].content[0],ot((()=>n=!1))),e.$set(a);const c={};2&o&&(c.question=t[1]("areas:"+t[4]+".questions.1")),!i&&5&o&&(i=!0,c.content=t[2].blobs[t[0]].content[1],ot((()=>i=!1))),s.$set(c);const u={};2&o&&(u.question=t[1]("areas:"+t[4]+".questions.2")),!l&&5&o&&(l=!0,u.content=t[2].blobs[t[0]].content[2],ot((()=>l=!1))),r.$set(u)},i(t){c||(ht(e.$$.fragment,t),ht(s.$$.fragment,t),ht(r.$$.fragment,t),c=!0)},o(t){gt(e.$$.fragment,t),gt(s.$$.fragment,t),gt(r.$$.fragment,t),c=!1},d(t){xt(e,t),t&&q(o),xt(s,t),t&&q(a),xt(r,t)}}}function co(t,e,n){let o,s;c(t,ge,(t=>n(2,s=t)));let{ref:i}=e;const{t:a}=un();c(t,a,(t=>n(1,o=t)));const r=ge.getBlobId(i);return t.$$set=t=>{"ref"in t&&n(0,i=t.ref)},[i,o,s,a,r,function(e){t.$$.not_equal(s.blobs[i].content[0],e)&&(s.blobs[i].content[0]=e,ge.set(s))},function(e){t.$$.not_equal(s.blobs[i].content[1],e)&&(s.blobs[i].content[1]=e,ge.set(s))},function(e){t.$$.not_equal(s.blobs[i].content[2],e)&&(s.blobs[i].content[2]=e,ge.set(s))}]}class uo extends _t{constructor(t){super(),qt(this,t,co,lo,r,{ref:0})}}function po(t){let e,n,o,s,i,a,r,l,c;function u(e){t[5](e)}let d={question:t[1]("areas:"+t[4]+".questions.0")};function p(e){t[6](e)}void 0!==t[2].blobs[t[0]].content[0]&&(d.content=t[2].blobs[t[0]].content[0]),e=new bn({props:d}),X.push((()=>$t(e,"content",u)));let f={question:t[1]("areas:"+t[4]+".questions.1")};function h(e){t[7](e)}void 0!==t[2].blobs[t[0]].content[1]&&(f.content=t[2].blobs[t[0]].content[1]),s=new bn({props:f}),X.push((()=>$t(s,"content",p)));let g={question:t[1]("areas:"+t[4]+".questions.2"),questionIndex:"2"};return void 0!==t[2].blobs[t[0]].content[2]&&(g.content=t[2].blobs[t[0]].content[2]),r=new En({props:g}),X.push((()=>$t(r,"content",h))),{c(){yt(e.$$.fragment),o=L(),yt(s.$$.fragment),a=L(),yt(r.$$.fragment)},m(t,n){wt(e,t,n),k(t,o,n),wt(s,t,n),k(t,a,n),wt(r,t,n),c=!0},p(t,[o]){const a={};2&o&&(a.question=t[1]("areas:"+t[4]+".questions.0")),!n&&5&o&&(n=!0,a.content=t[2].blobs[t[0]].content[0],ot((()=>n=!1))),e.$set(a);const c={};2&o&&(c.question=t[1]("areas:"+t[4]+".questions.1")),!i&&5&o&&(i=!0,c.content=t[2].blobs[t[0]].content[1],ot((()=>i=!1))),s.$set(c);const u={};2&o&&(u.question=t[1]("areas:"+t[4]+".questions.2")),!l&&5&o&&(l=!0,u.content=t[2].blobs[t[0]].content[2],ot((()=>l=!1))),r.$set(u)},i(t){c||(ht(e.$$.fragment,t),ht(s.$$.fragment,t),ht(r.$$.fragment,t),c=!0)},o(t){gt(e.$$.fragment,t),gt(s.$$.fragment,t),gt(r.$$.fragment,t),c=!1},d(t){xt(e,t),t&&q(o),xt(s,t),t&&q(a),xt(r,t)}}}function fo(t,e,n){let o,s;c(t,ge,(t=>n(2,s=t)));let{ref:i}=e;const{t:a}=un();c(t,a,(t=>n(1,o=t)));const r=ge.getBlobId(i);return t.$$set=t=>{"ref"in t&&n(0,i=t.ref)},[i,o,s,a,r,function(e){t.$$.not_equal(s.blobs[i].content[0],e)&&(s.blobs[i].content[0]=e,ge.set(s))},function(e){t.$$.not_equal(s.blobs[i].content[1],e)&&(s.blobs[i].content[1]=e,ge.set(s))},function(e){t.$$.not_equal(s.blobs[i].content[2],e)&&(s.blobs[i].content[2]=e,ge.set(s))}]}class ho extends _t{constructor(t){super(),qt(this,t,fo,po,r,{ref:0})}}function go(t){let e,n,o,s,i,a,r,l,c;function u(e){t[5](e)}let d={question:t[1]("areas:"+t[4]+".questions.0"),questionIndex:"0"};function p(e){t[6](e)}void 0!==t[2].blobs[t[0]].content[0]&&(d.content=t[2].blobs[t[0]].content[0]),e=new En({props:d}),X.push((()=>$t(e,"content",u)));let f={question:t[1]("areas:"+t[4]+".questions.1")};function h(e){t[7](e)}void 0!==t[2].blobs[t[0]].content[1]&&(f.content=t[2].blobs[t[0]].content[1]),s=new In({props:f}),X.push((()=>$t(s,"content",p)));let g={question:t[1]("areas:"+t[4]+".questions.2"),questionIndex:"2"};return void 0!==t[2].blobs[t[0]].content[2]&&(g.content=t[2].blobs[t[0]].content[2]),r=new En({props:g}),X.push((()=>$t(r,"content",h))),{c(){yt(e.$$.fragment),o=L(),yt(s.$$.fragment),a=L(),yt(r.$$.fragment)},m(t,n){wt(e,t,n),k(t,o,n),wt(s,t,n),k(t,a,n),wt(r,t,n),c=!0},p(t,[o]){const a={};2&o&&(a.question=t[1]("areas:"+t[4]+".questions.0")),!n&&5&o&&(n=!0,a.content=t[2].blobs[t[0]].content[0],ot((()=>n=!1))),e.$set(a);const c={};2&o&&(c.question=t[1]("areas:"+t[4]+".questions.1")),!i&&5&o&&(i=!0,c.content=t[2].blobs[t[0]].content[1],ot((()=>i=!1))),s.$set(c);const u={};2&o&&(u.question=t[1]("areas:"+t[4]+".questions.2")),!l&&5&o&&(l=!0,u.content=t[2].blobs[t[0]].content[2],ot((()=>l=!1))),r.$set(u)},i(t){c||(ht(e.$$.fragment,t),ht(s.$$.fragment,t),ht(r.$$.fragment,t),c=!0)},o(t){gt(e.$$.fragment,t),gt(s.$$.fragment,t),gt(r.$$.fragment,t),c=!1},d(t){xt(e,t),t&&q(o),xt(s,t),t&&q(a),xt(r,t)}}}function mo(t,e,n){let o,s;c(t,ge,(t=>n(2,s=t)));let{ref:i}=e;const{t:a}=un();c(t,a,(t=>n(1,o=t)));const r=ge.getBlobId(i);return t.$$set=t=>{"ref"in t&&n(0,i=t.ref)},[i,o,s,a,r,function(e){t.$$.not_equal(s.blobs[i].content[0],e)&&(s.blobs[i].content[0]=e,ge.set(s))},function(e){t.$$.not_equal(s.blobs[i].content[1],e)&&(s.blobs[i].content[1]=e,ge.set(s))},function(e){t.$$.not_equal(s.blobs[i].content[2],e)&&(s.blobs[i].content[2]=e,ge.set(s))}]}class bo extends _t{constructor(t){super(),qt(this,t,mo,go,r,{ref:0})}}function vo(t,e,n){const o=t.slice();return o[8]=e[n],o[9]=e,o[10]=n,o}function $o(t){let e,n,o,s,a,r,l,c,u,d,p,f;function h(){t[2].call(o,t[9],t[10])}function g(){t[3].call(a,t[9],t[10])}function m(){t[4].call(l,t[9],t[10])}function b(){t[5].call(u,t[9],t[10])}return n=new hn({props:{class:"subQuestion",question:"Title"}}),s=new hn({props:{class:"subQuestion",question:"Description"}}),r=new hn({props:{class:"subQuestion",question:"URL"}}),c=new hn({props:{class:"subQuestion",question:"Owner"}}),{c(){e=E("li"),yt(n.$$.fragment),o=E("input"),yt(s.$$.fragment),a=E("textarea"),yt(r.$$.fragment),l=E("input"),yt(c.$$.fragment),u=E("input"),N(o,"class","ninety-five svelte-ckwana"),N(o,"id","title-"+t[10]),N(a,"class","ninety-five svelte-ckwana"),N(a,"id","description-"+t[10]),N(a,"rows","10"),N(l,"class","ninety-five svelte-ckwana"),N(l,"id","url-"+t[10]),N(u,"class","ninety-five svelte-ckwana"),N(u,"id","owner-"+t[10]),N(e,"class","svelte-ckwana")},m(i,v){k(i,e,v),wt(n,e,null),x(e,o),M(o,t[8].title),wt(s,e,null),x(e,a),M(a,t[8].description),wt(r,e,null),x(e,l),M(l,t[8].url),wt(c,e,null),x(e,u),M(u,t[8].owner),d=!0,p||(f=[C(o,"input",h),C(a,"input",g),C(l,"input",m),C(u,"input",b)],p=!0)},p(e,n){t=e,1&n&&o.value!==t[8].title&&M(o,t[8].title),1&n&&M(a,t[8].description),1&n&&l.value!==t[8].url&&M(l,t[8].url),1&n&&u.value!==t[8].owner&&M(u,t[8].owner)},i(t){d||(ht(n.$$.fragment,t),ht(s.$$.fragment,t),ht(r.$$.fragment,t),ht(c.$$.fragment,t),d=!0)},o(t){gt(n.$$.fragment,t),gt(s.$$.fragment,t),gt(r.$$.fragment,t),gt(c.$$.fragment,t),d=!1},d(t){t&&q(e),xt(n),xt(s),xt(r),xt(c),p=!1,i(f)}}}function yo(t){let e,n,o,s,i;n=new hn({props:{question:t[1]}});let a=t[0],r=[];for(let e=0;e<a.length;e+=1)r[e]=$o(vo(t,a,e));const l=t=>gt(r[t],1,1,(()=>{r[t]=null}));return{c(){e=E("form"),yt(n.$$.fragment),o=L(),s=E("ol");for(let t=0;t<r.length;t+=1)r[t].c();N(e,"class","dataSourceList svelte-ckwana")},m(t,a){k(t,e,a),wt(n,e,null),x(e,o),x(e,s);for(let t=0;t<r.length;t+=1)r[t].m(s,null);i=!0},p(t,[e]){const o={};if(2&e&&(o.question=t[1]),n.$set(o),1&e){let n;for(a=t[0],n=0;n<a.length;n+=1){const o=vo(t,a,n);r[n]?(r[n].p(o,e),ht(r[n],1)):(r[n]=$o(o),r[n].c(),ht(r[n],1),r[n].m(s,null))}for(pt(),n=a.length;n<r.length;n+=1)l(n);ft()}},i(t){if(!i){ht(n.$$.fragment,t);for(let t=0;t<a.length;t+=1)ht(r[t]);i=!0}},o(t){gt(n.$$.fragment,t),r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)gt(r[t]);i=!1},d(t){t&&q(e),xt(n),_(r,t)}}}function wo(t,e,n){let{question:o}=e,{content:s}=e;const i=[{title:null,description:null,url:null,owner:null}];return t.$$set=t=>{"question"in t&&n(1,o=t.question),"content"in t&&n(0,s=t.content)},t.$$.update=()=>{if(1&t.$$.dirty){(e=s)&&Array.isArray(e)&&e.length>0||n(0,s=i);const t=s.slice(-1)[0];t&&t.title&&n(0,s=[...s,{title:null,description:null,url:null,owner:null}])}var e},[s,o,function(t,e){t[e].title=this.value,n(0,s)},function(t,e){t[e].description=this.value,n(0,s)},function(t,e){t[e].url=this.value,n(0,s)},function(t,e){t[e].owner=this.value,n(0,s)}]}class xo extends _t{constructor(t){super(),qt(this,t,wo,yo,r,{question:1,content:0})}}function ko(t){let e,n,o;function s(e){t[5](e)}let i={question:t[1]("areas:"+t[4]+".questions",{joinArrays:" "})};return void 0!==t[2].blobs[t[0]].content&&(i.content=t[2].blobs[t[0]].content),e=new xo({props:i}),X.push((()=>$t(e,"content",s))),{c(){yt(e.$$.fragment)},m(t,n){wt(e,t,n),o=!0},p(t,[o]){const s={};2&o&&(s.question=t[1]("areas:"+t[4]+".questions",{joinArrays:" "})),!n&&5&o&&(n=!0,s.content=t[2].blobs[t[0]].content,ot((()=>n=!1))),e.$set(s)},i(t){o||(ht(e.$$.fragment,t),o=!0)},o(t){gt(e.$$.fragment,t),o=!1},d(t){xt(e,t)}}}function qo(t,e,n){let o,s;c(t,ge,(t=>n(2,s=t)));let{ref:i}=e;const{t:a}=un();c(t,a,(t=>n(1,o=t)));const r=ge.getBlobId(i);return t.$$set=t=>{"ref"in t&&n(0,i=t.ref)},[i,o,s,a,r,function(e){t.$$.not_equal(s.blobs[i].content,e)&&(s.blobs[i].content=e,ge.set(s))}]}class _o extends _t{constructor(t){super(),qt(this,t,qo,ko,r,{ref:0})}}function Eo(t){let e,n,o,s,i,a,r,l,c,u,d,p,f,h,g,m,b,v,$,y,w,_,S;function R(e){t[4](e)}i=new hn({props:{question:"What basis or licence do you have for using this data?"}});let j={question:"Was the data collected for this project or another purpose?",questionIndex:t[2]+"data_collection"};function I(e){t[5](e)}void 0!==t[0].data_collection&&(j.content=t[0].data_collection),u=new En({props:j}),X.push((()=>$t(u,"content",R)));let T={question:"Does the data contain any personal information?",questionIndex:t[2]+"personal_information"};function A(e){t[6](e)}void 0!==t[0].personal_information&&(T.content=t[0].personal_information),f=new En({props:T}),X.push((()=>$t(f,"content",I)));let z={question:"Does the data contain any commercially or otherwise sensitive information? ",questionIndex:t[2]+"commercial_data"};function H(e){t[7](e)}void 0!==t[0].commercial_data&&(z.content=t[0].commercial_data),m=new En({props:z}),X.push((()=>$t(m,"content",A)));let U={question:"Additional notes related to this data source."};return void 0!==t[0].notes&&(U.content=t[0].notes),$=new bn({props:U}),X.push((()=>$t($,"content",H))),{c(){e=E("form"),n=E("h3"),o=O(t[1]),s=L(),yt(i.$$.fragment),a=L(),r=E("input"),c=L(),yt(u.$$.fragment),p=L(),yt(f.$$.fragment),g=L(),yt(m.$$.fragment),v=L(),yt($.$$.fragment),N(n,"class","svelte-u81te6"),N(r,"class","ninety-five svelte-u81te6"),N(r,"id",l="license-rights-"+t[2]),N(e,"class","dataRight svelte-u81te6")},m(l,d){k(l,e,d),x(e,n),x(n,o),x(e,s),wt(i,e,null),x(e,a),x(e,r),M(r,t[0].license),x(e,c),wt(u,e,null),x(e,p),wt(f,e,null),x(e,g),wt(m,e,null),x(e,v),wt($,e,null),w=!0,_||(S=C(r,"input",t[3]),_=!0)},p(t,[e]){(!w||2&e)&&P(o,t[1]),(!w||4&e&&l!==(l="license-rights-"+t[2]))&&N(r,"id",l),1&e&&r.value!==t[0].license&&M(r,t[0].license);const n={};4&e&&(n.questionIndex=t[2]+"data_collection"),!d&&1&e&&(d=!0,n.content=t[0].data_collection,ot((()=>d=!1))),u.$set(n);const s={};4&e&&(s.questionIndex=t[2]+"personal_information"),!h&&1&e&&(h=!0,s.content=t[0].personal_information,ot((()=>h=!1))),f.$set(s);const i={};4&e&&(i.questionIndex=t[2]+"commercial_data"),!b&&1&e&&(b=!0,i.content=t[0].commercial_data,ot((()=>b=!1))),m.$set(i);const a={};!y&&1&e&&(y=!0,a.content=t[0].notes,ot((()=>y=!1))),$.$set(a)},i(t){w||(ht(i.$$.fragment,t),ht(u.$$.fragment,t),ht(f.$$.fragment,t),ht(m.$$.fragment,t),ht($.$$.fragment,t),w=!0)},o(t){gt(i.$$.fragment,t),gt(u.$$.fragment,t),gt(f.$$.fragment,t),gt(m.$$.fragment,t),gt($.$$.fragment,t),w=!1},d(t){t&&q(e),xt(i),xt(u),xt(f),xt(m),xt($),_=!1,S()}}}function So(t,e,n){let{title:o}=e,{sourceIndex:s}=e,{content:i}=e;return t.$$set=t=>{"title"in t&&n(1,o=t.title),"sourceIndex"in t&&n(2,s=t.sourceIndex),"content"in t&&n(0,i=t.content)},t.$$.update=()=>{3&t.$$.dirty&&(i||n(0,i={title:o,license:null,data_collection:{checked:ue.UNSET,text:null},personal_information:{checked:ue.UNSET,text:null},commercial_data:{checked:ue.UNSET,text:null},notes:null}))},[i,o,s,function(){i.license=this.value,n(0,i),n(1,o)},function(e){t.$$.not_equal(i.data_collection,e)&&(i.data_collection=e,n(0,i),n(1,o))},function(e){t.$$.not_equal(i.personal_information,e)&&(i.personal_information=e,n(0,i),n(1,o))},function(e){t.$$.not_equal(i.commercial_data,e)&&(i.commercial_data=e,n(0,i),n(1,o))},function(e){t.$$.not_equal(i.notes,e)&&(i.notes=e,n(0,i),n(1,o))}]}class Oo extends _t{constructor(t){super(),qt(this,t,So,Eo,r,{title:1,sourceIndex:2,content:0})}}function Lo(t,e,n){const o=t.slice();return o[7]=e[n],o[8]=e,o[9]=n,o}function Ro(t){let e,n,o=t[1],s=[];for(let e=0;e<o.length;e+=1)s[e]=No(Lo(t,o,e));const i=t=>gt(s[t],1,1,(()=>{s[t]=null}));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=R()},m(t,o){for(let e=0;e<s.length;e+=1)s[e].m(t,o);k(t,e,o),n=!0},p(t,n){if(7&n){let a;for(o=t[1],a=0;a<o.length;a+=1){const i=Lo(t,o,a);s[a]?(s[a].p(i,n),ht(s[a],1)):(s[a]=No(i),s[a].c(),ht(s[a],1),s[a].m(e.parentNode,e))}for(pt(),a=o.length;a<s.length;a+=1)i(a);ft()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)ht(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)gt(s[t]);n=!1},d(t){_(s,t),t&&q(e)}}}function Co(e){let n;return{c(){n=E("p"),n.textContent="Please complete the Data Sources section before filling in the rights around your data sources."},m(t,e){k(t,n,e)},p:t,i:t,o:t,d(t){t&&q(n)}}}function jo(t){let e,n,o;function s(e){t[3](e,t[9])}let i={title:t[7].title,sourceIndex:t[9]};return void 0!==t[2].blobs[t[0]].content[t[9]]&&(i.content=t[2].blobs[t[0]].content[t[9]]),e=new Oo({props:i}),X.push((()=>$t(e,"content",s))),{c(){yt(e.$$.fragment)},m(t,n){wt(e,t,n),o=!0},p(o,s){t=o;const i={};2&s&&(i.title=t[7].title),!n&&5&s&&(n=!0,i.content=t[2].blobs[t[0]].content[t[9]],ot((()=>n=!1))),e.$set(i)},i(t){o||(ht(e.$$.fragment,t),o=!0)},o(t){gt(e.$$.fragment,t),o=!1},d(t){xt(e,t)}}}function No(t){let e,n,o=t[7].title&&jo(t);return{c(){o&&o.c(),e=R()},m(t,s){o&&o.m(t,s),k(t,e,s),n=!0},p(t,n){t[7].title?o?(o.p(t,n),2&n&&ht(o,1)):(o=jo(t),o.c(),ht(o,1),o.m(e.parentNode,e)):o&&(pt(),gt(o,1,1,(()=>{o=null})),ft())},i(t){n||(ht(o),n=!0)},o(t){gt(o),n=!1},d(t){o&&o.d(t),t&&q(e)}}}function Io(t){let e,n,o,s;const i=[Co,Ro],a=[];function r(t,e){return 0==t[1].length?0:1}return e=r(t),n=a[e]=i[e](t),{c(){n.c(),o=R()},m(t,n){a[e].m(t,n),k(t,o,n),s=!0},p(t,[s]){let l=e;e=r(t),e===l?a[e].p(t,s):(pt(),gt(a[l],1,1,(()=>{a[l]=null})),ft(),n=a[e],n?n.p(t,s):(n=a[e]=i[e](t),n.c()),ht(n,1),n.m(o.parentNode,o))},i(t){s||(ht(n),s=!0)},o(t){gt(n),s=!1},d(t){a[e].d(t),t&&q(o)}}}function To(t,e,n){let o;c(t,ge,(t=>n(2,o=t)));let{ref:s}=e,i=[];const a=o.blobs.find((t=>"sources"==t.id));return a&&a.content&&a.content.length>0&&(i=a.content),un(),ge.getBlobId(s),t.$$set=t=>{"ref"in t&&n(0,s=t.ref)},[s,i,o,function(e,n){t.$$.not_equal(o.blobs[s].content[n],e)&&(o.blobs[s].content[n]=e,ge.set(o))}]}class Ao extends _t{constructor(t){super(),qt(this,t,To,Io,r,{ref:0})}}function Po(t,e,n){const o=t.slice();return o[10]=e[n],o[11]=e,o[12]=n,o}function Mo(t){let e,n,o,s,a,r,l,c,u,d,p,f,h,g,m,b,v,$;function y(){t[4].call(s,t[11],t[12])}function w(e){t[5](e,t[10])}n=new hn({props:{question:t[2]("action:title_with_link",{type:t[10].type,area:t[10].area})}});let _={label:t[2]("actions:priority"),options:[{value:ce.LOW,label:t[2]("priority:LOW")},{value:ce.MEDIUM,label:t[2]("priority:MEDIUM")},{value:ce.HIGH,label:t[2]("priority:HIGH")}]};function S(e){t[6](e,t[10])}void 0!==t[10].priority&&(_.value=t[10].priority),r=new kn({props:_}),X.push((()=>$t(r,"value",w)));let O={question:t[2]("actions:description")};function R(){t[7].call(g,t[11],t[12])}return void 0!==t[10].description&&(O.content=t[10].description),u=new bn({props:O}),X.push((()=>$t(u,"content",S))),f=new hn({props:{question:t[2]("actions:responsible")}}),{c(){e=E("li"),yt(n.$$.fragment),o=L(),s=E("input"),a=L(),yt(r.$$.fragment),c=L(),yt(u.$$.fragment),p=L(),yt(f.$$.fragment),h=L(),g=E("input"),m=L(),N(s,"class","ninety-five svelte-185uhqv"),N(s,"id","title-"+t[12]),N(g,"class","ninety-five svelte-185uhqv"),N(e,"class","svelte-185uhqv")},m(i,l){k(i,e,l),wt(n,e,null),x(e,o),x(e,s),M(s,t[10].title),x(e,a),wt(r,e,null),x(e,c),wt(u,e,null),x(e,p),wt(f,e,null),x(e,h),x(e,g),M(g,t[10].responsibility),x(e,m),b=!0,v||($=[C(s,"input",y),C(g,"input",R)],v=!0)},p(e,o){t=e;const i={};5&o&&(i.question=t[2]("action:title_with_link",{type:t[10].type,area:t[10].area})),n.$set(i),1&o&&s.value!==t[10].title&&M(s,t[10].title);const a={};4&o&&(a.label=t[2]("actions:priority")),4&o&&(a.options=[{value:ce.LOW,label:t[2]("priority:LOW")},{value:ce.MEDIUM,label:t[2]("priority:MEDIUM")},{value:ce.HIGH,label:t[2]("priority:HIGH")}]),!l&&1&o&&(l=!0,a.value=t[10].priority,ot((()=>l=!1))),r.$set(a);const c={};4&o&&(c.question=t[2]("actions:description")),!d&&1&o&&(d=!0,c.content=t[10].description,ot((()=>d=!1))),u.$set(c);const p={};4&o&&(p.question=t[2]("actions:responsible")),f.$set(p),1&o&&g.value!==t[10].responsibility&&M(g,t[10].responsibility)},i(t){b||(ht(n.$$.fragment,t),ht(r.$$.fragment,t),ht(u.$$.fragment,t),ht(f.$$.fragment,t),b=!0)},o(t){gt(n.$$.fragment,t),gt(r.$$.fragment,t),gt(u.$$.fragment,t),gt(f.$$.fragment,t),b=!1},d(t){t&&q(e),xt(n),xt(r),xt(u),xt(f),v=!1,i($)}}}function zo(t){let e,n,o,s,i;n=new hn({props:{question:t[1][0]}});let a=t[0],r=[];for(let e=0;e<a.length;e+=1)r[e]=Mo(Po(t,a,e));const l=t=>gt(r[t],1,1,(()=>{r[t]=null}));return{c(){e=E("form"),yt(n.$$.fragment),o=L(),s=E("ol");for(let t=0;t<r.length;t+=1)r[t].c();N(e,"class","svelte-185uhqv")},m(t,a){k(t,e,a),wt(n,e,null),x(e,o),x(e,s);for(let t=0;t<r.length;t+=1)r[t].m(s,null);i=!0},p(t,[e]){const o={};if(2&e&&(o.question=t[1][0]),n.$set(o),5&e){let n;for(a=t[0],n=0;n<a.length;n+=1){const o=Po(t,a,n);r[n]?(r[n].p(o,e),ht(r[n],1)):(r[n]=Mo(o),r[n].c(),ht(r[n],1),r[n].m(s,null))}for(pt(),n=a.length;n<r.length;n+=1)l(n);ft()}},i(t){if(!i){ht(n.$$.fragment,t);for(let t=0;t<a.length;t+=1)ht(r[t]);i=!0}},o(t){gt(n.$$.fragment,t),r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)gt(r[t]);i=!1},d(t){t&&q(e),xt(n),_(r,t)}}}function Ho(t,e,n){let o;const{t:s}=un();c(t,s,(t=>n(2,o=t)));let{questions:i}=e,{content:a}=e;var r;return(r=a)&&Array.isArray(r)&&r.length>0||(a=[]),t.$$set=t=>{"questions"in t&&n(1,i=t.questions),"content"in t&&n(0,a=t.content)},[a,i,o,s,function(t,e){t[e].title=this.value,n(0,a)},function(e,o){t.$$.not_equal(o.priority,e)&&(o.priority=e,n(0,a))},function(e,o){t.$$.not_equal(o.description,e)&&(o.description=e,n(0,a))},function(t,e){t[e].responsibility=this.value,n(0,a)}]}class Uo extends _t{constructor(t){super(),qt(this,t,Ho,zo,r,{questions:1,content:0})}}function Do(t){let e,n,o,s,i,a;function r(e){t[5](e)}let l={questions:t[1]("areas:"+t[4]+".questions",{returnObjects:!0})};function c(e){t[6](e)}void 0!==t[2].blobs[t[0]].content[0]&&(l.content=t[2].blobs[t[0]].content[0]),e=new Uo({props:l}),X.push((()=>$t(e,"content",r)));let u={question:t[1]("areas:"+t[4]+".questions.1"),questionIndex:1};return void 0!==t[2].blobs[t[0]].content[2]&&(u.content=t[2].blobs[t[0]].content[2]),s=new En({props:u}),X.push((()=>$t(s,"content",c))),{c(){yt(e.$$.fragment),o=L(),yt(s.$$.fragment)},m(t,n){wt(e,t,n),k(t,o,n),wt(s,t,n),a=!0},p(t,[o]){const a={};2&o&&(a.questions=t[1]("areas:"+t[4]+".questions",{returnObjects:!0})),!n&&5&o&&(n=!0,a.content=t[2].blobs[t[0]].content[0],ot((()=>n=!1))),e.$set(a);const r={};2&o&&(r.question=t[1]("areas:"+t[4]+".questions.1")),!i&&5&o&&(i=!0,r.content=t[2].blobs[t[0]].content[2],ot((()=>i=!1))),s.$set(r)},i(t){a||(ht(e.$$.fragment,t),ht(s.$$.fragment,t),a=!0)},o(t){gt(e.$$.fragment,t),gt(s.$$.fragment,t),a=!1},d(t){xt(e,t),t&&q(o),xt(s,t)}}}function Wo(t,e,n){let o,s;c(t,ge,(t=>n(2,s=t)));let{ref:i}=e;const{t:a}=un();c(t,a,(t=>n(1,o=t)));const r=ge.getBlobId(i);return t.$$set=t=>{"ref"in t&&n(0,i=t.ref)},[i,o,s,a,r,function(e){t.$$.not_equal(s.blobs[i].content[0],e)&&(s.blobs[i].content[0]=e,ge.set(s))},function(e){t.$$.not_equal(s.blobs[i].content[2],e)&&(s.blobs[i].content[2]=e,ge.set(s))}]}class Fo extends _t{constructor(t){super(),qt(this,t,Wo,Do,r,{ref:0})}}function Bo(t){let e,n,o;function s(e){t[5](e)}let i={question:t[1]("areas:"+t[4]+".questions",{joinArrays:" "}),descriptionlabel:t[1]("areas:"+t[4]+".listlabel")};return void 0!==t[2].blobs[t[0]].content[0]&&(i.content=t[2].blobs[t[0]].content[0]),e=new Jn({props:i}),X.push((()=>$t(e,"content",s))),{c(){yt(e.$$.fragment)},m(t,n){wt(e,t,n),o=!0},p(t,[o]){const s={};2&o&&(s.question=t[1]("areas:"+t[4]+".questions",{joinArrays:" "})),2&o&&(s.descriptionlabel=t[1]("areas:"+t[4]+".listlabel")),!n&&5&o&&(n=!0,s.content=t[2].blobs[t[0]].content[0],ot((()=>n=!1))),e.$set(s)},i(t){o||(ht(e.$$.fragment,t),o=!0)},o(t){gt(e.$$.fragment,t),o=!1},d(t){xt(e,t)}}}function Vo(t,e,n){let o,s;c(t,ge,(t=>n(2,s=t)));let{ref:i}=e;const{t:a}=un();c(t,a,(t=>n(1,o=t)));const r=ge.getBlobId(i);return t.$$set=t=>{"ref"in t&&n(0,i=t.ref)},[i,o,s,a,r,function(e){t.$$.not_equal(s.blobs[i].content[0],e)&&(s.blobs[i].content[0]=e,ge.set(s))}]}class Go extends _t{constructor(t){super(),qt(this,t,Vo,Bo,r,{ref:0})}}function Ko(t){let e,n,o;var s=t[2][t[1].blobs[t[0]].editor];function i(t){return{props:{ref:t[0]}}}return s&&(n=new s(i(t))),{c(){e=E("section"),n&&yt(n.$$.fragment),N(e,"class","svelte-1l0lut4")},m(t,s){k(t,e,s),n&&wt(n,e,null),o=!0},p(t,[o]){const a={};if(1&o&&(a.ref=t[0]),s!==(s=t[2][t[1].blobs[t[0]].editor])){if(n){pt();const t=n;gt(t.$$.fragment,1,0,(()=>{xt(t,1)})),ft()}s?(n=new s(i(t)),yt(n.$$.fragment),ht(n.$$.fragment,1),wt(n,e,null)):n=null}else s&&n.$set(a)},i(t){o||(n&&ht(n.$$.fragment,t),o=!0)},o(t){n&&gt(n.$$.fragment,t),o=!1},d(t){t&&q(e),n&&xt(n)}}}function Yo(t,e,n){let o;c(t,ge,(t=>n(1,o=t)));const s={Basic:Ln,SimpleList:Pn,TextareaList:Dn,ExploreReasons:Bn,ExplorePositiveEffects:Zn,ExploreNegativeEffects:no,BooleanAndTextareaList:ro,PlanCommunicating:uo,PlanEngaging:ho,IntegrateImplementation:bo,KnowSources:_o,KnowRights:Ao,Actions:Fo,ListWithDescription:Go};let{blobRef:i}=e;return o.blobs[i].content||g(ge,o.blobs[i].content=[],o),t.$$set=t=>{"blobRef"in t&&n(0,i=t.blobRef)},[i,o,s]}class Jo extends _t{constructor(t){super(),qt(this,t,Yo,Ko,r,{blobRef:0})}}function Xo(e){let n,o;return{c(){n=E("p"),o=O(e[3]),N(n,"class","description svelte-jz1vr9")},m(t,e){k(t,n,e),x(n,o)},p(t,e){8&e&&P(o,t[3])},i:t,o:t,d(t){t&&q(n)}}}function Qo(t){let e,n;return e=new Jo({props:{blobRef:t[0]}}),{c(){yt(e.$$.fragment)},m(t,o){wt(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.blobRef=t[0]),e.$set(o)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){gt(e.$$.fragment,t),n=!1},d(t){xt(e,t)}}}function Zo(t){let e,n,o,s,i,a,r;const l=[Qo,Xo],c=[];function u(t,e){return t[1]?0:1}return i=u(t),a=c[i]=l[i](t),{c(){e=E("section"),n=E("h2"),o=O(t[2]),s=L(),a.c(),N(n,"class","svelte-jz1vr9"),N(e,"class","svelte-jz1vr9"),H(e,"focussed",t[1])},m(t,a){k(t,e,a),x(e,n),x(n,o),x(e,s),c[i].m(e,null),r=!0},p(t,[n]){(!r||4&n)&&P(o,t[2]);let s=i;i=u(t),i===s?c[i].p(t,n):(pt(),gt(c[s],1,1,(()=>{c[s]=null})),ft(),a=c[i],a?a.p(t,n):(a=c[i]=l[i](t),a.c()),ht(a,1),a.m(e,null)),2&n&&H(e,"focussed",t[1])},i(t){r||(ht(a),r=!0)},o(t){gt(a),r=!1},d(t){t&&q(e),c[i].d()}}}function ts(t,e,n){let o;c(t,ge,(t=>n(4,o=t)));let s,i,{blobRef:a}=e,{focussed:r}=e;return t.$$set=t=>{"blobRef"in t&&n(0,a=t.blobRef),"focussed"in t&&n(1,r=t.focussed)},t.$$.update=()=>{17&t.$$.dirty&&n(2,({title:s,description:i}=o.blobs[a]),s,(n(3,i),n(4,o),n(0,a)))},[a,r,s,i,o]}class es extends _t{constructor(t){super(),qt(this,t,ts,Zo,r,{blobRef:0,focussed:1})}}function ns(e){let n,o,s,i,a,r,l;return{c(){n=E("p"),n.textContent="Before any data can be collected, used or shared, it is important to\n  understand who owns what data, who has rights over it and what permissions or\n  responsibilities you or others have in relation to the data. Projects that set\n  out with good intentions to reuse existing data often encounter legal and\n  ethical constraints which should be addressed as soon as possible.",o=L(),s=E("p"),s.textContent="Use this space to name/describe your project’s key data sources, whether\n  you’re collecting data yourself or accessing via third parties.",i=L(),a=E("h2"),a.textContent="Additional guides and learning",r=L(),l=E("ul"),l.innerHTML='<li><h3 style="font-size: 1.3em; padding-bottom: 0.5em; padding-top: 0;"><a href="https://gatesopenresearch.org/documents/2-45" target="_blank">Guide: How to create a data inventory</a></h3> \n    <p>A data inventory can be a useful tool for any organisation or project\n      dealing with multiple types and sources of data. This guide outlines the\n      steps to create a data inventory provides recommendations about what\n      metadata to include in an inventory.</p></li> \n  <li><h3><a href="https://theodi.github.io/staging.learndata.info/def2/" target="_blank">eLearning: Working with data from third party sources</a></h3> \n    <p>This module looks at spectrum of data and how permission is granted and/or\n      obtained to integrate, analyse and otherwise reuse data.</p></li>',N(l,"class","card-list")},m(t,e){k(t,n,e),k(t,o,e),k(t,s,e),k(t,i,e),k(t,a,e),k(t,r,e),k(t,l,e)},p:t,i:t,o:t,d(t){t&&q(n),t&&q(o),t&&q(s),t&&q(i),t&&q(a),t&&q(r),t&&q(l)}}}function os(e){let n,o,s,i,a,r,l;return{c(){n=E("p"),n.textContent="Once you have established your data sources it is important to ensure that you have the rights to reuse the data for your intended purpose. It is also important to understand what obligations you must fulfil as a result of having access to data, especially commercial or sensitive data.",o=L(),s=E("p"),s.textContent="Use this space to specify the license or rights that permit you to collect, use or share data and describe any aspects related to personal or sensitive data that must be respected.",i=L(),a=E("h2"),a.textContent="Additional guides and learning",r=L(),l=E("ul"),l.innerHTML='<li><h3><a href="https://theodi.github.io/staging.learndata.info/def2/" target="_blank">eLearning: Working with data from third party sources</a></h3> \n    <p>This module looks at spectrum of data and how permission is granted and/or\n      obtained to integrate, analyse and otherwise reuse data.</p></li> \n  <li><h3 style="font-size: 1.3em; padding-bottom: 0.5em; padding-top: 0;"><a href="https://theodi.github.io/staging.learndata.info/def1/" target="_blank">eLearning: Protecting the rights of individuals while maximising the utility of data</a></h3> \n    <p>This module looks at personal and sensitive commercial data, the difference between them and the ethical and legal considerations that need to be considered when handling each type.</p></li>',N(l,"class","card-list")},m(t,e){k(t,n,e),k(t,o,e),k(t,s,e),k(t,i,e),k(t,a,e),k(t,r,e),k(t,l,e)},p:t,i:t,o:t,d(t){t&&q(n),t&&q(o),t&&q(s),t&&q(i),t&&q(a),t&&q(r),t&&q(l)}}}function ss(e){let n,o,s,i,a,r,l,c,u,d,p,f,h;return{c(){n=E("p"),n.textContent="It is rare that data will be collected in a way that covers all demographics equitably and thus there are always likely to be limitations and biases in the data. Even in carefully controlled experiments it is difficult to eliminate all bias. Other aspects such as gaps, omissions or quality problems can also limit the potential of data and increase risks.",o=L(),s=E("p"),s.textContent="When completing this section consider:",i=L(),a=E("ul"),a.innerHTML="<li>bias in data collection, inclusion/exclusion, analysis, algorithms</li> \n <li>gaps or omissions in data</li> \n <li>other issues affecting decisions, such as team composition</li>",r=L(),l=E("p"),l.textContent=" ",c=L(),u=E("p"),u.textContent="Use this section to list and describe each limitation.",d=L(),p=E("h2"),p.textContent="Additional guides and learning",f=L(),h=E("ul"),h.innerHTML='<li><h3><a href="https://dlab.learndata.info/datav/index.html" target="_blank">eLearning: Examining data quality</a></h3> \n    <p>Although data may be adequately managed, this doesn’t mean it is free from errors that increase risk. This module looks at common errors in data and techniques to fix them.</p></li>',N(h,"class","card-list")},m(t,e){k(t,n,e),k(t,o,e),k(t,s,e),k(t,i,e),k(t,a,e),k(t,r,e),k(t,l,e),k(t,c,e),k(t,u,e),k(t,d,e),k(t,p,e),k(t,f,e),k(t,h,e)},p:t,i:t,o:t,d(t){t&&q(n),t&&q(o),t&&q(s),t&&q(i),t&&q(a),t&&q(r),t&&q(l),t&&q(c),t&&q(u),t&&q(d),t&&q(p),t&&q(f),t&&q(h)}}}function is(e){let n,o,s,i,a,r,l,c,u;return{c(){n=E("p"),n.textContent="Beyond data protection, there is likely to be other legislation, ethical frameworks or codes of practice that apply to the sector or project. For example in the health care sector there are many variants of the Hippocratic Oath which must be upheld.",o=L(),s=E("p"),s.textContent="You might also need to consider:",i=L(),a=E("ul"),a.innerHTML="<li>the rule of law  in different countries where you will be collecting, using or sharing data;</li> \n  <li>human rights and anti-discrimination laws;</li> \n  <li>data protection;</li> \n  <li>IP and database rights;</li> \n  <li>data sharing, policies, regulation and ethics codes/frameworks specific to sectors (eg health, employment, taxation);</li>",r=L(),l=E("p"),l.textContent=" ",c=L(),u=E("ul"),u.innerHTML='<li><h3><a href="https://theodi.org/article/data-ecosystem-mapping-tool/" target="_blank">Tool: Ecosystem mapping</a></h3> \n    <p>The data ecosystem can be complex with many stakeholders. The ecosystem mapping tool is designed to help illustrate the ecosystem and the connections between stakeholders within it.</p></li>',N(u,"class","card-list")},m(t,e){k(t,n,e),k(t,o,e),k(t,s,e),k(t,i,e),k(t,a,e),k(t,r,e),k(t,l,e),k(t,c,e),k(t,u,e)},p:t,i:t,o:t,d(t){t&&q(n),t&&q(o),t&&q(s),t&&q(i),t&&q(a),t&&q(r),t&&q(l),t&&q(c),t&&q(u)}}}function as(e){let n,o,s,i,a;return{c(){n=E("p"),n.textContent="This section should outline the specific reasons for collecting, using and sharing the data as detailed in your data sources. Be careful to not just justify all activities with the same value proposition to that of the business or organisation. For example the data could play a vital role in providing a service. Another potential is to think about what would be possible without the data and thus prove the negative hypothesis that collecting, using and sharing data is absolutely necessary to deliver your value proposition.",o=L(),s=E("p"),s.textContent=" ",i=L(),a=E("ul"),a.innerHTML='<li><h3><a href="https://www.bennettinstitute.cam.ac.uk/research/research-projects/valuing-data/" target="_blank">Report: Valuing data</a></h3> \n    <p>A study of the different value propositions for data that includes a framework to help identify key types of data and the appropriate approaches for valuing them.</p></li>',N(a,"class","card-list")},m(t,e){k(t,n,e),k(t,o,e),k(t,s,e),k(t,i,e),k(t,a,e)},p:t,i:t,o:t,d(t){t&&q(n),t&&q(o),t&&q(s),t&&q(i),t&&q(a)}}}function rs(e){let n,o,s,i,a,r,l,c,u;return{c(){n=E("p"),n.textContent="When thinking about the effects, consideration should be paid to societal, environmental and economic impacts. Consideration should also be given to those outside of your immediate ecosystem. For example, if you are designing a digital service, what about those who are not as comfortable in a digital environment? Are all demographics considered?",o=L(),s=E("p"),s.textContent="Consider also:",i=L(),a=E("ul"),a.innerHTML="<li>people whom the data is about;</li> \n  <li>people impacted by its use;</li> \n  <li>organisations using the data.</li>",r=L(),l=E("p"),l.textContent=" ",c=L(),u=E("ul"),u.innerHTML='<li><h3><a href="https://www.tech-transformed.com/product-development/" target="_blank">Tool: Consequence scanning</a></h3> \n    <p>The Consequence Scanning toolkit is a new and dedicated Agile event that fits alongside processes in an iterative development cycle. The toolkit is designed to help consider the potential consequences of new services and provides useful prompts and case studies specific to the building of mainly digital services.</p></li> \n  <li><h3><a href="https://theodi.org/article/data-ecosystem-mapping-tool/" target="_blank">Tool: Ecosystem mapping</a></h3> \n    <p>The data ecosystem can be complex with many stakeholders. The ecosystem mapping tool is designed to help illustrate the ecosystem and the connections between stakeholders within it.</p></li>',N(u,"class","card-list")},m(t,e){k(t,n,e),k(t,o,e),k(t,s,e),k(t,i,e),k(t,a,e),k(t,r,e),k(t,l,e),k(t,c,e),k(t,u,e)},p:t,i:t,o:t,d(t){t&&q(n),t&&q(o),t&&q(s),t&&q(i),t&&q(a),t&&q(r),t&&q(l),t&&q(c),t&&q(u)}}}function ls(e){let n,o,s,i,a,r,l,c,u;return{c(){n=E("p"),n.textContent="When thinking about the effects, consideration should be paid to societal, environmental and economic impacts. Consideration should also be given to those outside of your immediate ecosystem. For example, if you are designing a digital service, what about those who are not as comfortable in a digital environment? Are all demographics considered?",o=L(),s=E("p"),s.textContent="Consider also:",i=L(),a=E("ul"),a.innerHTML="<li>people whom the data is about;</li> \n  <li>people impacted by its use;</li> \n  <li>organisations using the data.</li>",r=L(),l=E("p"),l.textContent=" ",c=L(),u=E("ul"),u.innerHTML='<li><h3><a href="https://www.tech-transformed.com/product-development/" target="_blank">Tool: Consequence scanning</a></h3> \n    <p>The Consequence Scanning toolkit is a new and dedicated Agile event that fits alongside processes in an iterative development cycle. The toolkit is designed to help consider the potential consequences of new services and provides useful prompts and case studies specific to the building of mainly digital services.</p></li> \n  <li><h3><a href="https://theodi.org/article/data-ecosystem-mapping-tool/" target="_blank">Tool: Ecosystem mapping</a></h3> \n    <p>The data ecosystem can be complex with many stakeholders. The ecosystem mapping tool is designed to help illustrate the ecosystem and the connections between stakeholders within it.</p></li>',N(u,"class","card-list")},m(t,e){k(t,n,e),k(t,o,e),k(t,s,e),k(t,i,e),k(t,a,e),k(t,r,e),k(t,l,e),k(t,c,e),k(t,u,e)},p:t,i:t,o:t,d(t){t&&q(n),t&&q(o),t&&q(s),t&&q(i),t&&q(a),t&&q(r),t&&q(l),t&&q(c),t&&q(u)}}}function cs(e){let n,o,s,i,a,r,l;return{c(){n=E("p"),n.textContent="There are many steps that can be taken to minimise negative impacts, from collecting a wider variety of data, to increasing transparency of processes and broadening engagement with stakeholders.",o=L(),s=E("p"),s.textContent="One key thing to avoid is behavior that will in fact increase unethical impacts, such as collecting more data that will simply emphasise any existing biases.",i=L(),a=E("p"),a.textContent="There are also many steps that can be taken to minimise risk, such as carefully considering what data needs to be collected and retained and perhaps using anonymisation techniques to remove the risks from handling personal data.",r=L(),l=E("ul"),l.innerHTML='<li><h3><a href="https://theodi.github.io/bmgf.learndata.info/" target="_blank">eLearning: Minimising harmful impacts from data - measuring risk</a></h3> \n    <p>Understanding risks and being able to evaluate the real and perceived impact is critical to increase confidence in collecting, using and sharing of data while minimising harmful impacts.</p></li> \n  <li><h3><a href="https://theodi.org/project/rd-broaden-access-to-personal-data-while-protecting-privacy-and-creating-a-fair-market/" target="_blank">Report: Managing the risk of re-identification</a></h3> \n    <p>This project explored how to help organisations who want to make (potentially re-identifiable) data more accessible – and to do so in a way that mitigates the risks of re-identification, protects citizens’ privacy, and increases the social and economic value created from that data.</p></li>',N(l,"class","card-list")},m(t,e){k(t,n,e),k(t,o,e),k(t,s,e),k(t,i,e),k(t,a,e),k(t,r,e),k(t,l,e)},p:t,i:t,o:t,d(t){t&&q(n),t&&q(o),t&&q(s),t&&q(i),t&&q(a),t&&q(r),t&&q(l)}}}function us(e){let n,o,s,i,a;return{c(){n=E("p"),n.textContent="Engaging with people about how data is collected, used and shared is vital to build trust. It is also vital it is not simply seen as a compliance exercise resulting in consumers being bombarded with lengthy data collection or cookie policies relating somehow to data protection that still don’t explain the purpose clearly to people.",o=L(),s=E("p"),s.textContent="Think about involving marketing, communication, user experience and other roles primarily focused on communicating with people to input to this section.",i=L(),a=E("ul"),a.innerHTML='<li><h3><a href="https://theodi.org/article/data-ecosystem-mapping-tool/" target="_blank">Tool: Ecosystem mapping</a></h3> \n    <p>The data ecosystem can be complex with many stakeholders, all of whom might need to be engaged in different ways. The ecosystem mapping tool is designed to help illustrate the ecosystem and the connections between stakeholders within it.</p></li>',N(a,"class","card-list")},m(t,e){k(t,n,e),k(t,o,e),k(t,s,e),k(t,i,e),k(t,a,e)},p:t,i:t,o:t,d(t){t&&q(n),t&&q(o),t&&q(s),t&&q(i),t&&q(a)}}}function ds(e){let n,o,s,i,a;return{c(){n=E("p"),n.textContent="Unethical impacts are often the result of a lack of openness and transparency, that are in turn a result of unaddressed fears and hoarding tendencies related to data.",o=L(),s=E("p"),s.innerHTML='The <a href="https://theodi.org/about-the-odi/our-vision-and-manifesto/our-theory-of-change/" style="color: inherit" target="_blank">ODI theory of change</a> looks at how overcoming these fears and hoarding tendencies is essential to get the most from data.',i=L(),a=E("a"),a.innerHTML='<img src="./images/ODI-TOC.jpg" alt="The ODI Theory of Change" style="max-width: 100%;"/>',N(a,"href","https://theodi.org/about-the-odi/our-vision-and-manifesto/our-theory-of-change/"),N(a,"target","_blank")},m(t,e){k(t,n,e),k(t,o,e),k(t,s,e),k(t,i,e),k(t,a,e)},p:t,i:t,o:t,d(t){t&&q(n),t&&q(o),t&&q(s),t&&q(i),t&&q(a)}}}function ps(e){let n,o,s,i,a,r,l,c,u,d,p;return{c(){n=E("p"),n.textContent="There is a danger that in some places, organisations hoard data. They may use inappropriate business or funding models for data that limit the value that we, as a society, get from it. Here, value is concentrated in data monopolies, increasing inequality and other unethical outcomes from data.",o=L(),s=E("p"),s.textContent="The ODI calls this scenario the oil field because data is treated like oil. Its value is only realised by a few organisations and there are negative side-effects from its use that affect society as a whole.",i=L(),a=E("p"),a.textContent="On top of this a lack of data sharing can result in:",r=L(),l=E("ul"),l.innerHTML="<li>A limited amount of biased data being used to train models and inform policy decisions, stifling innovation.</li> \n<li>A lack of evidence to support the equity and fairness of a service or project.</li> \n<li>Inequitable access to data literacy and capacity building opportunities.</li>",c=L(),u=E("p"),u.textContent=" ",d=L(),p=E("ul"),p.innerHTML='<li><h3><a href="https://theodi.org/project/the-value-of-data-sharing-in-the-private-sector/" target="_blank">Report: The value of data sharing in the private sector</a></h3> \n    <p>In this report we look to demonstrate the value of sharing data in the private sector and encourage more private sector organisations to explore data-sharing possibilities and the potential benefits in making a move towards ‘openness.’</p></li> \n  <li><h3><a href="https://theodi.github.io/staging.learndata.info/def3" target="_blank">eLearning: Maximising reuse of data through licensing and sharing</a></h3> \n    <p>This module introduces the key role of data sharing agreements and data licenses as ways to safely share data, maximise its reuse and reduce inequitable outcomes from when data is not shared.</p></li> \n  <li><h3><a href="https://theodi.org/article/publishers-guide-to-open-data-licensing/" target="_blank">Guide: Publisher’s Guide to Open Data Licensing</a></h3> \n    <p>What does it mean to license data? What licence should you use? How can you indicate the licence that a dataset is available under? This guide answers these questions.</p></li>',N(p,"class","card-list")},m(t,e){k(t,n,e),k(t,o,e),k(t,s,e),k(t,i,e),k(t,a,e),k(t,r,e),k(t,l,e),k(t,c,e),k(t,u,e),k(t,d,e),k(t,p,e)},p:t,i:t,o:t,d(t){t&&q(n),t&&q(o),t&&q(s),t&&q(i),t&&q(a),t&&q(r),t&&q(l),t&&q(c),t&&q(u),t&&q(d),t&&q(p)}}}var fs={sources:class extends _t{constructor(t){super(),qt(this,t,null,ns,r,{})}},rights:class extends _t{constructor(t){super(),qt(this,t,null,os,r,{})}},limitations:class extends _t{constructor(t){super(),qt(this,t,null,ss,r,{})}},ethicalLegislative:class extends _t{constructor(t){super(),qt(this,t,null,is,r,{})}},reasons:class extends _t{constructor(t){super(),qt(this,t,null,as,r,{})}},positiveEffects:class extends _t{constructor(t){super(),qt(this,t,null,rs,r,{})}},negativeEffects:class extends _t{constructor(t){super(),qt(this,t,null,ls,r,{})}},mitigations:class extends _t{constructor(t){super(),qt(this,t,null,cs,r,{})}},engaging:class extends _t{constructor(t){super(),qt(this,t,null,us,r,{})}},communicating:class extends _t{constructor(t){super(),qt(this,t,null,null,r,{})}},openness:class extends _t{constructor(t){super(),qt(this,t,null,ds,r,{})}},sharing:class extends _t{constructor(t){super(),qt(this,t,null,ps,r,{})}},implementation:class extends _t{constructor(t){super(),qt(this,t,null,null,r,{})}},review:class extends _t{constructor(t){super(),qt(this,t,null,null,r,{})}},actions:class extends _t{constructor(t){super(),qt(this,t,null,null,r,{})}}};function hs(t){let e,n,o;var s=fs[t[1]];return s&&(e=new s({})),{c(){e&&yt(e.$$.fragment),n=R()},m(t,s){e&&wt(e,t,s),k(t,n,s),o=!0},p(t,o){if(s!==(s=fs[t[1]])){if(e){pt();const t=e;gt(t.$$.fragment,1,0,(()=>{xt(t,1)})),ft()}s?(e=new s({}),yt(e.$$.fragment),ht(e.$$.fragment,1),wt(e,n.parentNode,n)):e=null}},i(t){o||(e&&ht(e.$$.fragment,t),o=!0)},o(t){e&&gt(e.$$.fragment,t),o=!1},d(t){t&&q(n),e&&xt(e,t)}}}function gs(t){let e,n,o,s,i,a=t[2](`areas:${t[0]}.title`)+"",r=fs[t[1]]&&hs(t);return{c(){e=E("section"),n=E("h2"),o=O(a),s=L(),r&&r.c(),N(e,"class","guidance svelte-1t8wyqm")},m(t,a){k(t,e,a),x(e,n),x(n,o),x(e,s),r&&r.m(e,null),i=!0},p(t,[n]){(!i||5&n)&&a!==(a=t[2](`areas:${t[0]}.title`)+"")&&P(o,a),fs[t[1]]?r?(r.p(t,n),2&n&&ht(r,1)):(r=hs(t),r.c(),ht(r,1),r.m(e,null)):r&&(pt(),gt(r,1,1,(()=>{r=null})),ft())},i(t){i||(ht(r),i=!0)},o(t){gt(r),i=!1},d(t){t&&q(e),r&&r.d()}}}function ms(t,e,n){let o,{id:s}=e;const{t:i}=un();let a;return c(t,i,(t=>n(2,o=t))),t.$$set=t=>{"id"in t&&n(0,s=t.id)},t.$$.update=()=>{1&t.$$.dirty&&n(1,a=s.replace(/-(.)/g,((t,e)=>e.toUpperCase())))},[s,a,o,i]}class bs extends _t{constructor(t){super(),qt(this,t,ms,gs,r,{id:0})}}function vs(t,e,n){const o=t.slice();return o[14]=e[n],o[15]=e,o[16]=n,o}function $s(t){let e,n,o,s,a,r,l,c,u,d,p,f,h,g,m,b,v,$,y,w,_,S,R,j=t[3](t[14].area)+"";function I(){t[10].call(s,t[15],t[16])}function T(e){t[11](e,t[14])}n=new hn({props:{question:t[3](`action:title:${t[14].type}`)}});let A={label:t[3]("action:priority"),options:[{value:ce.LOW,label:t[3]("priority:LOW")},{value:ce.MEDIUM,label:t[3]("priority:MEDIUM")},{value:ce.HIGH,label:t[3]("priority:HIGH")}]};function z(){t[12].call(p,t[15],t[16])}function H(){t[13].call(m,t[15],t[16])}return void 0!==t[14].priority&&(A.value=t[14].priority),r=new kn({props:A}),X.push((()=>$t(r,"value",T))),u=new hn({props:{question:t[3]("action:description")}}),h=new hn({props:{question:t[3]("action:responsible")}}),{c(){e=E("li"),yt(n.$$.fragment),o=L(),s=E("input"),a=L(),yt(r.$$.fragment),c=L(),yt(u.$$.fragment),d=L(),p=E("textarea"),f=L(),yt(h.$$.fragment),g=L(),m=E("input"),b=L(),v=E("p"),$=O("Linked area: "),y=O(j),w=L(),N(s,"id","title-"+t[16]),N(s,"class","svelte-ifwce9"),N(p,"id","description-"+t[16]),N(p,"class","svelte-ifwce9"),N(m,"class","svelte-ifwce9"),N(e,"class","svelte-ifwce9")},m(i,l){k(i,e,l),wt(n,e,null),x(e,o),x(e,s),M(s,t[14].title),x(e,a),wt(r,e,null),x(e,c),wt(u,e,null),x(e,d),x(e,p),M(p,t[14].description),x(e,f),wt(h,e,null),x(e,g),x(e,m),M(m,t[14].responsibility),x(e,b),x(e,v),x(v,$),x(v,y),x(e,w),_=!0,S||(R=[C(s,"input",I),C(p,"input",z),C(m,"input",H)],S=!0)},p(e,o){t=e;const i={};14&o&&(i.question=t[3](`action:title:${t[14].type}`)),n.$set(i),6&o&&s.value!==t[14].title&&M(s,t[14].title);const a={};8&o&&(a.label=t[3]("action:priority")),8&o&&(a.options=[{value:ce.LOW,label:t[3]("priority:LOW")},{value:ce.MEDIUM,label:t[3]("priority:MEDIUM")},{value:ce.HIGH,label:t[3]("priority:HIGH")}]),!l&&6&o&&(l=!0,a.value=t[14].priority,ot((()=>l=!1))),r.$set(a);const c={};8&o&&(c.question=t[3]("action:description")),u.$set(c),6&o&&M(p,t[14].description);const d={};8&o&&(d.question=t[3]("action:responsible")),h.$set(d),6&o&&m.value!==t[14].responsibility&&M(m,t[14].responsibility),(!_||14&o)&&j!==(j=t[3](t[14].area)+"")&&P(y,j)},i(t){_||(ht(n.$$.fragment,t),ht(r.$$.fragment,t),ht(u.$$.fragment,t),ht(h.$$.fragment,t),_=!0)},o(t){gt(n.$$.fragment,t),gt(r.$$.fragment,t),gt(u.$$.fragment,t),gt(h.$$.fragment,t),_=!1},d(t){t&&q(e),xt(n),xt(r),xt(u),xt(h),S=!1,i(R)}}}function ys(t){let e,n,o=t[14].area===t[0]&&$s(t);return{c(){o&&o.c(),e=R()},m(t,s){o&&o.m(t,s),k(t,e,s),n=!0},p(t,n){t[14].area===t[0]?o?(o.p(t,n),7&n&&ht(o,1)):(o=$s(t),o.c(),ht(o,1),o.m(e.parentNode,e)):o&&(pt(),gt(o,1,1,(()=>{o=null})),ft())},i(t){n||(ht(o),n=!0)},o(t){gt(o),n=!1},d(t){o&&o.d(t),t&&q(e)}}}function ws(t){let e,n,o,s,a,r,l,c,u,d=t[2].blobs[t[1]].content[0],p=[];for(let e=0;e<d.length;e+=1)p[e]=ys(vs(t,d,e));const f=t=>gt(p[t],1,1,(()=>{p[t]=null}));return{c(){e=E("header"),n=E("button"),n.textContent="Add action",o=L(),s=E("button"),s.textContent="Add decision",a=L(),r=E("ol");for(let t=0;t<p.length;t+=1)p[t].c();N(e,"class","svelte-ifwce9"),N(r,"class","svelte-ifwce9")},m(i,d){k(i,e,d),x(e,n),x(e,o),x(e,s),k(i,a,d),k(i,r,d);for(let t=0;t<p.length;t+=1)p[t].m(r,null);l=!0,c||(u=[C(n,"click",t[8]),C(s,"click",t[9])],c=!0)},p(t,[e]){if(15&e){let n;for(d=t[2].blobs[t[1]].content[0],n=0;n<d.length;n+=1){const o=vs(t,d,n);p[n]?(p[n].p(o,e),ht(p[n],1)):(p[n]=ys(o),p[n].c(),ht(p[n],1),p[n].m(r,null))}for(pt(),n=d.length;n<p.length;n+=1)f(n);ft()}},i(t){if(!l){for(let t=0;t<d.length;t+=1)ht(p[t]);l=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)gt(p[t]);l=!1},d(t){t&&q(e),t&&q(a),t&&q(r),_(p,t),c=!1,i(u)}}}function xs(t,e,n){let o,s;c(t,ge,(t=>n(2,o=t)));let{area:i}=e,a=o.blobs.findIndex((t=>"actions"===t.id));const{t:r}=un();c(t,r,(t=>n(3,s=t))),o.blobs[a].content||g(ge,o.blobs[a].content=[],o),Array.isArray(o.blobs[a].content[0])||g(ge,o.blobs[a].content[0]=[],o);const l=t=>({title:s("action:title.action")+" "+t,priority:ce.MEDIUM,description:"",responsibility:"",type:"action",area:i}),u=t=>({title:s("action:title.decision")+" "+t,description:"",responsibility:"",type:"decision",area:i}),d=t=>{const e=o.blobs[a].content[0].length;g(ge,o.blobs[a].content[0][e]=t(e+1),o)};return t.$$set=t=>{"area"in t&&n(0,i=t.area)},[i,a,o,s,r,l,u,d,()=>d(l),()=>d(u),function(t,e){t[e].title=this.value,ge.set(o),n(1,a)},function(e,n){t.$$.not_equal(n.priority,e)&&(n.priority=e,ge.set(o))},function(t,e){t[e].description=this.value,ge.set(o),n(1,a)},function(t,e){t[e].responsibility=this.value,ge.set(o),n(1,a)}]}class ks extends _t{constructor(t){super(),qt(this,t,xs,ws,r,{area:0})}}function qs(e){let n,o;return n=new bs({props:{id:e[5]}}),{c(){yt(n.$$.fragment)},m(t,e){wt(n,t,e),o=!0},p:t,i(t){o||(ht(n.$$.fragment,t),o=!0)},o(t){gt(n.$$.fragment,t),o=!1},d(t){xt(n,t)}}}function _s(e){let n,o;return n=new ks({props:{area:e[5]}}),{c(){yt(n.$$.fragment)},m(t,e){wt(n,t,e),o=!0},p:t,i(t){o||(ht(n.$$.fragment,t),o=!0)},o(t){gt(n.$$.fragment,t),o=!1},d(t){xt(n,t)}}}function Es(t){let e,n,o;return{c(){e=E("textarea"),N(e,"class","svelte-1sk28tz")},m(s,i){k(s,e,i),M(e,t[1].blobs[t[0]].notes),n||(o=C(e,"input",t[13]),n=!0)},p(t,n){3&n&&M(e,t[1].blobs[t[0]].notes)},d(t){t&&q(e),n=!1,o()}}}function Ss(t){let e,n,o,s,a,r,l,c,u,d,p,f,g,m,b,v,$,y,w,_,R,j,I,T,A,M,z=t[4]("guidance_title")+"",U=t[4]("action_title")+"",D=t[4]("notes_title")+"",W="guidance"==t[2]&&qs(t),F="action"==t[2]&&_s(t),B="notes"==t[2]&&Es(t);return{c(){e=S("g"),n=S("foreignObject"),o=E("aside"),s=E("ul"),a=E("li"),r=E("h2"),l=O(z),u=L(),d=E("li"),p=E("h2"),f=O(U),m=L(),b=E("li"),v=E("h2"),$=O(D),w=L(),_=E("div"),W&&W.c(),R=L(),F&&F.c(),j=L(),B&&B.c(),N(r,"class","svelte-1sk28tz"),N(a,"id","guidance"),N(a,"class",c="tab-top "+t[3]+" svelte-1sk28tz"),H(a,"inactive","guidance"!=t[2]),N(p,"class","svelte-1sk28tz"),N(d,"id","action"),N(d,"class",g="tab-top "+t[3]+" svelte-1sk28tz"),H(d,"inactive","action"!=t[2]),N(v,"class","svelte-1sk28tz"),N(b,"id","notes"),N(b,"class",y="tab-top "+t[3]+" svelte-1sk28tz"),H(b,"inactive","notes"!=t[2]),N(s,"class","tabs svelte-1sk28tz"),N(_,"class",I=h(t[3])+" svelte-1sk28tz"),N(o,"class","svelte-1sk28tz"),N(n,"x","0"),N(n,"y","0"),N(n,"width","360"),N(n,"height",t[8]+40),N(e,"transform","translate("+(t[6]+2*t[7]-420)+" -20)")},m(i,c){k(i,e,c),x(e,n),x(n,o),x(o,s),x(s,a),x(a,r),x(r,l),x(s,u),x(s,d),x(d,p),x(p,f),x(s,m),x(s,b),x(b,v),x(v,$),x(o,w),x(o,_),W&&W.m(_,null),x(_,R),F&&F.m(_,null),x(_,j),B&&B.m(_,null),T=!0,A||(M=[C(r,"click",t[10]),C(p,"click",t[11]),C(v,"click",t[12])],A=!0)},p(t,[e]){(!T||16&e)&&z!==(z=t[4]("guidance_title")+"")&&P(l,z),(!T||8&e&&c!==(c="tab-top "+t[3]+" svelte-1sk28tz"))&&N(a,"class",c),12&e&&H(a,"inactive","guidance"!=t[2]),(!T||16&e)&&U!==(U=t[4]("action_title")+"")&&P(f,U),(!T||8&e&&g!==(g="tab-top "+t[3]+" svelte-1sk28tz"))&&N(d,"class",g),12&e&&H(d,"inactive","action"!=t[2]),(!T||16&e)&&D!==(D=t[4]("notes_title")+"")&&P($,D),(!T||8&e&&y!==(y="tab-top "+t[3]+" svelte-1sk28tz"))&&N(b,"class",y),12&e&&H(b,"inactive","notes"!=t[2]),"guidance"==t[2]?W?(W.p(t,e),4&e&&ht(W,1)):(W=qs(t),W.c(),ht(W,1),W.m(_,R)):W&&(pt(),gt(W,1,1,(()=>{W=null})),ft()),"action"==t[2]?F?(F.p(t,e),4&e&&ht(F,1)):(F=_s(t),F.c(),ht(F,1),F.m(_,j)):F&&(pt(),gt(F,1,1,(()=>{F=null})),ft()),"notes"==t[2]?B?B.p(t,e):(B=Es(t),B.c(),B.m(_,null)):B&&(B.d(1),B=null),(!T||8&e&&I!==(I=h(t[3])+" svelte-1sk28tz"))&&N(_,"class",I)},i(t){T||(ht(W),ht(F),T=!0)},o(t){gt(W),gt(F),T=!1},d(t){t&&q(e),W&&W.d(),F&&F.d(),B&&B.d(),A=!1,i(M)}}}function Os(t,e,n){let o,s,i;c(t,ge,(t=>n(1,s=t)));let{blobIndex:a}=e;const r=ge.getBlobId(a),{width:l,margin:u,height:d}=Y("canvasConfig"),{t:p}=un();c(t,p,(t=>n(4,i=t)));let f="guidance";return t.$$set=t=>{"blobIndex"in t&&n(0,a=t.blobIndex)},t.$$.update=()=>{3&t.$$.dirty&&n(3,o=s.blobs[a].group.toLowerCase())},[a,s,f,o,i,r,l,u,d,p,()=>n(2,f="guidance"),()=>n(2,f="action"),()=>n(2,f="notes"),function(){s.blobs[a].notes=this.value,ge.set(s),n(0,a)}]}class Ls extends _t{constructor(t){super(),qt(this,t,Os,Ss,r,{blobIndex:0})}}function Rs(t){let e,n,o,s,i,r,l;var c=t[3];return c&&(o=new c({})),{c(){e=S("g"),n=S("rect"),o&&yt(o.$$.fragment),N(n,"x","0"),N(n,"y","0"),N(n,"width","30"),N(n,"height","30"),N(n,"class","svelte-1ull9xa"),N(e,"transform",s="translate("+t[1]+" "+t[2]+")"),N(e,"class","svelte-1ull9xa")},m(s,c){k(s,e,c),x(e,n),o&&wt(o,e,null),i=!0,r||(l=C(e,"click",(function(){a(t[0])&&t[0].apply(this,arguments)})),r=!0)},p(n,[a]){if(c!==(c=(t=n)[3])){if(o){pt();const t=o;gt(t.$$.fragment,1,0,(()=>{xt(t,1)})),ft()}c?(o=new c({}),yt(o.$$.fragment),ht(o.$$.fragment,1),wt(o,e,null)):o=null}(!i||6&a&&s!==(s="translate("+t[1]+" "+t[2]+")"))&&N(e,"transform",s)},i(t){i||(o&&ht(o.$$.fragment,t),i=!0)},o(t){o&&gt(o.$$.fragment,t),i=!1},d(t){t&&q(e),o&&xt(o),r=!1,l()}}}function Cs(t,e,n){let{action:o}=e,{x:s}=e,{y:i}=e,{icon:a}=e;return t.$$set=t=>{"action"in t&&n(0,o=t.action),"x"in t&&n(1,s=t.x),"y"in t&&n(2,i=t.y),"icon"in t&&n(3,a=t.icon)},[o,s,i,a]}class js extends _t{constructor(t){super(),qt(this,t,Cs,Rs,r,{action:0,x:1,y:2,icon:3})}}function Ns(e){let n,o,s;return{c(){n=S("line"),o=L(),s=S("line"),N(n,"x1","5"),N(n,"y1","5"),N(n,"x2","25"),N(n,"y2","25"),N(n,"class","svelte-1wa2jta"),N(s,"x1","5"),N(s,"y1","25"),N(s,"x2","25"),N(s,"y2","5"),N(s,"class","svelte-1wa2jta")},m(t,e){k(t,n,e),k(t,o,e),k(t,s,e)},p:t,i:t,o:t,d(t){t&&q(n),t&&q(o),t&&q(s)}}}class Is extends _t{constructor(t){super(),qt(this,t,null,Ns,r,{})}}function Ts(t,e,n){const o=t.slice();return o[5]=e[n].value,o[6]=e[n].label,o}function As(t){let e,n;return{c(){e=E("label"),n=O(t[1]),N(e,"for",t[3])},m(t,o){k(t,e,o),x(e,n)},p(t,e){2&e&&P(n,t[1])},d(t){t&&q(e)}}}function Ps(t){let e,n,o,s=t[6]+"";return{c(){e=E("option"),n=O(s),e.__value=o=t[5],e.value=e.__value},m(t,o){k(t,e,o),x(e,n)},p(t,i){4&i&&s!==(s=t[6]+"")&&P(n,s),4&i&&o!==(o=t[5])&&(e.__value=o,e.value=e.__value)},d(t){t&&q(e)}}}function Ms(e){let n,o,s,i,a=e[1]&&As(e),r=e[2],l=[];for(let t=0;t<r.length;t+=1)l[t]=Ps(Ts(e,r,t));return{c(){a&&a.c(),n=L(),o=E("select");for(let t=0;t<l.length;t+=1)l[t].c();N(o,"id",e[3]),N(o,"class","svelte-1n208t8"),void 0===e[0]&&nt((()=>e[4].call(o)))},m(t,r){a&&a.m(t,r),k(t,n,r),k(t,o,r);for(let t=0;t<l.length;t+=1)l[t].m(o,null);z(o,e[0]),s||(i=C(o,"change",e[4]),s=!0)},p(t,[e]){if(t[1]?a?a.p(t,e):(a=As(t),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),4&e){let n;for(r=t[2],n=0;n<r.length;n+=1){const s=Ts(t,r,n);l[n]?l[n].p(s,e):(l[n]=Ps(s),l[n].c(),l[n].m(o,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=r.length}5&e&&z(o,t[0])},i:t,o:t,d(t){a&&a.d(t),t&&q(n),t&&q(o),_(l,t),s=!1,i()}}}function zs(t,e,n){let{label:o}=e,{options:s}=e,{value:i}=e;const a=Qt();return t.$$set=t=>{"label"in t&&n(1,o=t.label),"options"in t&&n(2,s=t.options),"value"in t&&n(0,i=t.value)},[i,o,s,a,function(){i=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,i),n(2,s)}]}class Hs extends _t{constructor(t){super(),qt(this,t,zs,Ms,r,{label:1,options:2,value:0})}}function Us(t){let e,n,o,s,i;function a(e){t[5](e)}let r={label:t[2]("status_title"),options:[{value:le.IN_PROGRESS,label:t[2]("status:IN_PROGRESS")},{value:le.FOR_REVIEW,label:t[2]("status:FOR_REVIEW")},{value:le.COMPLETE,label:t[2]("status:COMPLETE")}]};return void 0!==t[1].blobs[t[0]].status&&(r.value=t[1].blobs[t[0]].status),o=new Hs({props:r}),X.push((()=>$t(o,"value",a))),{c(){e=S("foreignObject"),n=E("aside"),yt(o.$$.fragment),N(n,"class","svelte-11uge89"),N(e,"x","-20"),N(e,"y",t[3]+30),N(e,"width","640"),N(e,"height","40")},m(t,s){k(t,e,s),x(e,n),wt(o,n,null),i=!0},p(t,[e]){const n={};4&e&&(n.label=t[2]("status_title")),4&e&&(n.options=[{value:le.IN_PROGRESS,label:t[2]("status:IN_PROGRESS")},{value:le.FOR_REVIEW,label:t[2]("status:FOR_REVIEW")},{value:le.COMPLETE,label:t[2]("status:COMPLETE")}]),!s&&3&e&&(s=!0,n.value=t[1].blobs[t[0]].status,ot((()=>s=!1))),o.$set(n)},i(t){i||(ht(o.$$.fragment,t),i=!0)},o(t){gt(o.$$.fragment,t),i=!1},d(t){t&&q(e),xt(o)}}}function Ds(t,e,n){let o,s;c(t,ge,(t=>n(1,o=t)));const{height:i}=Y("canvasConfig"),{t:a}=un();c(t,a,(t=>n(2,s=t)));let{ref:r}=e;return t.$$set=t=>{"ref"in t&&n(0,r=t.ref)},t.$$.update=()=>{3&t.$$.dirty&&void 0===o.blobs[r].status&&g(ge,o.blobs[r].status=le.IN_PROGRESS,o)},[r,o,s,i,a,function(e){t.$$.not_equal(o.blobs[r].status,e)&&(o.blobs[r].status=e,ge.set(o))}]}class Ws extends _t{constructor(t){super(),qt(this,t,Ds,Us,r,{ref:0})}}function Fs(e){let n,o,s,i,a;return{c(){n=E("fieldset"),o=E("input"),N(o,"id","title"),N(o,"placeholder",s=e[0]("data_ethics_canvas")),N(o,"class","svelte-c94c1c"),N(n,"class","svelte-c94c1c")},m(t,s){k(t,n,s),x(n,o),M(o,e[1].title),i||(a=C(o,"input",e[3]),i=!0)},p(t,[e]){1&e&&s!==(s=t[0]("data_ethics_canvas"))&&N(o,"placeholder",s),2&e&&o.value!==t[1].title&&M(o,t[1].title)},i:t,o:t,d(t){t&&q(n),i=!1,a()}}}function Bs(t,e,n){let o,s;c(t,ge,(t=>n(1,s=t)));const{t:i}=un();return c(t,i,(t=>n(0,o=t))),[o,s,i,function(){s.title=this.value,ge.set(s)}]}class Vs extends _t{constructor(t){super(),qt(this,t,Bs,Fs,r,{})}}const Gs=(()=>{const{subscribe:t,set:e,update:n}=Pt({});return{subscribe:t,reset:()=>e({}),setState:(t,e)=>n((n=>Object.assign(Object.assign({},n),{[t]:e})))}})();function Ks(t,e,n){const o=t.slice();return o[15]=e[n].id,o[16]=e[n].group,o[17]=e[n].column,o[18]=e[n].row,o[20]=n,o}function Ys(t,e,n){const o=t.slice();return o[15]=e[n].id,o[17]=e[n].column,o[18]=e[n].row,o[20]=n,o}function Js(t,e,n){const o=t.slice();return o[18]=e[n].row,o[17]=e[n].column,o[15]=e[n].id,o[20]=n,o}function Xs(t){let e,n,o;return n=new Ft({props:{row:t[18],column:t[17],hovered:t[0][t[15]],focussed:t[1]===t[20],dimmed:t[3][t[15]]}}),{c(){e=S("g"),yt(n.$$.fragment),N(e,"id","blob-"+t[20])},m(t,s){k(t,e,s),wt(n,e,null),o=!0},p(t,e){const o={};4&e&&(o.row=t[18]),4&e&&(o.column=t[17]),5&e&&(o.hovered=t[0][t[15]]),2&e&&(o.focussed=t[1]===t[20]),12&e&&(o.dimmed=t[3][t[15]]),n.$set(o)},i(t){o||(ht(n.$$.fragment,t),o=!0)},o(t){gt(n.$$.fragment,t),o=!1},d(t){t&&q(e),xt(n)}}}function Qs(t){let e,n,o,s,i,a,r;return i=new es({props:{blobRef:t[20],focussed:!1}}),{c(){e=S("g"),n=S("use"),o=S("g"),s=S("foreignObject"),yt(i.$$.fragment),T(n,"xlink:href",`#blob-${t[20]}`),N(s,"x",t[8]),N(s,"y",t[8]),N(s,"width",t[7]),N(s,"height",t[7]),N(o,"transform",a="translate("+t[17]*si+" "+t[18]*si+")"),N(e,"class","dimmed svelte-19qioj0")},m(t,a){k(t,e,a),x(e,n),x(e,o),x(o,s),wt(i,s,null),r=!0},p(t,e){(!r||4&e&&a!==(a="translate("+t[17]*si+" "+t[18]*si+")"))&&N(o,"transform",a)},i(t){r||(ht(i.$$.fragment,t),r=!0)},o(t){gt(i.$$.fragment,t),r=!1},d(t){t&&q(e),xt(i)}}}function Zs(t){let e,n,o=t[3][t[15]]&&Qs(t);return{c(){o&&o.c(),e=R()},m(t,s){o&&o.m(t,s),k(t,e,s),n=!0},p(t,n){t[3][t[15]]?o?(o.p(t,n),12&n&&ht(o,1)):(o=Qs(t),o.c(),ht(o,1),o.m(e.parentNode,e)):o&&(pt(),gt(o,1,1,(()=>{o=null})),ft())},i(t){n||(ht(o),n=!0)},o(t){gt(o),n=!1},d(t){o&&o.d(t),t&&q(e)}}}function ti(t){let e,n,o,s,a,r,l,c,u,d;function p(){return t[10](t[20],t[15])}function f(){return t[11](t[15])}function g(){return t[12](t[15])}return r=new es({props:{blobRef:t[20],focussed:!1}}),{c(){e=S("g"),n=S("use"),s=S("g"),a=S("foreignObject"),yt(r.$$.fragment),N(n,"class",o=h(t[16].toLowerCase())+" svelte-19qioj0"),T(n,"xlink:href",`#blob-${t[20]}`),N(a,"x",t[8]),N(a,"y",t[8]),N(a,"width",t[7]),N(a,"height",t[7]),N(s,"transform",l="translate("+t[17]*si+" "+t[18]*si+")")},m(t,o){k(t,e,o),x(e,n),x(e,s),x(s,a),wt(r,a,null),c=!0,u||(d=[C(s,"click",p),C(e,"mouseover",f),C(e,"mouseout",g)],u=!0)},p(e,i){t=e,(!c||4&i&&o!==(o=h(t[16].toLowerCase())+" svelte-19qioj0"))&&N(n,"class",o),(!c||4&i&&l!==(l="translate("+t[17]*si+" "+t[18]*si+")"))&&N(s,"transform",l)},i(t){c||(ht(r.$$.fragment,t),c=!0)},o(t){gt(r.$$.fragment,t),c=!1},d(t){t&&q(e),xt(r),u=!1,i(d)}}}function ei(t){let e,n,o=t[1]!==t[20]&&!t[3][t[15]]&&ti(t);return{c(){o&&o.c(),e=R()},m(t,s){o&&o.m(t,s),k(t,e,s),n=!0},p(t,n){t[1]===t[20]||t[3][t[15]]?o&&(pt(),gt(o,1,1,(()=>{o=null})),ft()):o?(o.p(t,n),14&n&&ht(o,1)):(o=ti(t),o.c(),ht(o,1),o.m(e.parentNode,e))},i(t){n||(ht(o),n=!0)},o(t){gt(o),n=!1},d(t){o&&o.d(t),t&&q(e)}}}function ni(t){let e,n,o,s,i,a,r,l,c,u,d,p,f,g,m,b;return c=new es({props:{blobRef:t[1],focussed:!0}}),u=new js({props:{x:580,y:-10,action:t[14],icon:Is}}),d=new Ls({props:{blobIndex:t[1]}}),p=new Ws({props:{ref:t[1]}}),{c(){e=S("g"),n=S("rect"),s=S("use"),r=S("g"),l=S("foreignObject"),yt(c.$$.fragment),yt(u.$$.fragment),yt(d.$$.fragment),yt(p.$$.fragment),N(n,"class","overlay svelte-19qioj0"),N(n,"x",-t[6]),N(n,"y",-t[6]-ii),N(n,"width",t[4]+2*t[6]),N(n,"height",t[5]+2*t[6]+ii),N(s,"class",i=h(t[2].blobs[t[1]].group.toLowerCase())+" svelte-19qioj0"),T(s,"xlink:href",a=`#blob-${t[1]}`),N(l,"transform","translate("+(t[5]-t[9].focussed.size)/2+" "+(t[5]-t[9].focussed.size)/2+")"),N(l,"width",t[9].focussed.size),N(l,"height",t[9].focussed.size)},m(o,i){k(o,e,i),x(e,n),k(o,s,i),k(o,r,i),x(r,l),wt(c,l,null),wt(u,r,null),wt(d,r,null),wt(p,r,null),g=!0,m||(b=C(n,"click",t[13]),m=!0)},p(t,e){(!g||6&e&&i!==(i=h(t[2].blobs[t[1]].group.toLowerCase())+" svelte-19qioj0"))&&N(s,"class",i),(!g||2&e&&a!==(a=`#blob-${t[1]}`))&&T(s,"xlink:href",a);const n={};2&e&&(n.blobRef=t[1]),c.$set(n);const o={};2&e&&(o.action=t[14]),u.$set(o);const r={};2&e&&(r.blobIndex=t[1]),d.$set(r);const l={};2&e&&(l.ref=t[1]),p.$set(l)},i(t){g||(nt((()=>{o||(o=bt(e,Et,{},!0)),o.run(1)})),ht(c.$$.fragment,t),ht(u.$$.fragment,t),ht(d.$$.fragment,t),ht(p.$$.fragment,t),nt((()=>{f||(f=bt(r,Et,{},!0)),f.run(1)})),g=!0)},o(t){o||(o=bt(e,Et,{},!1)),o.run(0),gt(c.$$.fragment,t),gt(u.$$.fragment,t),gt(d.$$.fragment,t),gt(p.$$.fragment,t),f||(f=bt(r,Et,{},!1)),f.run(0),g=!1},d(t){t&&q(e),t&&o&&o.end(),t&&q(s),t&&q(r),xt(c),xt(u),xt(d),xt(p),t&&f&&f.end(),m=!1,b()}}}function oi(t){let e,n,o,s,i,a,r,l,c=t[2].blobs,u=[];for(let e=0;e<c.length;e+=1)u[e]=Xs(Js(t,c,e));const d=t=>gt(u[t],1,1,(()=>{u[t]=null}));o=new It({}),i=new Vs({});let p=t[2].blobs,f=[];for(let e=0;e<p.length;e+=1)f[e]=Zs(Ys(t,p,e));const h=t=>gt(f[t],1,1,(()=>{f[t]=null}));let g=t[2].blobs,m=[];for(let e=0;e<g.length;e+=1)m[e]=ei(Ks(t,g,e));const b=t=>gt(m[t],1,1,(()=>{m[t]=null}));let v=void 0!==t[1]&&ni(t);return{c(){e=S("svg"),n=S("defs");for(let t=0;t<u.length;t+=1)u[t].c();yt(o.$$.fragment),s=S("foreignObject"),yt(i.$$.fragment);for(let t=0;t<f.length;t+=1)f[t].c();a=R();for(let t=0;t<m.length;t+=1)m[t].c();r=R(),v&&v.c(),N(s,"x","85"),N(s,"y","-85"),N(s,"width","950"),N(s,"height","60"),N(e,"viewBox","-"+t[6]+" -"+(t[6]+ii)+" "+(t[4]+2*t[6])+" "+(t[5]+2*t[6]+ii+ai)),N(e,"class","svelte-19qioj0")},m(t,c){k(t,e,c),x(e,n);for(let t=0;t<u.length;t+=1)u[t].m(n,null);wt(o,e,null),x(e,s),wt(i,s,null);for(let t=0;t<f.length;t+=1)f[t].m(e,null);x(e,a);for(let t=0;t<m.length;t+=1)m[t].m(e,null);x(e,r),v&&v.m(e,null),l=!0},p(t,[o]){if(15&o){let e;for(c=t[2].blobs,e=0;e<c.length;e+=1){const s=Js(t,c,e);u[e]?(u[e].p(s,o),ht(u[e],1)):(u[e]=Xs(s),u[e].c(),ht(u[e],1),u[e].m(n,null))}for(pt(),e=c.length;e<u.length;e+=1)d(e);ft()}if(396&o){let n;for(p=t[2].blobs,n=0;n<p.length;n+=1){const s=Ys(t,p,n);f[n]?(f[n].p(s,o),ht(f[n],1)):(f[n]=Zs(s),f[n].c(),ht(f[n],1),f[n].m(e,a))}for(pt(),n=p.length;n<f.length;n+=1)h(n);ft()}if(399&o){let n;for(g=t[2].blobs,n=0;n<g.length;n+=1){const s=Ks(t,g,n);m[n]?(m[n].p(s,o),ht(m[n],1)):(m[n]=ei(s),m[n].c(),ht(m[n],1),m[n].m(e,r))}for(pt(),n=g.length;n<m.length;n+=1)b(n);ft()}void 0!==t[1]?v?(v.p(t,o),2&o&&ht(v,1)):(v=ni(t),v.c(),ht(v,1),v.m(e,null)):v&&(pt(),gt(v,1,1,(()=>{v=null})),ft())},i(t){if(!l){for(let t=0;t<c.length;t+=1)ht(u[t]);ht(o.$$.fragment,t),ht(i.$$.fragment,t);for(let t=0;t<p.length;t+=1)ht(f[t]);for(let t=0;t<g.length;t+=1)ht(m[t]);ht(v),l=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)gt(u[t]);gt(o.$$.fragment,t),gt(i.$$.fragment,t),f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)gt(f[t]);m=m.filter(Boolean);for(let t=0;t<m.length;t+=1)gt(m[t]);gt(v),l=!1},d(t){t&&q(e),_(u,t),xt(o),xt(i),_(f,t),_(m,t),v&&v.d()}}}const si=200,ii=40,ai=20;function ri(t,e,n){let o,s;c(t,ge,(t=>n(2,o=t))),c(t,Gs,(t=>n(3,s=t)));const i=5*si,a=3*si,r=.05*si*4;K("canvasConfig",{spacing:si,overlap:.05,rows:3,columns:5,width:i,height:a,margin:r,zoomLevel:4,topMargin:ii});const l={};let u;const d=.8*si;return[l,u,o,s,i,a,r,d,(si-d)/2,{grid:{size:.8*si,offset:si*(1-.8)/2},focussed:{size:4*si*.8}},(t,e)=>{n(1,u=t),n(0,l[e]=!1,l)},t=>n(0,l[t]=!0,l),t=>n(0,l[t]=!1,l),()=>n(1,u=void 0),()=>n(1,u=void 0)]}class li extends _t{constructor(t){super(),qt(this,t,ri,oi,r,{})}}function ci(e){let n,o=e[1]([`info:${e[0]}`,"info:default"])+"";return{c(){n=E("article"),N(n,"class","svelte-ezhj2n")},m(t,e){k(t,n,e),n.innerHTML=o},p(t,[e]){3&e&&o!==(o=t[1]([`info:${t[0]}`,"info:default"])+"")&&(n.innerHTML=o)},i:t,o:t,d(t){t&&q(n)}}}function ui(t,e,n){let o,{infoPane:s}=e;const{t:i}=un();return c(t,i,(t=>n(1,o=t))),t.$$set=t=>{"infoPane"in t&&n(0,s=t.infoPane)},[s,o,i]}class di extends _t{constructor(t){super(),qt(this,t,ui,ci,r,{infoPane:0})}}function pi(e){return{c:t,m:t,p:t,d:t}}function fi(t){let e,n=1==t[1]&&hi(t);return{c(){n&&n.c(),e=R()},m(t,o){n&&n.m(t,o),k(t,e,o)},p(t,o){1==t[1]?n?n.p(t,o):(n=hi(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&q(e)}}}function hi(t){let e,n,o,s,r,l,c,u,d,p,f,h,g,m,b=t[2]("duplicate_file_message")+"",v=t[2]("duplicate_file_overwrite")+"",$=t[2]("duplicate_file_clone")+"",y=t[2]("duplicate_file_cancel")+"";return{c(){e=E("p"),n=O(b),o=L(),s=E("div"),r=E("button"),l=O(v),c=L(),u=E("button"),d=O($),p=L(),f=E("button"),h=O(y),N(e,"class","svelte-t3exm6"),N(r,"class","svelte-t3exm6"),N(u,"class","svelte-t3exm6"),N(f,"class","svelte-t3exm6"),N(s,"class","actions")},m(i,b){k(i,e,b),x(e,n),k(i,o,b),k(i,s,b),x(s,r),x(r,l),x(s,c),x(s,u),x(u,d),x(s,p),x(s,f),x(f,h),g||(m=[C(r,"click",t[6]),C(u,"click",t[5]),C(f,"click",(function(){a(t[0])&&t[0].apply(this,arguments)}))],g=!0)},p(e,o){t=e,4&o&&b!==(b=t[2]("duplicate_file_message")+"")&&P(n,b),4&o&&v!==(v=t[2]("duplicate_file_overwrite")+"")&&P(l,v),4&o&&$!==($=t[2]("duplicate_file_clone")+"")&&P(d,$),4&o&&y!==(y=t[2]("duplicate_file_cancel")+"")&&P(h,y)},d(t){t&&q(e),t&&q(o),t&&q(s),g=!1,i(m)}}}function gi(t){let e,n,o=t[2]("file_loading_message")+"";return{c(){e=E("p"),n=O(o),N(e,"class","svelte-t3exm6")},m(t,o){k(t,e,o),x(e,n)},p(t,e){4&e&&o!==(o=t[2]("file_loading_message")+"")&&P(n,o)},d(t){t&&q(e)}}}function mi(e){let n,o={ctx:e,current:null,token:null,hasCatch:!1,pending:gi,then:fi,catch:pi,value:10};return function(t,e){const n=e.token={};function o(t,o,s,i){if(e.token!==n)return;e.resolved=i;let a=e.ctx;void 0!==s&&(a=a.slice(),a[s]=i);const r=t&&(e.current=t)(a);let l=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==o&&t&&(pt(),gt(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),ft())})):e.block.d(1),r.c(),ht(r,1),r.m(e.mount(),e.anchor),l=!0),e.block=r,e.blocks&&(e.blocks[o]=r),l&&at()}if((s=t)&&"object"==typeof s&&"function"==typeof s.then){const n=G();if(t.then((t=>{V(n),o(e.then,1,e.value,t),V(null)}),(t=>{if(V(n),o(e.catch,2,e.error,t),V(null),!e.hasCatch)throw t})),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}var s}(e[4],o),{c(){n=R(),o.block.c()},m(t,e){k(t,n,e),o.block.m(t,o.anchor=e),o.mount=()=>n.parentNode,o.anchor=n},p(t,[n]){{const s=(e=t).slice();s[10]=o.resolved,o.block.p(s,n)}},i:t,o:t,d(t){t&&q(n),o.block.d(t),o.token=null,o=null}}}function bi(t,e,n){let o,s;c(t,be,(t=>n(9,o=t)));let{fileInput:i}=e,{doneAction:a}=e;const{t:r}=un();let l;c(t,r,(t=>n(2,s=t)));const u=async function(t){const e=new FileReader;return new Promise(((n,o)=>{e.readAsText(t),e.onload=()=>{const t=JSON.parse(e.result.toString(),ee);console.log(t),n(t)},e.onerror=o}))}(i.files[0]).then((t=>n(8,l=t)));let d=!1;function p(){ge.loadCanvas(l),a()}return t.$$set=t=>{"fileInput"in t&&n(7,i=t.fileInput),"doneAction"in t&&n(0,a=t.doneAction)},t.$$.update=()=>{770&t.$$.dirty&&void 0!==l&&(n(1,d=o.map((t=>t.uuid)).indexOf(l.uuid)>-1),d||p())},[a,d,s,r,u,function(){n(8,l.uuid=Qt(),l)},p,i,l,o]}class vi extends _t{constructor(t){super(),qt(this,t,bi,mi,r,{fileInput:7,doneAction:0})}}function $i(e){let o,s,i=[{key:s="path-"+e[0]},e[1]],a={};for(let t=0;t<i.length;t+=1)a=n(a,i[t]);return{c(){o=S("path"),I(o,a)},m(t,e){k(t,o,e)},p(t,[e]){I(o,a=vt(i,[1&e&&s!==(s="path-"+t[0])&&{key:s},2&e&&t[1]]))},i:t,o:t,d(t){t&&q(o)}}}function yi(t,e,n){let{id:o=""}=e,{data:s={}}=e;return t.$$set=t=>{"id"in t&&n(0,o=t.id),"data"in t&&n(1,s=t.data)},[o,s]}class wi extends _t{constructor(t){super(),qt(this,t,yi,$i,r,{id:0,data:1})}}function xi(e){let o,s,i=[{key:s="polygon-"+e[0]},e[1]],a={};for(let t=0;t<i.length;t+=1)a=n(a,i[t]);return{c(){o=S("polygon"),I(o,a)},m(t,e){k(t,o,e)},p(t,[e]){I(o,a=vt(i,[1&e&&s!==(s="polygon-"+t[0])&&{key:s},2&e&&t[1]]))},i:t,o:t,d(t){t&&q(o)}}}function ki(t,e,n){let{id:o=""}=e,{data:s={}}=e;return t.$$set=t=>{"id"in t&&n(0,o=t.id),"data"in t&&n(1,s=t.data)},[o,s]}class qi extends _t{constructor(t){super(),qt(this,t,ki,xi,r,{id:0,data:1})}}function _i(e){let n;return{c(){n=S("g")},m(t,o){k(t,n,o),n.innerHTML=e[0]},p(t,[e]){1&e&&(n.innerHTML=t[0])},i:t,o:t,d(t){t&&q(n)}}}function Ei(t,e,n){let o,s=870711;let{data:i}=e;function a(t){if(!t||!t.raw)return null;let e=t.raw;const n={};return e=e.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,((t,e)=>{const o=(s+=1,`fa-${s.toString(16)}`);return n[e]=o,` id="${o}"`})),e=e.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,((t,e,o,s)=>{const i=e||s;return i&&n[i]?`#${n[i]}`:t})),e}return t.$$set=t=>{"data"in t&&n(1,i=t.data)},t.$$.update=()=>{2&t.$$.dirty&&n(0,o=a(i))},[o,i]}class Si extends _t{constructor(t){super(),qt(this,t,Ei,_i,r,{data:1})}}function Oi(t){let e,n,o,s;const i=t[13].default,a=u(i,t,t[12],null);return{c(){e=S("svg"),a&&a.c(),N(e,"version","1.1"),N(e,"class",n="fa-icon "+t[0]+" svelte-roizm6"),N(e,"x",t[8]),N(e,"y",t[9]),N(e,"width",t[1]),N(e,"height",t[2]),N(e,"aria-label",t[11]),N(e,"role",o=t[11]?"img":"presentation"),N(e,"viewBox",t[3]),N(e,"style",t[10]),H(e,"fa-spin",t[4]),H(e,"fa-pulse",t[6]),H(e,"fa-inverse",t[5]),H(e,"fa-flip-horizontal","horizontal"===t[7]),H(e,"fa-flip-vertical","vertical"===t[7])},m(t,n){k(t,e,n),a&&a.m(e,null),s=!0},p(t,[r]){a&&a.p&&4096&r&&p(a,i,t,t[12],r,null,null),(!s||1&r&&n!==(n="fa-icon "+t[0]+" svelte-roizm6"))&&N(e,"class",n),(!s||256&r)&&N(e,"x",t[8]),(!s||512&r)&&N(e,"y",t[9]),(!s||2&r)&&N(e,"width",t[1]),(!s||4&r)&&N(e,"height",t[2]),(!s||2048&r)&&N(e,"aria-label",t[11]),(!s||2048&r&&o!==(o=t[11]?"img":"presentation"))&&N(e,"role",o),(!s||8&r)&&N(e,"viewBox",t[3]),(!s||1024&r)&&N(e,"style",t[10]),17&r&&H(e,"fa-spin",t[4]),65&r&&H(e,"fa-pulse",t[6]),33&r&&H(e,"fa-inverse",t[5]),129&r&&H(e,"fa-flip-horizontal","horizontal"===t[7]),129&r&&H(e,"fa-flip-vertical","vertical"===t[7])},i(t){s||(ht(a,t),s=!0)},o(t){gt(a,t),s=!1},d(t){t&&q(e),a&&a.d(t)}}}function Li(t,e,n){let{$$slots:o={},$$scope:s}=e,{class:i}=e,{width:a}=e,{height:r}=e,{box:l}=e,{spin:c=!1}=e,{inverse:u=!1}=e,{pulse:d=!1}=e,{flip:p=null}=e,{x:f}=e,{y:h}=e,{style:g}=e,{label:m}=e;return t.$$set=t=>{"class"in t&&n(0,i=t.class),"width"in t&&n(1,a=t.width),"height"in t&&n(2,r=t.height),"box"in t&&n(3,l=t.box),"spin"in t&&n(4,c=t.spin),"inverse"in t&&n(5,u=t.inverse),"pulse"in t&&n(6,d=t.pulse),"flip"in t&&n(7,p=t.flip),"x"in t&&n(8,f=t.x),"y"in t&&n(9,h=t.y),"style"in t&&n(10,g=t.style),"label"in t&&n(11,m=t.label),"$$scope"in t&&n(12,s=t.$$scope)},[i,a,r,l,c,u,d,p,f,h,g,m,s,o]}class Ri extends _t{constructor(t){super(),qt(this,t,Li,Oi,r,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,x:8,y:9,style:10,label:11})}}function Ci(t,e,n){const o=t.slice();return o[24]=e[n],o[26]=n,o}function ji(t,e,n){const o=t.slice();return o[27]=e[n],o[26]=n,o}function Ni(t){let e,n,o,s,i=t[0].paths&&Ii(t),a=t[0].polygons&&Ai(t),r=t[0].raw&&Mi(t);return{c(){i&&i.c(),e=L(),a&&a.c(),n=L(),r&&r.c(),o=R()},m(t,l){i&&i.m(t,l),k(t,e,l),a&&a.m(t,l),k(t,n,l),r&&r.m(t,l),k(t,o,l),s=!0},p(t,s){t[0].paths?i?(i.p(t,s),1&s&&ht(i,1)):(i=Ii(t),i.c(),ht(i,1),i.m(e.parentNode,e)):i&&(pt(),gt(i,1,1,(()=>{i=null})),ft()),t[0].polygons?a?(a.p(t,s),1&s&&ht(a,1)):(a=Ai(t),a.c(),ht(a,1),a.m(n.parentNode,n)):a&&(pt(),gt(a,1,1,(()=>{a=null})),ft()),t[0].raw?r?(r.p(t,s),1&s&&ht(r,1)):(r=Mi(t),r.c(),ht(r,1),r.m(o.parentNode,o)):r&&(pt(),gt(r,1,1,(()=>{r=null})),ft())},i(t){s||(ht(i),ht(a),ht(r),s=!0)},o(t){gt(i),gt(a),gt(r),s=!1},d(t){i&&i.d(t),t&&q(e),a&&a.d(t),t&&q(n),r&&r.d(t),t&&q(o)}}}function Ii(t){let e,n,o=t[0].paths,s=[];for(let e=0;e<o.length;e+=1)s[e]=Ti(ji(t,o,e));const i=t=>gt(s[t],1,1,(()=>{s[t]=null}));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=R()},m(t,o){for(let e=0;e<s.length;e+=1)s[e].m(t,o);k(t,e,o),n=!0},p(t,n){if(1&n){let a;for(o=t[0].paths,a=0;a<o.length;a+=1){const i=ji(t,o,a);s[a]?(s[a].p(i,n),ht(s[a],1)):(s[a]=Ti(i),s[a].c(),ht(s[a],1),s[a].m(e.parentNode,e))}for(pt(),a=o.length;a<s.length;a+=1)i(a);ft()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)ht(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)gt(s[t]);n=!1},d(t){_(s,t),t&&q(e)}}}function Ti(t){let e,n;return e=new wi({props:{id:t[26],data:t[27]}}),{c(){yt(e.$$.fragment)},m(t,o){wt(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.data=t[27]),e.$set(o)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){gt(e.$$.fragment,t),n=!1},d(t){xt(e,t)}}}function Ai(t){let e,n,o=t[0].polygons,s=[];for(let e=0;e<o.length;e+=1)s[e]=Pi(Ci(t,o,e));const i=t=>gt(s[t],1,1,(()=>{s[t]=null}));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=R()},m(t,o){for(let e=0;e<s.length;e+=1)s[e].m(t,o);k(t,e,o),n=!0},p(t,n){if(1&n){let a;for(o=t[0].polygons,a=0;a<o.length;a+=1){const i=Ci(t,o,a);s[a]?(s[a].p(i,n),ht(s[a],1)):(s[a]=Pi(i),s[a].c(),ht(s[a],1),s[a].m(e.parentNode,e))}for(pt(),a=o.length;a<s.length;a+=1)i(a);ft()}},i(t){if(!n){for(let t=0;t<o.length;t+=1)ht(s[t]);n=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)gt(s[t]);n=!1},d(t){_(s,t),t&&q(e)}}}function Pi(t){let e,n;return e=new qi({props:{id:t[26],data:t[24]}}),{c(){yt(e.$$.fragment)},m(t,o){wt(e,t,o),n=!0},p(t,n){const o={};1&n&&(o.data=t[24]),e.$set(o)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){gt(e.$$.fragment,t),n=!1},d(t){xt(e,t)}}}function Mi(t){let e,n,o;function s(e){t[15](e)}let i={};return void 0!==t[0]&&(i.data=t[0]),e=new Si({props:i}),X.push((()=>$t(e,"data",s))),{c(){yt(e.$$.fragment)},m(t,n){wt(e,t,n),o=!0},p(t,o){const s={};!n&&1&o&&(n=!0,s.data=t[0],ot((()=>n=!1))),e.$set(s)},i(t){o||(ht(e.$$.fragment,t),o=!0)},o(t){gt(e.$$.fragment,t),o=!1},d(t){xt(e,t)}}}function zi(t){let e;const n=t[14].default,o=u(n,t,t[16],null),s=o||function(t){let e,n,o=t[0]&&Ni(t);return{c(){o&&o.c(),e=R()},m(t,s){o&&o.m(t,s),k(t,e,s),n=!0},p(t,n){t[0]?o?(o.p(t,n),1&n&&ht(o,1)):(o=Ni(t),o.c(),ht(o,1),o.m(e.parentNode,e)):o&&(pt(),gt(o,1,1,(()=>{o=null})),ft())},i(t){n||(ht(o),n=!0)},o(t){gt(o),n=!1},d(t){o&&o.d(t),t&&q(e)}}}(t);return{c(){s&&s.c()},m(t,n){s&&s.m(t,n),e=!0},p(t,e){o?o.p&&65536&e&&p(o,n,t,t[16],e,null,null):s&&s.p&&1&e&&s.p(t,e)},i(t){e||(ht(s,t),e=!0)},o(t){gt(s,t),e=!1},d(t){s&&s.d(t)}}}function Hi(t){let e,n;return e=new Ri({props:{label:t[6],width:t[7],height:t[8],box:t[10],style:t[9],spin:t[2],flip:t[5],inverse:t[3],pulse:t[4],class:t[1],$$slots:{default:[zi]},$$scope:{ctx:t}}}),{c(){yt(e.$$.fragment)},m(t,o){wt(e,t,o),n=!0},p(t,[n]){const o={};64&n&&(o.label=t[6]),128&n&&(o.width=t[7]),256&n&&(o.height=t[8]),1024&n&&(o.box=t[10]),512&n&&(o.style=t[9]),4&n&&(o.spin=t[2]),32&n&&(o.flip=t[5]),8&n&&(o.inverse=t[3]),16&n&&(o.pulse=t[4]),2&n&&(o.class=t[1]),65537&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){n||(ht(e.$$.fragment,t),n=!0)},o(t){gt(e.$$.fragment,t),n=!1},d(t){xt(e,t)}}}function Ui(t,e,n){let o,s,i,a,{$$slots:r={},$$scope:l}=e,{class:c=""}=e,{data:u}=e,{scale:d=1}=e,{spin:p=!1}=e,{inverse:f=!1}=e,{pulse:h=!1}=e,{flip:g=null}=e,{label:m=null}=e,{self:b=null}=e,{style:v=null}=e;function $(){let t=1;return void 0!==d&&(t=Number(d)),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),1):1*t}function y(){return b?Math.max(b.width,b.height)/16:1}return t.$$set=t=>{"class"in t&&n(1,c=t.class),"data"in t&&n(11,u=t.data),"scale"in t&&n(12,d=t.scale),"spin"in t&&n(2,p=t.spin),"inverse"in t&&n(3,f=t.inverse),"pulse"in t&&n(4,h=t.pulse),"flip"in t&&n(5,g=t.flip),"label"in t&&n(6,m=t.label),"self"in t&&n(0,b=t.self),"style"in t&&n(13,v=t.style),"$$scope"in t&&n(16,l=t.$$scope)},t.$$.update=()=>{14336&t.$$.dirty&&(!function(){if(void 0===u)return;const t=function(t){if("iconName"in t&&"icon"in t){let e={},n=t.icon,o=t.iconName,s={width:n[0],height:n[1],paths:[{d:n[4]}]};return e[o]=s,e}return t}(u),[e]=Object.keys(t),o=t[e];o.paths||(o.paths=[]),o.d&&o.paths.push({d:o.d}),o.polygons||(o.polygons=[]),o.points&&o.polygons.push({points:o.points}),n(0,b=o)}(),n(7,o=b?b.width/y()*$():0),n(8,s=b?b.height/y()*$():0),n(9,i=function(){let t="";null!==v&&(t+=v);let e=$();return 1===e?t:(""===t||t.endsWith(";")||(t+="; "),`${t}font-size: ${e}em`)}()),n(10,a=b?`0 0 ${b.width} ${b.height}`:`0 0 ${o} ${s}`))},[b,c,p,f,h,g,m,o,s,i,a,u,d,v,r,function(t){b=t,n(0,b)},l]}class Di extends _t{constructor(t){super(),qt(this,t,Ui,Hi,r,{class:1,data:11,scale:12,spin:2,inverse:3,pulse:4,flip:5,label:6,self:0,style:13})}}var Wi={times:{width:1408,height:1792,paths:[{d:"M1298 1322q0 40-28 68l-136 136q-28 28-68 28t-68-28l-294-294-294 294q-28 28-68 28t-68-28l-136-136q-28-28-28-68t28-68l294-294-294-294q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 294 294-294q28-28 68-28t68 28l136 136q28 28 28 68t-28 68l-294 294 294 294q28 28 28 68z"}]}},Fi={"file-o":{width:1536,height:1792,paths:[{d:"M1468 380q28 28 48 76t20 88v1152q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h896q40 0 88 20t76 48zM1024 136v376h376q-10-29-22-41l-313-313q-12-12-41-22zM1408 1664v-1024h-416q-40 0-68-28t-28-68v-416h-768v1536h1280z"}]}},Bi={print:{width:1664,height:1792,paths:[{d:"M384 1536h896v-256h-896v256zM384 896h896v-384h-160q-40 0-68-28t-28-68v-160h-640v640zM1536 960q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zM1664 960v416q0 13-9.5 22.5t-22.5 9.5h-224v160q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-160h-224q-13 0-22.5-9.5t-9.5-22.5v-416q0-79 56.5-135.5t135.5-56.5h64v-544q0-40 28-68t68-28h672q40 0 88 20t76 48l152 152q28 28 48 76t20 88v256h64q79 0 135.5 56.5t56.5 135.5z"}]}},Vi={plus:{width:1408,height:1792,paths:[{d:"M1408 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}]}},Gi={upload:{width:1664,height:1792,paths:[{d:"M1280 1472q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zM1536 1472q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zM1664 1248v320q0 40-28 68t-68 28h-1472q-40 0-68-28t-28-68v-320q0-40 28-68t68-28h427q21 56 70.5 92t110.5 36h256q61 0 110.5-36t70.5-92h427q40 0 68 28t28 68zM1339 600q-17 40-59 40h-256v448q0 26-19 45t-45 19h-256q-26 0-45-19t-19-45v-448h-256q-42 0-59-40-17-39 14-69l448-448q18-19 45-19t45 19l448 448q31 30 14 69z"}]}},Ki={trash:{width:1408,height:1792,paths:[{d:"M512 1376v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zM768 1376v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zM1024 1376v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zM480 384h448l-48-117q-7-9-17-11h-317q-10 2-17 11zM1408 416v64q0 14-9 23t-23 9h-96v948q0 83-47 143.5t-113 60.5h-832q-66 0-113-58.5t-47-141.5v-952h-96q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h309l70-167q15-37 54-63t79-26h320q40 0 79 26t54 63l70 167h309q14 0 23 9t9 23z"}]}};function Yi(t){let e,n,o,s,i,a,r,l,c,u,d,p,f,h,g,m,b=t[4]("blank_button")+"",v=t[4]("upload_button")+"";return o=new Di({props:{data:Fi,scale:Zi}}),u=new Di({props:{data:Gi,scale:Zi}}),{c(){e=E("div"),n=E("button"),yt(o.$$.fragment),s=L(),i=E("p"),a=O(b),r=L(),l=E("button"),c=E("label"),yt(u.$$.fragment),d=L(),p=E("p"),f=O(v),N(n,"class","right-border svelte-zq7dg1"),N(c,"for","file-loader"),N(l,"class","svelte-zq7dg1"),N(e,"class","svelte-zq7dg1")},m(b,v){k(b,e,v),x(e,n),wt(o,n,null),x(n,s),x(n,i),x(i,a),x(e,r),x(e,l),x(l,c),wt(u,c,null),x(c,d),x(c,p),x(p,f),h=!0,g||(m=C(n,"click",t[9]),g=!0)},p(t,e){(!h||16&e)&&b!==(b=t[4]("blank_button")+"")&&P(a,b),(!h||16&e)&&v!==(v=t[4]("upload_button")+"")&&P(f,v)},i(t){h||(ht(o.$$.fragment,t),ht(u.$$.fragment,t),h=!0)},o(t){gt(o.$$.fragment,t),gt(u.$$.fragment,t),h=!1},d(t){t&&q(e),xt(o),xt(u),g=!1,m()}}}function Ji(t){let e,o,s;const i=[t[2],{doneAction:t[8]}];var a=t[1];function r(t){let e={};for(let t=0;t<i.length;t+=1)e=n(e,i[t]);return{props:e}}return a&&(e=new a(r())),{c(){e&&yt(e.$$.fragment),o=R()},m(t,n){e&&wt(e,t,n),k(t,o,n),s=!0},p(t,n){const s=68&n?vt(i,[4&n&&(l=t[2],"object"==typeof l&&null!==l?l:{}),64&n&&{doneAction:t[8]}]):{};var l;if(a!==(a=t[1])){if(e){pt();const t=e;gt(t.$$.fragment,1,0,(()=>{xt(t,1)})),ft()}a?(e=new a(r()),yt(e.$$.fragment),ht(e.$$.fragment,1),wt(e,o.parentNode,o)):e=null}else a&&e.$set(s)},i(t){s||(e&&ht(e.$$.fragment,t),s=!0)},o(t){e&&gt(e.$$.fragment,t),s=!1},d(t){t&&q(o),e&&xt(e,t)}}}function Xi(t){let e,n,o,s,i,a,r,l,c=t[4]("new_canvas_button")+"";return n=new Di({props:{data:Vi,scale:Zi}}),{c(){e=E("button"),yt(n.$$.fragment),o=L(),s=E("h2"),i=O(c),N(e,"class","svelte-zq7dg1")},m(c,u){k(c,e,u),wt(n,e,null),x(e,o),x(e,s),x(s,i),a=!0,r||(l=C(e,"click",t[7]),r=!0)},p(t,e){(!a||16&e)&&c!==(c=t[4]("new_canvas_button")+"")&&P(i,c)},i(t){a||(ht(n.$$.fragment,t),a=!0)},o(t){gt(n.$$.fragment,t),a=!1},d(t){t&&q(e),xt(n),r=!1,l()}}}function Qi(t){let e,n,o,s,i,a,r,l;const c=[Xi,Ji,Yi],u=[];function d(t,e){return t[0]?0:t[1]?1:2}return n=d(t),o=u[n]=c[n](t),{c(){e=E("nav"),o.c(),s=L(),i=E("input"),N(e,"class","svelte-zq7dg1"),N(i,"id","file-loader"),N(i,"type","file"),N(i,"accept",".json"),N(i,"class","svelte-zq7dg1")},m(o,c){k(o,e,c),u[n].m(e,null),k(o,s,c),k(o,i,c),t[10](i),a=!0,r||(l=C(i,"change",t[11]),r=!0)},p(t,[s]){let i=n;n=d(t),n===i?u[n].p(t,s):(pt(),gt(u[i],1,1,(()=>{u[i]=null})),ft(),o=u[n],o?o.p(t,s):(o=u[n]=c[n](t),o.c()),ht(o,1),o.m(e,null))},i(t){a||(ht(o),a=!0)},o(t){gt(o),a=!1},d(o){o&&q(e),u[n].d(),o&&q(s),o&&q(i),t[10](null),r=!1,l()}}}const Zi=3;function ta(t,e,n){let o;const{t:s}=un();let i,a,r,l;function u(){n(0,i=!0),n(1,a=void 0),n(2,r={})}c(t,s,(t=>n(4,o=t))),u();return[i,a,r,l,o,s,u,()=>n(0,i=!1),()=>u(),()=>{ge.resetState(),u()},function(t){X[t?"unshift":"push"]((()=>{l=t,n(3,l)}))},()=>{n(2,r={fileInput:l}),n(1,a=vi)}]}class ea extends _t{constructor(t){super(),qt(this,t,ta,Qi,r,{})}}function na(t){const e=t.map((t=>t.status||le.IN_PROGRESS)).map((t=>t.toString()));for(const t in le)if(e.indexOf(t)>-1)return t}function oa(t){let e;return{c(){e=E("input"),N(e,"type","disabled"),e.value=t[0],N(e,"class","svelte-11pmb2p")},m(t,n){k(t,e,n)},p(t,n){1&n&&(e.value=t[0])},d(t){t&&q(e)}}}function sa(t){let e,n,o;return{c(){e=E("input"),N(e,"class","svelte-11pmb2p"),H(e,"highlight",""===t[0])},m(s,i){k(s,e,i),M(e,t[8]),n||(o=[C(e,"input",t[13]),C(e,"keyup",t[14]),C(e,"focusout",t[15])],n=!0)},p(t,n){256&n&&e.value!==t[8]&&M(e,t[8]),1&n&&H(e,"highlight",""===t[0])},d(t){t&&q(e),n=!1,i(o)}}}function ia(e){let n,o,s,a,r,l,c,u,d,p,f,h=e[10]("confirm_delete")+"",g=e[10]("confirm_delete_yes")+"",m=e[10]("confirm_delete_no")+"";return{c(){n=E("p"),o=O(h),s=L(),a=E("footer"),r=E("button"),l=O(g),c=L(),u=E("button"),d=O(m),N(a,"class","actions svelte-11pmb2p")},m(t,i){k(t,n,i),x(n,o),k(t,s,i),k(t,a,i),x(a,r),x(r,l),x(a,c),x(a,u),x(u,d),p||(f=[C(r,"click",e[18]),C(u,"click",e[19])],p=!0)},p(t,e){1024&e&&h!==(h=t[10]("confirm_delete")+"")&&P(o,h),1024&e&&g!==(g=t[10]("confirm_delete_yes")+"")&&P(l,g),1024&e&&m!==(m=t[10]("confirm_delete_no")+"")&&P(d,m)},i:t,o:t,d(t){t&&q(n),t&&q(s),t&&q(a),p=!1,i(f)}}}function aa(t){let e,n,o,s,i,a,r,l,c,u,d,p,f,h,g,m,b,v,$,y=t[10]("status:"+t[9])+"",w=t[2].toLocaleString()+"",_=t[10](t[3]?"loaded":"load_action")+"";m=new Di({props:{data:Bi,scale:ca}});let S=t[5]&&ra(t);return{c(){e=E("p"),n=O("Status: "),o=O(y),s=L(),i=E("p"),a=O("Last saved: "),r=O(w),l=L(),c=E("footer"),u=E("ul"),d=E("li"),p=O(_),f=L(),h=E("li"),g=E("a"),yt(m.$$.fragment),v=L(),S&&S.c(),N(e,"class","small-font svelte-11pmb2p"),N(i,"class","small-font svelte-11pmb2p"),N(d,"class","svelte-11pmb2p"),N(g,"href",b="./report?uuid="+t[1]),N(g,"target","_blank"),N(g,"alt","Open a printable version of this canvas"),N(g,"class","svelte-11pmb2p"),N(h,"class","svelte-11pmb2p"),N(u,"class","svelte-11pmb2p"),N(c,"class","svelte-11pmb2p")},m(t,b){k(t,e,b),x(e,n),x(e,o),k(t,s,b),k(t,i,b),x(i,a),x(i,r),k(t,l,b),k(t,c,b),x(c,u),x(u,d),x(d,p),x(u,f),x(u,h),x(h,g),wt(m,g,null),x(u,v),S&&S.m(u,null),$=!0},p(t,e){(!$||1536&e)&&y!==(y=t[10]("status:"+t[9])+"")&&P(o,y),(!$||4&e)&&w!==(w=t[2].toLocaleString()+"")&&P(r,w),(!$||1032&e)&&_!==(_=t[10](t[3]?"loaded":"load_action")+"")&&P(p,_),(!$||2&e&&b!==(b="./report?uuid="+t[1]))&&N(g,"href",b),t[5]?S?(S.p(t,e),32&e&&ht(S,1)):(S=ra(t),S.c(),ht(S,1),S.m(u,null)):S&&(pt(),gt(S,1,1,(()=>{S=null})),ft())},i(t){$||(ht(m.$$.fragment,t),ht(S),$=!0)},o(t){gt(m.$$.fragment,t),gt(S),$=!1},d(t){t&&q(e),t&&q(s),t&&q(i),t&&q(l),t&&q(c),xt(m),S&&S.d()}}}function ra(e){let n,o,s,i,a;return o=new Di({props:{data:Ki,scale:ca}}),{c(){n=E("li"),yt(o.$$.fragment),N(n,"class","svelte-11pmb2p")},m(t,r){k(t,n,r),wt(o,n,null),s=!0,i||(a=C(n,"click",j(e[17])),i=!0)},p:t,i(t){s||(ht(o.$$.fragment,t),s=!0)},o(t){gt(o.$$.fragment,t),s=!1},d(t){t&&q(n),xt(o),i=!1,a()}}}function la(t){let e,n,o,s,i,a,r,l;function c(t,e){return t[7]||""===t[0]?sa:oa}let u=c(t),d=u(t);const p=[aa,ia],f=[];function h(t,e){return void 0===t[6]?0:"delete"===t[6]?1:-1}return~(s=h(t))&&(i=f[s]=p[s](t)),{c(){e=E("section"),n=E("h2"),d.c(),o=L(),i&&i.c(),N(n,"class","svelte-11pmb2p"),H(n,"action",void 0!==t[4]),N(e,"class","svelte-11pmb2p")},m(i,c){k(i,e,c),x(e,n),d.m(n,null),x(e,o),~s&&f[s].m(e,null),a=!0,r||(l=C(n,"click",j(t[16])),r=!0)},p(t,[o]){u===(u=c(t))&&d?d.p(t,o):(d.d(1),d=u(t),d&&(d.c(),d.m(n,null))),16&o&&H(n,"action",void 0!==t[4]);let a=s;s=h(t),s===a?~s&&f[s].p(t,o):(i&&(pt(),gt(f[a],1,1,(()=>{f[a]=null})),ft()),~s?(i=f[s],i?i.p(t,o):(i=f[s]=p[s](t),i.c()),ht(i,1),i.m(e,null)):i=null)},i(t){a||(ht(i),a=!0)},o(t){gt(i),a=!1},d(t){t&&q(e),d.d(),~s&&f[s].d(),r=!1,l()}}}const ca=1.3;function ua(t,e,n){let o,s;const{t:i}=un();c(t,i,(t=>n(10,s=t)));let a,r,{title:l}=e,{uuid:u}=e,{lastUpdated:d}=e,{blobs:p}=e,{loaded:f=!1}=e,{renameAction:h}=e,{deleteAction:g}=e,m=!1;return t.$$set=t=>{"title"in t&&n(0,l=t.title),"uuid"in t&&n(1,u=t.uuid),"lastUpdated"in t&&n(2,d=t.lastUpdated),"blobs"in t&&n(12,p=t.blobs),"loaded"in t&&n(3,f=t.loaded),"renameAction"in t&&n(4,h=t.renameAction),"deleteAction"in t&&n(5,g=t.deleteAction)},t.$$.update=()=>{1&t.$$.dirty&&n(8,r=l),4096&t.$$.dirty&&n(9,o=na(p))},[l,u,d,f,h,g,a,m,r,o,s,i,p,function(){r=this.value,n(8,r),n(0,l)},t=>{h(r),"Enter"==t.key&&n(7,m=!1)},t=>{h(r),n(7,m=!1)},()=>{void 0!==h&&n(7,m=!0)},()=>n(6,a="delete"),()=>{g(),n(6,a=void 0)},()=>{n(6,a=void 0)}]}class da extends _t{constructor(t){super(),qt(this,t,ua,la,r,{title:0,uuid:1,lastUpdated:2,blobs:12,loaded:3,renameAction:4,deleteAction:5})}}function pa(t,e,n){const o=t.slice();return o[10]=e[n],o}function fa(t){let e,n,o,s,i,a;function r(...e){return t[6](t[10],...e)}function l(){return t[7](t[10])}function c(){return t[8](t[10])}return n=new da({props:{title:t[10].title,uuid:t[10].uuid,lastUpdated:t[10].lastUpdated,blobs:t[10].blobs,renameAction:r,deleteAction:l}}),{c(){e=E("li"),yt(n.$$.fragment),o=L(),N(e,"class","loadable svelte-vfxv6s")},m(t,r){k(t,e,r),wt(n,e,null),x(e,o),s=!0,i||(a=C(e,"click",c),i=!0)},p(e,o){t=e;const s={};4&o&&(s.title=t[10].title),4&o&&(s.uuid=t[10].uuid),4&o&&(s.lastUpdated=t[10].lastUpdated),4&o&&(s.blobs=t[10].blobs),4&o&&(s.renameAction=r),4&o&&(s.deleteAction=l),n.$set(s)},i(t){s||(ht(n.$$.fragment,t),s=!0)},o(t){gt(n.$$.fragment,t),s=!1},d(t){t&&q(e),xt(n),i=!1,a()}}}function ha(t){let e,n,o=t[10].uuid!==t[0].uuid&&fa(t);return{c(){o&&o.c(),e=R()},m(t,s){o&&o.m(t,s),k(t,e,s),n=!0},p(t,n){t[10].uuid!==t[0].uuid?o?(o.p(t,n),5&n&&ht(o,1)):(o=fa(t),o.c(),ht(o,1),o.m(e.parentNode,e)):o&&(pt(),gt(o,1,1,(()=>{o=null})),ft())},i(t){n||(ht(o),n=!0)},o(t){gt(o),n=!1},d(t){o&&o.d(t),t&&q(e)}}}function ga(t){let e,n,o,s,i,a;s=new da({props:{title:t[0].title,uuid:t[0].uuid,lastUpdated:t[1],blobs:t[0].blobs,loaded:!0,renameAction:t[4],deleteAction:t[5]}});let r=t[2],l=[];for(let e=0;e<r.length;e+=1)l[e]=ha(pa(t,r,e));const c=t=>gt(l[t],1,1,(()=>{l[t]=null}));return{c(){e=E("div"),n=E("ul"),o=E("li"),yt(s.$$.fragment),i=L();for(let t=0;t<l.length;t+=1)l[t].c();N(o,"class","loaded svelte-vfxv6s"),N(n,"class","svelte-vfxv6s")},m(t,r){k(t,e,r),x(e,n),x(n,o),wt(s,o,null),x(n,i);for(let t=0;t<l.length;t+=1)l[t].m(n,null);a=!0},p(t,[e]){const o={};if(1&e&&(o.title=t[0].title),1&e&&(o.uuid=t[0].uuid),2&e&&(o.lastUpdated=t[1]),1&e&&(o.blobs=t[0].blobs),1&e&&(o.renameAction=t[4]),s.$set(o),5&e){let o;for(r=t[2],o=0;o<r.length;o+=1){const s=pa(t,r,o);l[o]?(l[o].p(s,e),ht(l[o],1)):(l[o]=ha(s),l[o].c(),ht(l[o],1),l[o].m(n,null))}for(pt(),o=r.length;o<l.length;o+=1)c(o);ft()}},i(t){if(!a){ht(s.$$.fragment,t);for(let t=0;t<r.length;t+=1)ht(l[t]);a=!0}},o(t){gt(s.$$.fragment,t),l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)gt(l[t]);a=!1},d(t){t&&q(e),xt(s),_(l,t)}}}function ma(t,e,n){let o,s,i;c(t,ge,(t=>n(0,o=t))),c(t,te,(t=>n(1,s=t))),c(t,be,(t=>n(2,i=t)));const a=()=>{const t=o.uuid,e=i.map((t=>t.uuid)).filter((t=>t!==o.uuid));e.length<1?ge.resetState():oe(e[0]),ie(t)};return t.$$.update=()=>{t.$$.dirty},[o,s,i,a,t=>g(ge,o.title=t,o),()=>a(),(t,e)=>se(t.uuid,e),t=>ie(t.uuid),t=>oe(t.uuid)]}class ba extends _t{constructor(t){super(),qt(this,t,ma,ga,r,{})}}function va(t){let e,n,o,s,i,a,r,l,c,u,d,p=t[1]("back_button")+"";return i=new ea({}),l=new ba({}),{c(){e=E("div"),n=E("button"),o=O(p),s=L(),yt(i.$$.fragment),a=L(),r=E("div"),yt(l.$$.fragment),N(n,"class","large-button"),N(e,"class","svelte-8iay5n"),N(r,"class","two-cols svelte-8iay5n")},m(p,f){k(p,e,f),x(e,n),x(n,o),x(e,s),wt(i,e,null),k(p,a,f),k(p,r,f),wt(l,r,null),c=!0,u||(d=C(n,"click",t[3]),u=!0)},p(t,[e]){(!c||2&e)&&p!==(p=t[1]("back_button")+"")&&P(o,p)},i(t){c||(ht(i.$$.fragment,t),ht(l.$$.fragment,t),c=!0)},o(t){gt(i.$$.fragment,t),gt(l.$$.fragment,t),c=!1},d(t){t&&q(e),xt(i),t&&q(a),t&&q(r),xt(l),u=!1,d()}}}function $a(t,e,n){let o,{backAction:s}=e;const{t:i}=un();c(t,i,(t=>n(1,o=t)));return t.$$set=t=>{"backAction"in t&&n(0,s=t.backAction)},[s,o,i,()=>s()]}class ya extends _t{constructor(t){super(),qt(this,t,$a,va,r,{backAction:0})}}function wa(t,e,n){const o=t.slice();return o[19]=e[n],o}function xa(t,e,n){const o=t.slice();return o[22]=e[n],o}function ka(t){let e,n,o,s,i,a,r,l,c,u,d,p,f,h,g,m,b,v,$,y,w,S,R,j,I,T,A,M,z,H,U,D=t[7]("new_button")+"",W=t[7]("export_button")+"",F=t[7]("print_button")+"",B=t[7]("filter_by_status_title")+"",V=t[7]("filter_by_group_title")+"",G=t[10],K=[];for(let e=0;e<G.length;e+=1)K[e]=_a(xa(t,G,e));let Y=t[9],J=[];for(let e=0;e<Y.length;e+=1)J[e]=Ea(wa(t,Y,e));return M=new di({props:{infoPane:t[4]}}),{c(){e=E("div"),n=E("button"),o=O(D),s=L(),i=E("a"),a=O(W),r=L(),l=E("a"),c=O(F),d=L(),p=E("div"),f=E("fieldset"),h=E("legend"),g=E("h2"),m=O(B),b=L(),v=E("ul");for(let t=0;t<K.length;t+=1)K[t].c();$=L(),y=E("fieldset"),w=E("legend"),S=E("h2"),R=O(V),j=L(),I=E("ul");for(let t=0;t<J.length;t+=1)J[t].c();T=L(),A=E("div"),yt(M.$$.fragment),N(n,"class","large-button"),N(i,"class","large-button"),N(i,"href",t[5]),N(i,"download",t[6]),N(l,"class","large-button"),N(l,"href",u="report?uuid="+t[2].uuid),N(l,"target","_blank"),N(e,"class","content-holder narrow-bordered-right wide-bordered-bottom svelte-crgqol"),N(g,"class","svelte-crgqol"),N(v,"class","svelte-crgqol"),N(f,"class","content-holder wide-bordered-bottom  narrow-bordered-bottom svelte-crgqol"),N(S,"class","svelte-crgqol"),N(I,"class","svelte-crgqol"),N(y,"class","content-holder wide-bordered-bottom svelte-crgqol"),N(p,"class","two-cols narrow-bordered-right svelte-crgqol"),N(A,"class","content-holder two-cols svelte-crgqol")},m(u,q){k(u,e,q),x(e,n),x(n,o),x(e,s),x(e,i),x(i,a),x(e,r),x(e,l),x(l,c),k(u,d,q),k(u,p,q),x(p,f),x(f,h),x(h,g),x(g,m),x(f,b),x(f,v);for(let t=0;t<K.length;t+=1)K[t].m(v,null);x(p,$),x(p,y),x(y,w),x(w,S),x(S,R),x(y,j),x(y,I);for(let t=0;t<J.length;t+=1)J[t].m(I,null);k(u,T,q),k(u,A,q),wt(M,A,null),z=!0,H||(U=C(n,"click",t[13]),H=!0)},p(t,e){if((!z||128&e)&&D!==(D=t[7]("new_button")+"")&&P(o,D),(!z||128&e)&&W!==(W=t[7]("export_button")+"")&&P(a,W),(!z||32&e)&&N(i,"href",t[5]),(!z||64&e)&&N(i,"download",t[6]),(!z||128&e)&&F!==(F=t[7]("print_button")+"")&&P(c,F),(!z||4&e&&u!==(u="report?uuid="+t[2].uuid))&&N(l,"href",u),(!z||128&e)&&B!==(B=t[7]("filter_by_status_title")+"")&&P(m,B),1154&e){let n;for(G=t[10],n=0;n<G.length;n+=1){const o=xa(t,G,n);K[n]?K[n].p(o,e):(K[n]=_a(o),K[n].c(),K[n].m(v,null))}for(;n<K.length;n+=1)K[n].d(1);K.length=G.length}if((!z||128&e)&&V!==(V=t[7]("filter_by_group_title")+"")&&P(R,V),657&e){let n;for(Y=t[9],n=0;n<Y.length;n+=1){const o=wa(t,Y,n);J[n]?J[n].p(o,e):(J[n]=Ea(o),J[n].c(),J[n].m(I,null))}for(;n<J.length;n+=1)J[n].d(1);J.length=Y.length}const n={};16&e&&(n.infoPane=t[4]),M.$set(n)},i(t){z||(ht(M.$$.fragment,t),z=!0)},o(t){gt(M.$$.fragment,t),z=!1},d(t){t&&q(e),t&&q(d),t&&q(p),_(K,t),_(J,t),t&&q(T),t&&q(A),xt(M),H=!1,U()}}}function qa(t){let e,n,o;var s=t[3];function i(t){return{props:{backAction:t[12]}}}return s&&(e=new s(i(t))),{c(){e&&yt(e.$$.fragment),n=R()},m(t,s){e&&wt(e,t,s),k(t,n,s),o=!0},p(t,o){const a={};if(8&o&&(a.backAction=t[12]),s!==(s=t[3])){if(e){pt();const t=e;gt(t.$$.fragment,1,0,(()=>{xt(t,1)})),ft()}s?(e=new s(i(t)),yt(e.$$.fragment),ht(e.$$.fragment,1),wt(e,n.parentNode,n)):e=null}else s&&e.$set(a)},i(t){o||(e&&ht(e.$$.fragment,t),o=!0)},o(t){e&&gt(e.$$.fragment,t),o=!1},d(t){t&&q(n),e&&xt(e,t)}}}function _a(t){let e,n,o,s,i,a,r,l,c=t[7](`status:${t[22]}`)+"";return{c(){e=E("li"),n=E("input"),o=L(),s=E("label"),i=O(c),a=L(),N(n,"id",t[22]),N(n,"type","checkbox"),n.__value=t[22],n.value=n.__value,t[15][1].push(n),N(s,"for",t[22]),N(e,"class","svelte-crgqol")},m(c,u){k(c,e,u),x(e,n),n.checked=~t[1].indexOf(n.__value),x(e,o),x(e,s),x(s,i),x(e,a),r||(l=C(n,"change",t[14]),r=!0)},p(t,e){2&e&&(n.checked=~t[1].indexOf(n.__value)),128&e&&c!==(c=t[7](`status:${t[22]}`)+"")&&P(i,c)},d(o){o&&q(e),t[15][1].splice(t[15][1].indexOf(n),1),r=!1,l()}}}function Ea(t){let e,n,o,s,a,r,l,c,u=t[7](`group:${t[19]}`)+"";function d(){return t[17](t[19])}return{c(){e=E("li"),n=E("input"),o=L(),s=E("label"),a=O(u),r=L(),N(n,"id",t[19]),N(n,"type","checkbox"),n.__value=t[19],n.value=n.__value,t[15][0].push(n),N(s,"for",t[19]),N(e,"class","svelte-crgqol")},m(i,u){k(i,e,u),x(e,n),n.checked=~t[0].indexOf(n.__value),x(e,o),x(e,s),x(s,a),x(e,r),l||(c=[C(n,"change",t[16]),C(e,"mouseover",d),C(e,"mouseout",t[18])],l=!0)},p(e,o){t=e,1&o&&(n.checked=~t[0].indexOf(n.__value)),128&o&&u!==(u=t[7](`group:${t[19]}`)+"")&&P(a,u)},d(o){o&&q(e),t[15][0].splice(t[15][0].indexOf(n),1),l=!1,i(c)}}}function Sa(t){let e,n,o,s;const i=[qa,ka],a=[];function r(t,e){return t[3]?0:1}return n=r(t),o=a[n]=i[n](t),{c(){e=E("aside"),o.c(),N(e,"class","container svelte-crgqol")},m(t,o){k(t,e,o),a[n].m(e,null),s=!0},p(t,[s]){let l=n;n=r(t),n===l?a[n].p(t,s):(pt(),gt(a[l],1,1,(()=>{a[l]=null})),ft(),o=a[n],o?o.p(t,s):(o=a[n]=i[n](t),o.c()),ht(o,1),o.m(e,null))},i(t){s||(ht(o),s=!0)},o(t){gt(o),s=!1},d(t){t&&q(e),a[n].d()}}}function Oa(t,e,n){let o,s,i,a,r;c(t,ge,(t=>n(2,i=t))),c(t,me,(t=>n(11,a=t)));const{t:l}=un();c(t,l,(t=>n(7,r=t)));const u=Object.keys(re),d=Object.keys(le);let p,f,h=u,g=d;const m=[[],[]];return t.$$.update=()=>{if(7&t.$$.dirty)for(let t=0;t<i.blobs.length;t++)Gs.setState(i.blobs[t].id,!(h.includes(i.blobs[t].group)&&g.includes(i.blobs[t].status||le.IN_PROGRESS)));2048&t.$$.dirty&&n(5,o=URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"}))),4&t.$$.dirty&&n(6,s=`DataEthicsCanvas_${i.uuid}.json`)},[h,g,i,p,f,o,s,r,l,u,d,a,()=>n(3,p=void 0),()=>n(3,p=ya),function(){g=A(m[1],this.__value,this.checked),n(1,g)},m,function(){h=A(m[0],this.__value,this.checked),n(0,h)},t=>n(4,f=t),()=>n(4,f=void 0)]}class La extends _t{constructor(t){super(),qt(this,t,Oa,Sa,r,{})}}function Ra(e){let n,o,s,i,a,r,l,c,u,d,p,f,h,g=e[1].toLocaleString()+"",m=e[2]("status:"+e[0])+"";return{c(){n=E("ul"),o=E("li"),s=O("Last saved: "),i=O(g),a=E("br"),r=O("Status: "),l=O(m),c=L(),u=E("li"),d=E("span"),d.innerHTML='Data Ethics Canvas by <a href="https://theodi.org" class="svelte-1f56qfh">The Open Data Institute</a> is licensed under a <br/> \n    <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/" class="svelte-1f56qfh">Creative Commons Attribution-ShareAlike 4.0 International License</a>',p=L(),f=E("img"),N(o,"class","grow svelte-1f56qfh"),N(d,"class","about"),f.src!==(h=Ca)&&N(f,"src",h),N(f,"alt","cc-by-sa license"),N(f,"class","svelte-1f56qfh"),N(u,"class","license svelte-1f56qfh"),N(n,"class","svelte-1f56qfh")},m(t,e){k(t,n,e),x(n,o),x(o,s),x(o,i),x(o,a),x(o,r),x(o,l),x(n,c),x(n,u),x(u,d),x(u,p),x(u,f)},p(t,[e]){2&e&&g!==(g=t[1].toLocaleString()+"")&&P(i,g),5&e&&m!==(m=t[2]("status:"+t[0])+"")&&P(l,m)},i:t,o:t,d(t){t&&q(n)}}}const Ca="images/CC-BY-SA_icon_white.png";function ja(t,e,n){let o,s,i;c(t,ge,(t=>n(4,o=t))),c(t,te,(t=>n(1,s=t)));const{t:a}=un();let r;return c(t,a,(t=>n(2,i=t))),t.$$.update=()=>{16&t.$$.dirty&&n(0,r=na(o.blobs))},[r,s,i,a,o]}class Na extends _t{constructor(t){super(),qt(this,t,ja,Ra,r,{})}}const Ia="DEC_WELCOME_SURPRESSED",Ta=()=>"TRUE"===localStorage.getItem(Ia);function Aa(t){let e,n,o,s,a,r,l,c,u,d,p,f,h,g,m,b,v,$,y,w,_,S,O,R,j,I,T,A,P,M,z,H,U,D,W,F,B;return a=new Di({props:{data:Wi,scale:"2"}}),{c(){var t,i,x;e=E("div"),n=E("section"),o=E("p"),s=E("button"),yt(a.$$.fragment),r=L(),l=E("h2"),l.textContent="Welcome",c=L(),u=E("p"),u.textContent="The ODI Data Ethics Canvas is a tool for anyone who collects, shares or uses data. It helps identify and manage ethical issues – at the start of a project that uses data, and throughout.",d=L(),p=E("img"),h=L(),g=E("p"),g.textContent="Click on each bubble to:",m=L(),b=E("ol"),b.innerHTML='<li class="svelte-xlzyji">Complete specific questions related to each area.</li> \n      <li class="svelte-xlzyji">Access further guidance on each area as well as discover links to additional resources and learning related to each area.</li> \n      <li class="svelte-xlzyji">Create actions and note decisions. The &quot;Your Actions&quot; bubble collates all actions/decisions and allows you to add additional ones.</li> \n      <li class="svelte-xlzyji">Set a status for each area.</li>',v=L(),$=E("span"),$.textContent=" ",y=L(),w=E("h3"),w.textContent="Saving your work",_=L(),S=E("img"),R=L(),j=E("p"),j.textContent="Please note that all progress is saved locally in your browser (no data ever leaves your computer).\n      If you are in private browsing mode then once you close the tab all progress will be lost.\n      The same is true if you clear your browsing history.",I=L(),T=E("p"),T.textContent="To save your progress you can:",A=L(),P=E("ul"),P.innerHTML='<li class="svelte-xlzyji">Download each canvas using the button in the control panel</li> \n      <li class="svelte-xlzyji">Click the download ( ) or share ( ) icons against each canvas in the New / Load area.</li>',M=L(),z=E("p"),H=E("label"),H.textContent="Don't show this message again",U=L(),D=E("input"),N(s,"class","close svelte-xlzyji"),N(o,"class","right svelte-xlzyji"),N(l,"class","svelte-xlzyji"),N(u,"class","centred svelte-xlzyji"),p.src!==(f="./images/example-editor.png")&&N(p,"src","./images/example-editor.png"),N(p,"alt","An example of one of the canvas editors in its opened state"),N(p,"class","svelte-xlzyji"),t="padding-top",i="1em",g.style.setProperty(t,i,x?"important":""),N(g,"class","svelte-xlzyji"),N(b,"class","svelte-xlzyji"),N($,"class","bottom-border svelte-xlzyji"),N(w,"class","svelte-xlzyji"),S.src!==(O="./images/example-load-card.png")&&N(S,"src","./images/example-load-card.png"),N(S,"alt","An example of one a canvas load card."),N(S,"class","svelte-xlzyji"),N(j,"class","svelte-xlzyji"),N(T,"class","svelte-xlzyji"),N(P,"class","svelte-xlzyji"),N(H,"for","save-choice"),N(D,"id","save-choice"),N(D,"type","checkbox"),N(z,"class","right svelte-xlzyji"),N(n,"class","svelte-xlzyji"),N(e,"class","svelte-xlzyji")},m(i,f){k(i,e,f),x(e,n),x(n,o),x(o,s),wt(a,s,null),x(n,r),x(n,l),x(n,c),x(n,u),x(n,d),x(n,p),x(n,h),x(n,g),x(n,m),x(n,b),x(n,v),x(n,$),x(n,y),x(n,w),x(n,_),x(n,S),x(n,R),x(n,j),x(n,I),x(n,T),x(n,A),x(n,P),x(n,M),x(n,z),x(z,H),x(z,U),x(z,D),D.checked=t[1],W=!0,F||(B=[C(s,"click",t[2]),C(D,"change",t[3])],F=!0)},p(t,e){2&e&&(D.checked=t[1])},i(t){W||(ht(a.$$.fragment,t),W=!0)},o(t){gt(a.$$.fragment,t),W=!1},d(t){t&&q(e),xt(a),F=!1,i(B)}}}function Pa(t){let e,n,o=!t[0]&&!Ta(),s=o&&Aa(t);return{c(){s&&s.c(),e=R()},m(t,o){s&&s.m(t,o),k(t,e,o),n=!0},p(t,[n]){1&n&&(o=!t[0]&&!Ta()),o?s?(s.p(t,n),1&n&&ht(s,1)):(s=Aa(t),s.c(),ht(s,1),s.m(e.parentNode,e)):s&&(pt(),gt(s,1,1,(()=>{s=null})),ft())},i(t){n||(ht(s),n=!0)},o(t){gt(s),n=!1},d(t){s&&s.d(t),t&&q(e)}}}function Ma(t,e,n){let o=!1,s=!1;return[o,s,()=>{s&&localStorage.setItem(Ia,"TRUE"),n(0,o=!0)},function(){s=this.checked,n(1,s)}]}class za extends _t{constructor(t){super(),qt(this,t,Ma,Pa,r,{})}}function Ha(e){let n,o;return{c:t,m(t,e){var s;n||(o=C(window,"beforeunload",(s=Ua,function(t){return t.preventDefault(),s.call(this,t)})),n=!0)},p:t,i:t,o:t,d(t){n=!1,o()}}}function Ua(t){t.returnValue=""}class Da extends _t{constructor(t){super(),qt(this,t,null,Ha,r,{})}}function Wa(e){let n,o,s,i,a,r,l,c,u,d,p,f,h;return s=new li({}),a=new La({}),c=new Na({}),d=new za({}),f=new Da({}),{c(){n=E("main"),o=E("section"),yt(s.$$.fragment),i=L(),yt(a.$$.fragment),r=L(),l=E("footer"),yt(c.$$.fragment),u=L(),yt(d.$$.fragment),p=L(),yt(f.$$.fragment),N(o,"class","svelte-1oyfrg6"),N(n,"role","main"),N(n,"class","svelte-1oyfrg6")},m(t,e){k(t,n,e),x(n,o),wt(s,o,null),x(o,i),wt(a,o,null),x(n,r),x(n,l),wt(c,l,null),x(n,u),wt(d,n,null),x(n,p),wt(f,n,null),h=!0},p:t,i(t){h||(ht(s.$$.fragment,t),ht(a.$$.fragment,t),ht(c.$$.fragment,t),ht(d.$$.fragment,t),ht(f.$$.fragment,t),h=!0)},o(t){gt(s.$$.fragment,t),gt(a.$$.fragment,t),gt(c.$$.fragment,t),gt(d.$$.fragment,t),gt(f.$$.fragment,t),h=!1},d(t){t&&q(n),xt(s),xt(a),xt(c),xt(d),xt(f)}}}function Fa(t){return dn(),[]}return new class extends _t{constructor(t){super(),qt(this,t,Fa,Wa,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
